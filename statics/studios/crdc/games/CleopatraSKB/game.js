/*!
 * pixi.js - v4.5.3
 * Compiled Wed, 14 Jun 2017 20:12:21 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */

/**
 * isMobile.js v0.4.0
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */

/*
object-assign
(c) Sindre Sorhus
@license MIT
*/

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

/*! https://mths.be/punycode v1.4.1 by @mathias */

/**
 * The height of the top row (c)
 *
 * @member {number}
 * @memberof PIXI.NineSlicePlane#
 * @override
 */

/*! howler.js v2.0.7 | (c) 2013-2017, James Simpson of GoldFire Studios | MIT License | howlerjs.com */

/*! Spatial Plugin */

/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash compat exports="amd" -d -o /rdisks/sf-netapp01-jenkinbuild/workspace/SkateboardPlatform-MessageBus-mainline/target/checkout/target/messagebus/lodash.js include="main,after,arraySome,debounce,createForEach,arrayEach,baseEach,baseAssign,arrayFilter,isEqual,keys,arrayMap,throttle,root,isObject,now,bindCallback,isArray,baseForOwn,createBaseEach,baseCopy,baseIsEqual,getNative,isArrayLike,shimKeys,each,extend,bind,reduce,defaults,map,any,filter,find,contains,clone,without,cloneDeep,isPlainObject"`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/**
 * riveter - Mix-in, inheritance and constructor extend behavior for your JavaScript enjoyment.
 * Â© 2012 - Copyright appendTo, LLC 
 * Author(s): Jim Cowart, Nicholas Cloud, Doug Neiner
 * Version: v0.1.2
 * Url: https://github.com/a2labs/riveter
 * License(s): MIT
 */

/**
 * Fast UUID generator, RFC4122 version 4 compliant.
 * @author Jeff Ward (jcward.com).
 * @license MIT license
 * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
 **/

! function() {
    define("skbJet/component/gameMsgBus/GameMsgBus", [], function() {
            function e(e) {
                setTimeout(function() {
                    r.publish("error", {
                        errorCode: "GM-003",
                        message: "" + e
                    })
                }, 3)
            }

            function t(e, t) {
                setTimeout(function() {
                    t(e)
                }, 0)
            }
            var n = {},
                r = {};
            return r.subscribe = function(e, t) {
                if (!e) return r;
                if (!t) return r;
                var i = n[e];
                return i || (i = [], n[e] = i), i.indexOf(t) < 0 && i.push(t), r
            }, r.unsubscribe = function(e, t) {
                var i = n[e];
                if (i) {
                    var o = i.indexOf(t);
                    o >= 0 && i.splice(o, 1)
                }
                return r
            }, r.publish = function(i, o, a) {
                var s = n[i];
                if (!s) return r;
                for (var u = 0; u < s.length; u++) try {
                    a ? t(o, s[u]) : s[u](o)
                } catch (t) {
                    e(t)
                }
                return r
            }, r
        }),
        function(e) {
            if ("object" == typeof exports && "undefined" != typeof module) module.exports = e();
            else if ("function" == typeof define && define.amd) define("com/pixijs/pixi", [], e);
            else {
                var t;
                t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, t.PIXI = e()
            }
        }(function() {
            var e;
            return function e(t, n, r) {
                function i(a, s) {
                    if (!n[a]) {
                        if (!t[a]) {
                            var u = "function" == typeof require && require;
                            if (!s && u) return u(a, !0);
                            if (o) return o(a, !0);
                            var l = new Error("Cannot find module '" + a + "'");
                            throw l.code = "MODULE_NOT_FOUND", l
                        }
                        var c = n[a] = {
                            exports: {}
                        };
                        t[a][0].call(c.exports, function(e) {
                            var n = t[a][1][e];
                            return i(n || e)
                        }, c, c.exports, e, t, n, r)
                    }
                    return n[a].exports
                }
                for (var o = "function" == typeof require && require, a = 0; a < r.length; a++) i(r[a]);
                return i
            }({
                1: [function(e, t, n) {
                    "use restrict";

                    function r(e) {
                        var t = 32;
                        return e &= -e, e && t--, 65535 & e && (t -= 16), 16711935 & e && (t -= 8), 252645135 & e && (t -= 4), 858993459 & e && (t -= 2), 1431655765 & e && (t -= 1), t
                    }
                    n.INT_BITS = 32, n.INT_MAX = 2147483647, n.INT_MIN = -1 << 31, n.sign = function(e) {
                        return (e > 0) - (e < 0)
                    }, n.abs = function(e) {
                        var t = e >> 31;
                        return (e ^ t) - t
                    }, n.min = function(e, t) {
                        return t ^ (e ^ t) & -(e < t)
                    }, n.max = function(e, t) {
                        return e ^ (e ^ t) & -(e < t)
                    }, n.isPow2 = function(e) {
                        return !(e & e - 1 || !e)
                    }, n.log2 = function(e) {
                        var t, n;
                        return t = (e > 65535) << 4, e >>>= t, n = (e > 255) << 3, e >>>= n, t |= n, n = (e > 15) << 2, e >>>= n, t |= n, n = (e > 3) << 1, e >>>= n, (t |= n) | e >> 1
                    }, n.log10 = function(e) {
                        return e >= 1e9 ? 9 : e >= 1e8 ? 8 : e >= 1e7 ? 7 : e >= 1e6 ? 6 : e >= 1e5 ? 5 : e >= 1e4 ? 4 : e >= 1e3 ? 3 : e >= 100 ? 2 : e >= 10 ? 1 : 0
                    }, n.popCount = function(e) {
                        return e -= e >>> 1 & 1431655765, 16843009 * ((e = (858993459 & e) + (e >>> 2 & 858993459)) + (e >>> 4) & 252645135) >>> 24
                    }, n.countTrailingZeros = r, n.nextPow2 = function(e) {
                        return e += 0 === e, --e, e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, (e |= e >>> 16) + 1
                    }, n.prevPow2 = function(e) {
                        return e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, (e |= e >>> 16) - (e >>> 1)
                    }, n.parity = function(e) {
                        return e ^= e >>> 16, e ^= e >>> 8, e ^= e >>> 4, 27030 >>> (e &= 15) & 1
                    };
                    var i = new Array(256);
                    ! function(e) {
                        for (var t = 0; t < 256; ++t) {
                            var n = t,
                                r = t,
                                i = 7;
                            for (n >>>= 1; n; n >>>= 1) r <<= 1, r |= 1 & n, --i;
                            e[t] = r << i & 255
                        }
                    }(i), n.reverse = function(e) {
                        return i[255 & e] << 24 | i[e >>> 8 & 255] << 16 | i[e >>> 16 & 255] << 8 | i[e >>> 24 & 255]
                    }, n.interleave2 = function(e, t) {
                        return e &= 65535, e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t &= 65535, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e | t << 1
                    }, n.deinterleave2 = function(e, t) {
                        return e = e >>> t & 1431655765, e = 858993459 & (e | e >>> 1), e = 252645135 & (e | e >>> 2), e = 16711935 & (e | e >>> 4), (e = 65535 & (e | e >>> 16)) << 16 >> 16
                    }, n.interleave3 = function(e, t, n) {
                        return e &= 1023, e = 4278190335 & (e | e << 16), e = 251719695 & (e | e << 8), e = 3272356035 & (e | e << 4), e = 1227133513 & (e | e << 2), t &= 1023, t = 4278190335 & (t | t << 16), t = 251719695 & (t | t << 8), t = 3272356035 & (t | t << 4), t = 1227133513 & (t | t << 2), e |= t << 1, n &= 1023, n = 4278190335 & (n | n << 16), n = 251719695 & (n | n << 8), n = 3272356035 & (n | n << 4), n = 1227133513 & (n | n << 2), e | n << 2
                    }, n.deinterleave3 = function(e, t) {
                        return e = e >>> t & 1227133513, e = 3272356035 & (e | e >>> 2), e = 251719695 & (e | e >>> 4), e = 4278190335 & (e | e >>> 8), (e = 1023 & (e | e >>> 16)) << 22 >> 22
                    }, n.nextCombination = function(e) {
                        var t = e | e - 1;
                        return t + 1 | (~t & -~t) - 1 >>> r(e) + 1
                    }
                }, {}],
                2: [function(e, t, n) {
                    "use strict";

                    function r(e, t, n) {
                        n = n || 2;
                        var r = t && t.length,
                            o = r ? t[0] * n : e.length,
                            s = i(e, 0, o, n, !0),
                            u = [];
                        if (!s) return u;
                        var l, c, d, f, p, m, g;
                        if (r && (s = h(e, t, s, n)), e.length > 80 * n) {
                            l = d = e[0], c = f = e[1];
                            for (var _ = n; _ < o; _ += n) p = e[_], m = e[_ + 1], p < l && (l = p), m < c && (c = m), p > d && (d = p), m > f && (f = m);
                            g = Math.max(d - l, f - c)
                        }
                        return a(s, u, n, l, c, g), u
                    }

                    function i(e, t, n, r, i) {
                        var o, a;
                        if (i === I(e, t, n, r) > 0)
                            for (o = t; o < n; o += r) a = O(o, e[o], e[o + 1], a);
                        else
                            for (o = n - r; o >= t; o -= r) a = O(o, e[o], e[o + 1], a);
                        return a && T(a, a.next) && (A(a), a = a.next), a
                    }

                    function o(e, t) {
                        if (!e) return e;
                        t || (t = e);
                        var n, r = e;
                        do {
                            if (n = !1, r.steiner || !T(r, r.next) && 0 !== x(r.prev, r, r.next)) r = r.next;
                            else {
                                if (A(r), (r = t = r.prev) === r.next) return null;
                                n = !0
                            }
                        } while (n || r !== t);
                        return t
                    }

                    function a(e, t, n, r, i, h, d) {
                        if (e) {
                            !d && h && m(e, r, i, h);
                            for (var f, p, g = e; e.prev !== e.next;)
                                if (f = e.prev, p = e.next, h ? u(e, r, i, h) : s(e)) t.push(f.i / n), t.push(e.i / n), t.push(p.i / n), A(e), e = p.next, g = p.next;
                                else if ((e = p) === g) {
                                d ? 1 === d ? (e = l(e, t, n), a(e, t, n, r, i, h, 2)) : 2 === d && c(e, t, n, r, i, h) : a(o(e), t, n, r, i, h, 1);
                                break
                            }
                        }
                    }

                    function s(e) {
                        var t = e.prev,
                            n = e,
                            r = e.next;
                        if (x(t, n, r) >= 0) return !1;
                        for (var i = e.next.next; i !== e.prev;) {
                            if (v(t.x, t.y, n.x, n.y, r.x, r.y, i.x, i.y) && x(i.prev, i, i.next) >= 0) return !1;
                            i = i.next
                        }
                        return !0
                    }

                    function u(e, t, n, r) {
                        var i = e.prev,
                            o = e,
                            a = e.next;
                        if (x(i, o, a) >= 0) return !1;
                        for (var s = i.x < o.x ? i.x < a.x ? i.x : a.x : o.x < a.x ? o.x : a.x, u = i.y < o.y ? i.y < a.y ? i.y : a.y : o.y < a.y ? o.y : a.y, l = i.x > o.x ? i.x > a.x ? i.x : a.x : o.x > a.x ? o.x : a.x, c = i.y > o.y ? i.y > a.y ? i.y : a.y : o.y > a.y ? o.y : a.y, h = _(s, u, t, n, r), d = _(l, c, t, n, r), f = e.nextZ; f && f.z <= d;) {
                            if (f !== e.prev && f !== e.next && v(i.x, i.y, o.x, o.y, a.x, a.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
                            f = f.nextZ
                        }
                        for (f = e.prevZ; f && f.z >= h;) {
                            if (f !== e.prev && f !== e.next && v(i.x, i.y, o.x, o.y, a.x, a.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
                            f = f.prevZ
                        }
                        return !0
                    }

                    function l(e, t, n) {
                        var r = e;
                        do {
                            var i = r.prev,
                                o = r.next.next;
                            !T(i, o) && w(i, r, r.next, o) && E(i, o) && E(o, i) && (t.push(i.i / n), t.push(r.i / n), t.push(o.i / n), A(r), A(r.next), r = e = o), r = r.next
                        } while (r !== e);
                        return r
                    }

                    function c(e, t, n, r, i, s) {
                        var u = e;
                        do {
                            for (var l = u.next.next; l !== u.prev;) {
                                if (u.i !== l.i && b(u, l)) {
                                    var c = P(u, l);
                                    return u = o(u, u.next), c = o(c, c.next), a(u, t, n, r, i, s), void a(c, t, n, r, i, s)
                                }
                                l = l.next
                            }
                            u = u.next
                        } while (u !== e)
                    }

                    function h(e, t, n, r) {
                        var a, s, u, l, c, h = [];
                        for (a = 0, s = t.length; a < s; a++) u = t[a] * r, l = a < s - 1 ? t[a + 1] * r : e.length, c = i(e, u, l, r, !1), c === c.next && (c.steiner = !0), h.push(y(c));
                        for (h.sort(d), a = 0; a < h.length; a++) f(h[a], n), n = o(n, n.next);
                        return n
                    }

                    function d(e, t) {
                        return e.x - t.x
                    }

                    function f(e, t) {
                        if (t = p(e, t)) {
                            var n = P(t, e);
                            o(n, n.next)
                        }
                    }

                    function p(e, t) {
                        var n, r = t,
                            i = e.x,
                            o = e.y,
                            a = -1 / 0;
                        do {
                            if (o <= r.y && o >= r.next.y) {
                                var s = r.x + (o - r.y) * (r.next.x - r.x) / (r.next.y - r.y);
                                if (s <= i && s > a) {
                                    if (a = s, s === i) {
                                        if (o === r.y) return r;
                                        if (o === r.next.y) return r.next
                                    }
                                    n = r.x < r.next.x ? r : r.next
                                }
                            }
                            r = r.next
                        } while (r !== t);
                        if (!n) return null;
                        if (i === a) return n.prev;
                        var u, l = n,
                            c = n.x,
                            h = n.y,
                            d = 1 / 0;
                        for (r = n.next; r !== l;) i >= r.x && r.x >= c && v(o < h ? i : a, o, c, h, o < h ? a : i, o, r.x, r.y) && ((u = Math.abs(o - r.y) / (i - r.x)) < d || u === d && r.x > n.x) && E(r, e) && (n = r, d = u), r = r.next;
                        return n
                    }

                    function m(e, t, n, r) {
                        var i = e;
                        do {
                            null === i.z && (i.z = _(i.x, i.y, t, n, r)), i.prevZ = i.prev, i.nextZ = i.next, i = i.next
                        } while (i !== e);
                        i.prevZ.nextZ = null, i.prevZ = null, g(i)
                    }

                    function g(e) {
                        var t, n, r, i, o, a, s, u, l = 1;
                        do {
                            for (n = e, e = null, o = null, a = 0; n;) {
                                for (a++, r = n, s = 0, t = 0; t < l && (s++, r = r.nextZ); t++);
                                for (u = l; s > 0 || u > 0 && r;) 0 === s ? (i = r, r = r.nextZ, u--) : 0 !== u && r ? n.z <= r.z ? (i = n, n = n.nextZ, s--) : (i = r, r = r.nextZ, u--) : (i = n, n = n.nextZ, s--), o ? o.nextZ = i : e = i, i.prevZ = o, o = i;
                                n = r
                            }
                            o.nextZ = null, l *= 2
                        } while (a > 1);
                        return e
                    }

                    function _(e, t, n, r, i) {
                        return e = 32767 * (e - n) / i, t = 32767 * (t - r) / i, e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e | t << 1
                    }

                    function y(e) {
                        var t = e,
                            n = e;
                        do {
                            t.x < n.x && (n = t), t = t.next
                        } while (t !== e);
                        return n
                    }

                    function v(e, t, n, r, i, o, a, s) {
                        return (i - a) * (t - s) - (e - a) * (o - s) >= 0 && (e - a) * (r - s) - (n - a) * (t - s) >= 0 && (n - a) * (o - s) - (i - a) * (r - s) >= 0
                    }

                    function b(e, t) {
                        return e.next.i !== t.i && e.prev.i !== t.i && !S(e, t) && E(e, t) && E(t, e) && C(e, t)
                    }

                    function x(e, t, n) {
                        return (t.y - e.y) * (n.x - t.x) - (t.x - e.x) * (n.y - t.y)
                    }

                    function T(e, t) {
                        return e.x === t.x && e.y === t.y
                    }

                    function w(e, t, n, r) {
                        return !!(T(e, t) && T(n, r) || T(e, r) && T(n, t)) || x(e, t, n) > 0 != x(e, t, r) > 0 && x(n, r, e) > 0 != x(n, r, t) > 0
                    }

                    function S(e, t) {
                        var n = e;
                        do {
                            if (n.i !== e.i && n.next.i !== e.i && n.i !== t.i && n.next.i !== t.i && w(n, n.next, e, t)) return !0;
                            n = n.next
                        } while (n !== e);
                        return !1
                    }

                    function E(e, t) {
                        return x(e.prev, e, e.next) < 0 ? x(e, t, e.next) >= 0 && x(e, e.prev, t) >= 0 : x(e, t, e.prev) < 0 || x(e, e.next, t) < 0
                    }

                    function C(e, t) {
                        var n = e,
                            r = !1,
                            i = (e.x + t.x) / 2,
                            o = (e.y + t.y) / 2;
                        do {
                            n.y > o != n.next.y > o && i < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (r = !r), n = n.next
                        } while (n !== e);
                        return r
                    }

                    function P(e, t) {
                        var n = new M(e.i, e.x, e.y),
                            r = new M(t.i, t.x, t.y),
                            i = e.next,
                            o = t.prev;
                        return e.next = t, t.prev = e, n.next = i, i.prev = n, r.next = n, n.prev = r, o.next = r, r.prev = o, r
                    }

                    function O(e, t, n, r) {
                        var i = new M(e, t, n);
                        return r ? (i.next = r.next, i.prev = r, r.next.prev = i, r.next = i) : (i.prev = i, i.next = i), i
                    }

                    function A(e) {
                        e.next.prev = e.prev, e.prev.next = e.next, e.prevZ && (e.prevZ.nextZ = e.nextZ), e.nextZ && (e.nextZ.prevZ = e.prevZ)
                    }

                    function M(e, t, n) {
                        this.i = e, this.x = t, this.y = n, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
                    }

                    function I(e, t, n, r) {
                        for (var i = 0, o = t, a = n - r; o < n; o += r) i += (e[a] - e[o]) * (e[o + 1] + e[a + 1]), a = o;
                        return i
                    }
                    t.exports = r, r.deviation = function(e, t, n, r) {
                        var i = t && t.length,
                            o = i ? t[0] * n : e.length,
                            a = Math.abs(I(e, 0, o, n));
                        if (i)
                            for (var s = 0, u = t.length; s < u; s++) {
                                var l = t[s] * n,
                                    c = s < u - 1 ? t[s + 1] * n : e.length;
                                a -= Math.abs(I(e, l, c, n))
                            }
                        var h = 0;
                        for (s = 0; s < r.length; s += 3) {
                            var d = r[s] * n,
                                f = r[s + 1] * n,
                                p = r[s + 2] * n;
                            h += Math.abs((e[d] - e[p]) * (e[f + 1] - e[d + 1]) - (e[d] - e[f]) * (e[p + 1] - e[d + 1]))
                        }
                        return 0 === a && 0 === h ? 0 : Math.abs((h - a) / a)
                    }, r.flatten = function(e) {
                        for (var t = e[0][0].length, n = {
                                vertices: [],
                                holes: [],
                                dimensions: t
                            }, r = 0, i = 0; i < e.length; i++) {
                            for (var o = 0; o < e[i].length; o++)
                                for (var a = 0; a < t; a++) n.vertices.push(e[i][o][a]);
                            i > 0 && (r += e[i - 1].length, n.holes.push(r))
                        }
                        return n
                    }
                }, {}],
                3: [function(e, t, n) {
                    "use strict";

                    function r() {}

                    function i(e, t, n) {
                        this.fn = e, this.context = t, this.once = n || !1
                    }

                    function o() {
                        this._events = new r, this._eventsCount = 0
                    }
                    var a = Object.prototype.hasOwnProperty,
                        s = "~";
                    Object.create && (r.prototype = Object.create(null), (new r).__proto__ || (s = !1)), o.prototype.eventNames = function() {
                        var e, t, n = [];
                        if (0 === this._eventsCount) return n;
                        for (t in e = this._events) a.call(e, t) && n.push(s ? t.slice(1) : t);
                        return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(e)) : n
                    }, o.prototype.listeners = function(e, t) {
                        var n = s ? s + e : e,
                            r = this._events[n];
                        if (t) return !!r;
                        if (!r) return [];
                        if (r.fn) return [r.fn];
                        for (var i = 0, o = r.length, a = new Array(o); i < o; i++) a[i] = r[i].fn;
                        return a
                    }, o.prototype.emit = function(e, t, n, r, i, o) {
                        var a = s ? s + e : e;
                        if (!this._events[a]) return !1;
                        var u, l, c = this._events[a],
                            h = arguments.length;
                        if (c.fn) {
                            switch (c.once && this.removeListener(e, c.fn, void 0, !0), h) {
                                case 1:
                                    return c.fn.call(c.context), !0;
                                case 2:
                                    return c.fn.call(c.context, t), !0;
                                case 3:
                                    return c.fn.call(c.context, t, n), !0;
                                case 4:
                                    return c.fn.call(c.context, t, n, r), !0;
                                case 5:
                                    return c.fn.call(c.context, t, n, r, i), !0;
                                case 6:
                                    return c.fn.call(c.context, t, n, r, i, o), !0
                            }
                            for (l = 1, u = new Array(h - 1); l < h; l++) u[l - 1] = arguments[l];
                            c.fn.apply(c.context, u)
                        } else {
                            var d, f = c.length;
                            for (l = 0; l < f; l++) switch (c[l].once && this.removeListener(e, c[l].fn, void 0, !0), h) {
                                case 1:
                                    c[l].fn.call(c[l].context);
                                    break;
                                case 2:
                                    c[l].fn.call(c[l].context, t);
                                    break;
                                case 3:
                                    c[l].fn.call(c[l].context, t, n);
                                    break;
                                case 4:
                                    c[l].fn.call(c[l].context, t, n, r);
                                    break;
                                default:
                                    if (!u)
                                        for (d = 1, u = new Array(h - 1); d < h; d++) u[d - 1] = arguments[d];
                                    c[l].fn.apply(c[l].context, u)
                            }
                        }
                        return !0
                    }, o.prototype.on = function(e, t, n) {
                        var r = new i(t, n || this),
                            o = s ? s + e : e;
                        return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], r] : this._events[o].push(r) : (this._events[o] = r, this._eventsCount++), this
                    }, o.prototype.once = function(e, t, n) {
                        var r = new i(t, n || this, !0),
                            o = s ? s + e : e;
                        return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], r] : this._events[o].push(r) : (this._events[o] = r, this._eventsCount++), this
                    }, o.prototype.removeListener = function(e, t, n, i) {
                        var o = s ? s + e : e;
                        if (!this._events[o]) return this;
                        if (!t) return 0 == --this._eventsCount ? this._events = new r : delete this._events[o], this;
                        var a = this._events[o];
                        if (a.fn) a.fn !== t || i && !a.once || n && a.context !== n || (0 == --this._eventsCount ? this._events = new r : delete this._events[o]);
                        else {
                            for (var u = 0, l = [], c = a.length; u < c; u++)(a[u].fn !== t || i && !a[u].once || n && a[u].context !== n) && l.push(a[u]);
                            l.length ? this._events[o] = 1 === l.length ? l[0] : l : 0 == --this._eventsCount ? this._events = new r : delete this._events[o]
                        }
                        return this
                    }, o.prototype.removeAllListeners = function(e) {
                        var t;
                        return e ? (t = s ? s + e : e, this._events[t] && (0 == --this._eventsCount ? this._events = new r : delete this._events[t])) : (this._events = new r, this._eventsCount = 0), this
                    }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prototype.setMaxListeners = function() {
                        return this
                    }, o.prefixed = s, o.EventEmitter = o, void 0 !== t && (t.exports = o)
                }, {}],
                4: [function(t, n, r) {
                    ! function(t) {
                        var r = /iPhone/i,
                            i = /iPod/i,
                            o = /iPad/i,
                            a = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
                            s = /Android/i,
                            u = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,
                            l = /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,
                            c = /IEMobile/i,
                            h = /(?=.*\bWindows\b)(?=.*\bARM\b)/i,
                            d = /BlackBerry/i,
                            f = /BB10/i,
                            p = /Opera Mini/i,
                            m = /(CriOS|Chrome)(?=.*\bMobile\b)/i,
                            g = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,
                            _ = new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)", "i"),
                            y = function(e, t) {
                                return e.test(t)
                            },
                            v = function(e) {
                                var t = e || navigator.userAgent,
                                    n = t.split("[FBAN");
                                if (void 0 !== n[1] && (t = n[0]), n = t.split("Twitter"), void 0 !== n[1] && (t = n[0]), this.apple = {
                                        phone: y(r, t),
                                        ipod: y(i, t),
                                        tablet: !y(r, t) && y(o, t),
                                        device: y(r, t) || y(i, t) || y(o, t)
                                    }, this.amazon = {
                                        phone: y(u, t),
                                        tablet: !y(u, t) && y(l, t),
                                        device: y(u, t) || y(l, t)
                                    }, this.android = {
                                        phone: y(u, t) || y(a, t),
                                        tablet: !y(u, t) && !y(a, t) && (y(l, t) || y(s, t)),
                                        device: y(u, t) || y(l, t) || y(a, t) || y(s, t)
                                    }, this.windows = {
                                        phone: y(c, t),
                                        tablet: y(h, t),
                                        device: y(c, t) || y(h, t)
                                    }, this.other = {
                                        blackberry: y(d, t),
                                        blackberry10: y(f, t),
                                        opera: y(p, t),
                                        firefox: y(g, t),
                                        chrome: y(m, t),
                                        device: y(d, t) || y(f, t) || y(p, t) || y(g, t) || y(m, t)
                                    }, this.seven_inch = y(_, t), this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch, this.phone = this.apple.phone || this.android.phone || this.windows.phone, this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet, "undefined" == typeof window) return this
                            },
                            b = function() {
                                var e = new v;
                                return e.Class = v, e
                            };
                        void 0 !== n && n.exports && "undefined" == typeof window ? n.exports = v : void 0 !== n && n.exports && "undefined" != typeof window ? n.exports = b() : "function" == typeof e && e.amd ? e("isMobile", [], t.isMobile = b()) : t.isMobile = b()
                    }(this)
                }, {}],
                5: [function(e, t, n) {
                    function r(e) {
                        if (null === e || void 0 === e) throw new TypeError("Object.assign cannot be called with null or undefined");
                        return Object(e)
                    }
                    var i = Object.getOwnPropertySymbols,
                        o = Object.prototype.hasOwnProperty,
                        a = Object.prototype.propertyIsEnumerable;
                    t.exports = function() {
                        try {
                            if (!Object.assign) return !1;
                            var e = new String("abc");
                            if (e[5] = "de", "5" === Object.getOwnPropertyNames(e)[0]) return !1;
                            for (var t = {}, n = 0; n < 10; n++) t["_" + String.fromCharCode(n)] = n;
                            if ("0123456789" !== Object.getOwnPropertyNames(t).map(function(e) {
                                    return t[e]
                                }).join("")) return !1;
                            var r = {};
                            return "abcdefghijklmnopqrst".split("").forEach(function(e) {
                                r[e] = e
                            }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
                        } catch (e) {
                            return !1
                        }
                    }() ? Object.assign : function(e, t) {
                        for (var n, s, u = r(e), l = 1; l < arguments.length; l++) {
                            n = Object(arguments[l]);
                            for (var c in n) o.call(n, c) && (u[c] = n[c]);
                            if (i) {
                                s = i(n);
                                for (var h = 0; h < s.length; h++) a.call(n, s[h]) && (u[s[h]] = n[s[h]])
                            }
                        }
                        return u
                    }
                }, {}],
                6: [function(e, t, n) {
                    var r = new ArrayBuffer(0),
                        i = function(e, t, n, i) {
                            this.gl = e, this.buffer = e.createBuffer(), this.type = t || e.ARRAY_BUFFER, this.drawType = i || e.STATIC_DRAW, this.data = r, n && this.upload(n)
                        };
                    i.prototype.upload = function(e, t, n) {
                        n || this.bind();
                        var r = this.gl;
                        e = e || this.data, t = t || 0, this.data.byteLength >= e.byteLength ? r.bufferSubData(this.type, t, e) : r.bufferData(this.type, e, this.drawType), this.data = e
                    }, i.prototype.bind = function() {
                        this.gl.bindBuffer(this.type, this.buffer)
                    }, i.createVertexBuffer = function(e, t, n) {
                        return new i(e, e.ARRAY_BUFFER, t, n)
                    }, i.createIndexBuffer = function(e, t, n) {
                        return new i(e, e.ELEMENT_ARRAY_BUFFER, t, n)
                    }, i.create = function(e, t, n, r) {
                        return new i(e, t, n, r)
                    }, i.prototype.destroy = function() {
                        this.gl.deleteBuffer(this.buffer)
                    }, t.exports = i
                }, {}],
                7: [function(e, t, n) {
                    var r = e("./GLTexture"),
                        i = function(e, t, n) {
                            this.gl = e, this.framebuffer = e.createFramebuffer(), this.stencil = null, this.texture = null, this.width = t || 100, this.height = n || 100
                        };
                    i.prototype.enableTexture = function(e) {
                        var t = this.gl;
                        this.texture = e || new r(t), this.texture.bind(), this.bind(), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, this.texture.texture, 0)
                    }, i.prototype.enableStencil = function() {
                        if (!this.stencil) {
                            var e = this.gl;
                            this.stencil = e.createRenderbuffer(), e.bindRenderbuffer(e.RENDERBUFFER, this.stencil), e.framebufferRenderbuffer(e.FRAMEBUFFER, e.DEPTH_STENCIL_ATTACHMENT, e.RENDERBUFFER, this.stencil), e.renderbufferStorage(e.RENDERBUFFER, e.DEPTH_STENCIL, this.width, this.height)
                        }
                    }, i.prototype.clear = function(e, t, n, r) {
                        this.bind();
                        var i = this.gl;
                        i.clearColor(e, t, n, r), i.clear(i.COLOR_BUFFER_BIT)
                    }, i.prototype.bind = function() {
                        var e = this.gl;
                        e.bindFramebuffer(e.FRAMEBUFFER, this.framebuffer)
                    }, i.prototype.unbind = function() {
                        var e = this.gl;
                        e.bindFramebuffer(e.FRAMEBUFFER, null)
                    }, i.prototype.resize = function(e, t) {
                        var n = this.gl;
                        this.width = e, this.height = t, this.texture && this.texture.uploadData(null, e, t), this.stencil && (n.bindRenderbuffer(n.RENDERBUFFER, this.stencil), n.renderbufferStorage(n.RENDERBUFFER, n.DEPTH_STENCIL, e, t))
                    }, i.prototype.destroy = function() {
                        var e = this.gl;
                        this.texture && this.texture.destroy(), e.deleteFramebuffer(this.framebuffer), this.gl = null, this.stencil = null, this.texture = null
                    }, i.createRGBA = function(e, t, n, o) {
                        var a = r.fromData(e, null, t, n);
                        a.enableNearestScaling(), a.enableWrapClamp();
                        var s = new i(e, t, n);
                        return s.enableTexture(a), s.unbind(), s
                    }, i.createFloat32 = function(e, t, n, o) {
                        var a = new r.fromData(e, o, t, n);
                        a.enableNearestScaling(), a.enableWrapClamp();
                        var s = new i(e, t, n);
                        return s.enableTexture(a), s.unbind(), s
                    }, t.exports = i
                }, {
                    "./GLTexture": 9
                }],
                8: [function(e, t, n) {
                    var r = e("./shader/compileProgram"),
                        i = e("./shader/extractAttributes"),
                        o = e("./shader/extractUniforms"),
                        a = e("./shader/generateUniformAccessObject"),
                        s = function(e, t, n) {
                            this.gl = e, this.program = r(e, t, n), this.attributes = i(e, this.program);
                            var s = o(e, this.program);
                            this.uniforms = a(e, s)
                        };
                    s.prototype.bind = function() {
                        this.gl.useProgram(this.program)
                    }, s.prototype.destroy = function() {}, t.exports = s
                }, {
                    "./shader/compileProgram": 14,
                    "./shader/extractAttributes": 16,
                    "./shader/extractUniforms": 17,
                    "./shader/generateUniformAccessObject": 18
                }],
                9: [function(e, t, n) {
                    var r = function(e, t, n, r, i) {
                        this.gl = e, this.texture = e.createTexture(), this.mipmap = !1, this.premultiplyAlpha = !1, this.width = t || -1, this.height = n || -1, this.format = r || e.RGBA, this.type = i || e.UNSIGNED_BYTE
                    };
                    r.prototype.upload = function(e) {
                        this.bind();
                        var t = this.gl;
                        t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
                        var n = e.videoWidth || e.width,
                            r = e.videoHeight || e.height;
                        r !== this.height || n !== this.width ? t.texImage2D(t.TEXTURE_2D, 0, this.format, this.format, this.type, e) : t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, this.format, this.type, e), this.width = n, this.height = r
                    };
                    var i = !1;
                    r.prototype.uploadData = function(e, t, n) {
                        this.bind();
                        var r = this.gl;
                        if (e instanceof Float32Array) {
                            if (!i) {
                                if (!r.getExtension("OES_texture_float")) throw new Error("floating point textures not available");
                                i = !0
                            }
                            this.type = r.FLOAT
                        } else this.type = r.UNSIGNED_BYTE;
                        r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha), t !== this.width || n !== this.height ? r.texImage2D(r.TEXTURE_2D, 0, this.format, t, n, 0, this.format, this.type, e || null) : r.texSubImage2D(r.TEXTURE_2D, 0, 0, 0, t, n, this.format, this.type, e || null), this.width = t, this.height = n
                    }, r.prototype.bind = function(e) {
                        var t = this.gl;
                        void 0 !== e && t.activeTexture(t.TEXTURE0 + e), t.bindTexture(t.TEXTURE_2D, this.texture)
                    }, r.prototype.unbind = function() {
                        var e = this.gl;
                        e.bindTexture(e.TEXTURE_2D, null)
                    }, r.prototype.minFilter = function(e) {
                        var t = this.gl;
                        this.bind(), this.mipmap ? t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, e ? t.LINEAR_MIPMAP_LINEAR : t.NEAREST_MIPMAP_NEAREST) : t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, e ? t.LINEAR : t.NEAREST)
                    }, r.prototype.magFilter = function(e) {
                        var t = this.gl;
                        this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, e ? t.LINEAR : t.NEAREST)
                    }, r.prototype.enableMipmap = function() {
                        var e = this.gl;
                        this.bind(), this.mipmap = !0, e.generateMipmap(e.TEXTURE_2D)
                    }, r.prototype.enableLinearScaling = function() {
                        this.minFilter(!0), this.magFilter(!0)
                    }, r.prototype.enableNearestScaling = function() {
                        this.minFilter(!1), this.magFilter(!1)
                    }, r.prototype.enableWrapClamp = function() {
                        var e = this.gl;
                        this.bind(), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE)
                    }, r.prototype.enableWrapRepeat = function() {
                        var e = this.gl;
                        this.bind(), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.REPEAT), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.REPEAT)
                    }, r.prototype.enableWrapMirrorRepeat = function() {
                        var e = this.gl;
                        this.bind(), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.MIRRORED_REPEAT), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.MIRRORED_REPEAT)
                    }, r.prototype.destroy = function() {
                        this.gl.deleteTexture(this.texture)
                    }, r.fromSource = function(e, t, n) {
                        var i = new r(e);
                        return i.premultiplyAlpha = n || !1, i.upload(t), i
                    }, r.fromData = function(e, t, n, i) {
                        var o = new r(e);
                        return o.uploadData(t, n, i), o
                    }, t.exports = r
                }, {}],
                10: [function(e, t, n) {
                    function r(e, t) {
                        if (this.nativeVaoExtension = null, r.FORCE_NATIVE || (this.nativeVaoExtension = e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object")), this.nativeState = t, this.nativeVaoExtension) {
                            this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();
                            var n = e.getParameter(e.MAX_VERTEX_ATTRIBS);
                            this.nativeState = {
                                tempAttribState: new Array(n),
                                attribState: new Array(n)
                            }
                        }
                        this.gl = e, this.attributes = [], this.indexBuffer = null, this.dirty = !1
                    }
                    var i = e("./setVertexAttribArrays");
                    r.prototype.constructor = r, t.exports = r, r.FORCE_NATIVE = !1, r.prototype.bind = function() {
                        return this.nativeVao ? (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.dirty && (this.dirty = !1, this.activate())) : this.activate(), this
                    }, r.prototype.unbind = function() {
                        return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null), this
                    }, r.prototype.activate = function() {
                        for (var e = this.gl, t = null, n = 0; n < this.attributes.length; n++) {
                            var r = this.attributes[n];
                            t !== r.buffer && (r.buffer.bind(), t = r.buffer), e.vertexAttribPointer(r.attribute.location, r.attribute.size, r.type || e.FLOAT, r.normalized || !1, r.stride || 0, r.start || 0)
                        }
                        return i(e, this.attributes, this.nativeState), this.indexBuffer.bind(), this
                    }, r.prototype.addAttribute = function(e, t, n, r, i, o) {
                        return this.attributes.push({
                            buffer: e,
                            attribute: t,
                            location: t.location,
                            type: n || this.gl.FLOAT,
                            normalized: r || !1,
                            stride: i || 0,
                            start: o || 0
                        }), this.dirty = !0, this
                    }, r.prototype.addIndex = function(e) {
                        return this.indexBuffer = e, this.dirty = !0, this
                    }, r.prototype.clear = function() {
                        return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.attributes.length = 0, this.indexBuffer = null, this
                    }, r.prototype.draw = function(e, t, n) {
                        var r = this.gl;
                        return r.drawElements(e, t, r.UNSIGNED_SHORT, n || 0), this
                    }, r.prototype.destroy = function() {
                        this.gl = null, this.indexBuffer = null, this.attributes = null, this.nativeState = null, this.nativeVao && this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao), this.nativeVaoExtension = null, this.nativeVao = null
                    }
                }, {
                    "./setVertexAttribArrays": 13
                }],
                11: [function(e, t, n) {
                    var r = function(e, t) {
                        var n = e.getContext("webgl", t) || e.getContext("experimental-webgl", t);
                        if (!n) throw new Error("This browser does not support webGL. Try using the canvas renderer");
                        return n
                    };
                    t.exports = r
                }, {}],
                12: [function(e, t, n) {
                    var r = {
                        createContext: e("./createContext"),
                        setVertexAttribArrays: e("./setVertexAttribArrays"),
                        GLBuffer: e("./GLBuffer"),
                        GLFramebuffer: e("./GLFramebuffer"),
                        GLShader: e("./GLShader"),
                        GLTexture: e("./GLTexture"),
                        VertexArrayObject: e("./VertexArrayObject"),
                        shader: e("./shader")
                    };
                    void 0 !== t && t.exports && (t.exports = r), "undefined" != typeof window && (window.PIXI = window.PIXI || {}, window.PIXI.glCore = r)
                }, {
                    "./GLBuffer": 6,
                    "./GLFramebuffer": 7,
                    "./GLShader": 8,
                    "./GLTexture": 9,
                    "./VertexArrayObject": 10,
                    "./createContext": 11,
                    "./setVertexAttribArrays": 13,
                    "./shader": 19
                }],
                13: [function(e, t, n) {
                    var r = function(e, t, n) {
                        var r;
                        if (n) {
                            var i = n.tempAttribState,
                                o = n.attribState;
                            for (r = 0; r < i.length; r++) i[r] = !1;
                            for (r = 0; r < t.length; r++) i[t[r].attribute.location] = !0;
                            for (r = 0; r < o.length; r++) o[r] !== i[r] && (o[r] = i[r], n.attribState[r] ? e.enableVertexAttribArray(r) : e.disableVertexAttribArray(r))
                        } else
                            for (r = 0; r < t.length; r++) {
                                var a = t[r];
                                e.enableVertexAttribArray(a.attribute.location)
                            }
                    };
                    t.exports = r
                }, {}],
                14: [function(e, t, n) {
                    var r = function(e, t, n) {
                            var r = i(e, e.VERTEX_SHADER, t),
                                o = i(e, e.FRAGMENT_SHADER, n),
                                a = e.createProgram();
                            return e.attachShader(a, r), e.attachShader(a, o), e.linkProgram(a), e.getProgramParameter(a, e.LINK_STATUS) || (e.getProgramInfoLog(a), e.deleteProgram(a), a = null), e.deleteShader(r), e.deleteShader(o), a
                        },
                        i = function(e, t, n) {
                            var r = e.createShader(t);
                            return e.shaderSource(r, n), e.compileShader(r), e.getShaderParameter(r, e.COMPILE_STATUS) ? r : null
                        };
                    t.exports = r
                }, {}],
                15: [function(e, t, n) {
                    var r = function(e, t) {
                            switch (e) {
                                case "float":
                                    return 0;
                                case "vec2":
                                    return new Float32Array(2 * t);
                                case "vec3":
                                    return new Float32Array(3 * t);
                                case "vec4":
                                    return new Float32Array(4 * t);
                                case "int":
                                case "sampler2D":
                                    return 0;
                                case "ivec2":
                                    return new Int32Array(2 * t);
                                case "ivec3":
                                    return new Int32Array(3 * t);
                                case "ivec4":
                                    return new Int32Array(4 * t);
                                case "bool":
                                    return !1;
                                case "bvec2":
                                    return i(2 * t);
                                case "bvec3":
                                    return i(3 * t);
                                case "bvec4":
                                    return i(4 * t);
                                case "mat2":
                                    return new Float32Array([1, 0, 0, 1]);
                                case "mat3":
                                    return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                                case "mat4":
                                    return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
                            }
                        },
                        i = function(e) {
                            for (var t = new Array(e), n = 0; n < t.length; n++) t[n] = !1;
                            return t
                        };
                    t.exports = r
                }, {}],
                16: [function(e, t, n) {
                    var r = e("./mapType"),
                        i = e("./mapSize"),
                        o = function(e, t) {
                            for (var n = {}, o = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), s = 0; s < o; s++) {
                                var u = e.getActiveAttrib(t, s),
                                    l = r(e, u.type);
                                n[u.name] = {
                                    type: l,
                                    size: i(l),
                                    location: e.getAttribLocation(t, u.name),
                                    pointer: a
                                }
                            }
                            return n
                        },
                        a = function(e, t, n, r) {
                            gl.vertexAttribPointer(this.location, this.size, e || gl.FLOAT, t || !1, n || 0, r || 0)
                        };
                    t.exports = o
                }, {
                    "./mapSize": 20,
                    "./mapType": 21
                }],
                17: [function(e, t, n) {
                    var r = e("./mapType"),
                        i = e("./defaultValue"),
                        o = function(e, t) {
                            for (var n = {}, o = e.getProgramParameter(t, e.ACTIVE_UNIFORMS), a = 0; a < o; a++) {
                                var s = e.getActiveUniform(t, a),
                                    u = s.name.replace(/\[.*?\]/, ""),
                                    l = r(e, s.type);
                                n[u] = {
                                    type: l,
                                    size: s.size,
                                    location: e.getUniformLocation(t, u),
                                    value: i(l, s.size)
                                }
                            }
                            return n
                        };
                    t.exports = o
                }, {
                    "./defaultValue": 15,
                    "./mapType": 21
                }],
                18: [function(e, t, n) {
                    var r = function(e, t) {
                            var n = {
                                data: {}
                            };
                            n.gl = e;
                            for (var r = Object.keys(t), s = 0; s < r.length; s++) {
                                var u = r[s],
                                    l = u.split("."),
                                    c = l[l.length - 1],
                                    h = a(l, n),
                                    d = t[u];
                                h.data[c] = d, h.gl = e, Object.defineProperty(h, c, {
                                    get: i(c),
                                    set: o(c, d)
                                })
                            }
                            return n
                        },
                        i = function(e) {
                            var t = s.replace("%%", e);
                            return new Function(t)
                        },
                        o = function(e, t) {
                            var n, r = u.replace(/%%/g, e);
                            return n = 1 === t.size ? l[t.type] : c[t.type], n && (r += "\nthis.gl." + n + ";"), new Function("value", r)
                        },
                        a = function(e, t) {
                            for (var n = t, r = 0; r < e.length - 1; r++) {
                                var i = n[e[r]] || {
                                    data: {}
                                };
                                n[e[r]] = i, n = i
                            }
                            return n
                        },
                        s = ["return this.data.%%.value;"].join("\n"),
                        u = ["this.data.%%.value = value;", "var location = this.data.%%.location;"].join("\n"),
                        l = {
                            float: "uniform1f(location, value)",
                            vec2: "uniform2f(location, value[0], value[1])",
                            vec3: "uniform3f(location, value[0], value[1], value[2])",
                            vec4: "uniform4f(location, value[0], value[1], value[2], value[3])",
                            int: "uniform1i(location, value)",
                            ivec2: "uniform2i(location, value[0], value[1])",
                            ivec3: "uniform3i(location, value[0], value[1], value[2])",
                            ivec4: "uniform4i(location, value[0], value[1], value[2], value[3])",
                            bool: "uniform1i(location, value)",
                            bvec2: "uniform2i(location, value[0], value[1])",
                            bvec3: "uniform3i(location, value[0], value[1], value[2])",
                            bvec4: "uniform4i(location, value[0], value[1], value[2], value[3])",
                            mat2: "uniformMatrix2fv(location, false, value)",
                            mat3: "uniformMatrix3fv(location, false, value)",
                            mat4: "uniformMatrix4fv(location, false, value)",
                            sampler2D: "uniform1i(location, value)"
                        },
                        c = {
                            float: "uniform1fv(location, value)",
                            vec2: "uniform2fv(location, value)",
                            vec3: "uniform3fv(location, value)",
                            vec4: "uniform4fv(location, value)",
                            int: "uniform1iv(location, value)",
                            ivec2: "uniform2iv(location, value)",
                            ivec3: "uniform3iv(location, value)",
                            ivec4: "uniform4iv(location, value)",
                            bool: "uniform1iv(location, value)",
                            bvec2: "uniform2iv(location, value)",
                            bvec3: "uniform3iv(location, value)",
                            bvec4: "uniform4iv(location, value)",
                            sampler2D: "uniform1iv(location, value)"
                        };
                    t.exports = r
                }, {}],
                19: [function(e, t, n) {
                    t.exports = {
                        compileProgram: e("./compileProgram"),
                        defaultValue: e("./defaultValue"),
                        extractAttributes: e("./extractAttributes"),
                        extractUniforms: e("./extractUniforms"),
                        generateUniformAccessObject: e("./generateUniformAccessObject"),
                        mapSize: e("./mapSize"),
                        mapType: e("./mapType")
                    }
                }, {
                    "./compileProgram": 14,
                    "./defaultValue": 15,
                    "./extractAttributes": 16,
                    "./extractUniforms": 17,
                    "./generateUniformAccessObject": 18,
                    "./mapSize": 20,
                    "./mapType": 21
                }],
                20: [function(e, t, n) {
                    var r = function(e) {
                            return i[e]
                        },
                        i = {
                            float: 1,
                            vec2: 2,
                            vec3: 3,
                            vec4: 4,
                            int: 1,
                            ivec2: 2,
                            ivec3: 3,
                            ivec4: 4,
                            bool: 1,
                            bvec2: 2,
                            bvec3: 3,
                            bvec4: 4,
                            mat2: 4,
                            mat3: 9,
                            mat4: 16,
                            sampler2D: 1
                        };
                    t.exports = r
                }, {}],
                21: [function(e, t, n) {
                    var r = function(e, t) {
                            if (!i) {
                                var n = Object.keys(o);
                                i = {};
                                for (var r = 0; r < n.length; ++r) {
                                    var a = n[r];
                                    i[e[a]] = o[a]
                                }
                            }
                            return i[t]
                        },
                        i = null,
                        o = {
                            FLOAT: "float",
                            FLOAT_VEC2: "vec2",
                            FLOAT_VEC3: "vec3",
                            FLOAT_VEC4: "vec4",
                            INT: "int",
                            INT_VEC2: "ivec2",
                            INT_VEC3: "ivec3",
                            INT_VEC4: "ivec4",
                            BOOL: "bool",
                            BOOL_VEC2: "bvec2",
                            BOOL_VEC3: "bvec3",
                            BOOL_VEC4: "bvec4",
                            FLOAT_MAT2: "mat2",
                            FLOAT_MAT3: "mat3",
                            FLOAT_MAT4: "mat4",
                            SAMPLER_2D: "sampler2D"
                        };
                    t.exports = r
                }, {}],
                22: [function(e, t, n) {
                    (function(e) {
                        function t(e, t) {
                            for (var n = 0, r = e.length - 1; r >= 0; r--) {
                                var i = e[r];
                                "." === i ? e.splice(r, 1) : ".." === i ? (e.splice(r, 1), n++) : n && (e.splice(r, 1), n--)
                            }
                            if (t)
                                for (; n--; n) e.unshift("..");
                            return e
                        }

                        function r(e, t) {
                            if (e.filter) return e.filter(t);
                            for (var n = [], r = 0; r < e.length; r++) t(e[r], r, e) && n.push(e[r]);
                            return n
                        }
                        var i = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
                            o = function(e) {
                                return i.exec(e).slice(1)
                            };
                        n.resolve = function() {
                            for (var n = "", i = !1, o = arguments.length - 1; o >= -1 && !i; o--) {
                                var a = o >= 0 ? arguments[o] : e.cwd();
                                if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings");
                                a && (n = a + "/" + n, i = "/" === a.charAt(0))
                            }
                            return n = t(r(n.split("/"), function(e) {
                                return !!e
                            }), !i).join("/"), (i ? "/" : "") + n || "."
                        }, n.normalize = function(e) {
                            var i = n.isAbsolute(e),
                                o = "/" === a(e, -1);
                            return e = t(r(e.split("/"), function(e) {
                                return !!e
                            }), !i).join("/"), e || i || (e = "."), e && o && (e += "/"), (i ? "/" : "") + e
                        }, n.isAbsolute = function(e) {
                            return "/" === e.charAt(0)
                        }, n.join = function() {
                            var e = Array.prototype.slice.call(arguments, 0);
                            return n.normalize(r(e, function(e, t) {
                                if ("string" != typeof e) throw new TypeError("Arguments to path.join must be strings");
                                return e
                            }).join("/"))
                        }, n.relative = function(e, t) {
                            function r(e) {
                                for (var t = 0; t < e.length && "" === e[t]; t++);
                                for (var n = e.length - 1; n >= 0 && "" === e[n]; n--);
                                return t > n ? [] : e.slice(t, n - t + 1)
                            }
                            e = n.resolve(e).substr(1), t = n.resolve(t).substr(1);
                            for (var i = r(e.split("/")), o = r(t.split("/")), a = Math.min(i.length, o.length), s = a, u = 0; u < a; u++)
                                if (i[u] !== o[u]) {
                                    s = u;
                                    break
                                }
                            for (var l = [], u = s; u < i.length; u++) l.push("..");
                            return l = l.concat(o.slice(s)), l.join("/")
                        }, n.sep = "/", n.delimiter = ":", n.dirname = function(e) {
                            var t = o(e),
                                n = t[0],
                                r = t[1];
                            return n || r ? (r && (r = r.substr(0, r.length - 1)), n + r) : "."
                        }, n.basename = function(e, t) {
                            var n = o(e)[2];
                            return t && n.substr(-1 * t.length) === t && (n = n.substr(0, n.length - t.length)), n
                        }, n.extname = function(e) {
                            return o(e)[3]
                        };
                        var a = "b" === "ab".substr(-1) ? function(e, t, n) {
                            return e.substr(t, n)
                        } : function(e, t, n) {
                            return t < 0 && (t = e.length + t), e.substr(t, n)
                        }
                    }).call(this, e("_process"))
                }, {
                    _process: 23
                }],
                23: [function(e, t, n) {
                    function r() {
                        throw new Error("setTimeout has not been defined")
                    }

                    function i() {
                        throw new Error("clearTimeout has not been defined")
                    }

                    function o(e) {
                        if (h === setTimeout) return setTimeout(e, 0);
                        if ((h === r || !h) && setTimeout) return h = setTimeout, setTimeout(e, 0);
                        try {
                            return h(e, 0)
                        } catch (t) {
                            try {
                                return h.call(null, e, 0)
                            } catch (t) {
                                return h.call(this, e, 0)
                            }
                        }
                    }

                    function a(e) {
                        if (d === clearTimeout) return clearTimeout(e);
                        if ((d === i || !d) && clearTimeout) return d = clearTimeout, clearTimeout(e);
                        try {
                            return d(e)
                        } catch (t) {
                            try {
                                return d.call(null, e)
                            } catch (t) {
                                return d.call(this, e)
                            }
                        }
                    }

                    function s() {
                        g && p && (g = !1, p.length ? m = p.concat(m) : _ = -1, m.length && u())
                    }

                    function u() {
                        if (!g) {
                            var e = o(s);
                            g = !0;
                            for (var t = m.length; t;) {
                                for (p = m, m = []; ++_ < t;) p && p[_].run();
                                _ = -1, t = m.length
                            }
                            p = null, g = !1, a(e)
                        }
                    }

                    function l(e, t) {
                        this.fun = e, this.array = t
                    }

                    function c() {}
                    var h, d, f = t.exports = {};
                    ! function() {
                        try {
                            h = "function" == typeof setTimeout ? setTimeout : r
                        } catch (e) {
                            h = r
                        }
                        try {
                            d = "function" == typeof clearTimeout ? clearTimeout : i
                        } catch (e) {
                            d = i
                        }
                    }();
                    var p, m = [],
                        g = !1,
                        _ = -1;
                    f.nextTick = function(e) {
                        var t = new Array(arguments.length - 1);
                        if (arguments.length > 1)
                            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                        m.push(new l(e, t)), 1 !== m.length || g || o(u)
                    }, l.prototype.run = function() {
                        this.fun.apply(null, this.array)
                    }, f.title = "browser", f.browser = !0, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = c, f.addListener = c, f.once = c, f.off = c, f.removeListener = c, f.removeAllListeners = c, f.emit = c, f.binding = function(e) {
                        throw new Error("process.binding is not supported")
                    }, f.cwd = function() {
                        return "/"
                    }, f.chdir = function(e) {
                        throw new Error("process.chdir is not supported")
                    }, f.umask = function() {
                        return 0
                    }
                }, {}],
                24: [function(t, n, r) {
                    (function(t) {
                        ! function(i) {
                            function o(e) {
                                throw new RangeError(L[e])
                            }

                            function a(e, t) {
                                for (var n = e.length, r = []; n--;) r[n] = t(e[n]);
                                return r
                            }

                            function s(e, t) {
                                var n = e.split("@"),
                                    r = "";
                                return n.length > 1 && (r = n[0] + "@", e = n[1]), e = e.replace(D, "."), r + a(e.split("."), t).join(".")
                            }

                            function u(e) {
                                for (var t, n, r = [], i = 0, o = e.length; i < o;) t = e.charCodeAt(i++), t >= 55296 && t <= 56319 && i < o ? (n = e.charCodeAt(i++), 56320 == (64512 & n) ? r.push(((1023 & t) << 10) + (1023 & n) + 65536) : (r.push(t), i--)) : r.push(t);
                                return r
                            }

                            function l(e) {
                                return a(e, function(e) {
                                    var t = "";
                                    return e > 65535 && (e -= 65536, t += N(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), t += N(e)
                                }).join("")
                            }

                            function c(e) {
                                return e - 48 < 10 ? e - 22 : e - 65 < 26 ? e - 65 : e - 97 < 26 ? e - 97 : w
                            }

                            function h(e, t) {
                                return e + 22 + 75 * (e < 26) - ((0 != t) << 5)
                            }

                            function d(e, t, n) {
                                var r = 0;
                                for (e = n ? B(e / P) : e >> 1, e += B(e / t); e > k * E >> 1; r += w) e = B(e / k);
                                return B(r + (k + 1) * e / (e + C))
                            }

                            function f(e) {
                                var t, n, r, i, a, s, u, h, f, p, m = [],
                                    g = e.length,
                                    _ = 0,
                                    y = A,
                                    v = O;
                                for (n = e.lastIndexOf(M), n < 0 && (n = 0), r = 0; r < n; ++r) e.charCodeAt(r) >= 128 && o("not-basic"), m.push(e.charCodeAt(r));
                                for (i = n > 0 ? n + 1 : 0; i < g;) {
                                    for (a = _, s = 1, u = w; i >= g && o("invalid-input"), h = c(e.charCodeAt(i++)), (h >= w || h > B((T - _) / s)) && o("overflow"), _ += h * s, f = u <= v ? S : u >= v + E ? E : u - v, !(h < f); u += w) p = w - f, s > B(T / p) && o("overflow"), s *= p;
                                    t = m.length + 1, v = d(_ - a, t, 0 == a), B(_ / t) > T - y && o("overflow"), y += B(_ / t), _ %= t, m.splice(_++, 0, y)
                                }
                                return l(m)
                            }

                            function p(e) {
                                var t, n, r, i, a, s, l, c, f, p, m, g, _, y, v, b = [];
                                for (e = u(e), g = e.length, t = A, n = 0, a = O, s = 0; s < g; ++s)(m = e[s]) < 128 && b.push(N(m));
                                for (r = i = b.length, i && b.push(M); r < g;) {
                                    for (l = T, s = 0; s < g; ++s)(m = e[s]) >= t && m < l && (l = m);
                                    for (_ = r + 1, l - t > B((T - n) / _) && o("overflow"), n += (l - t) * _, t = l, s = 0; s < g; ++s)
                                        if (m = e[s], m < t && ++n > T && o("overflow"), m == t) {
                                            for (c = n, f = w; p = f <= a ? S : f >= a + E ? E : f - a, !(c < p); f += w) v = c - p, y = w - p, b.push(N(h(p + v % y, 0))), c = B(v / y);
                                            b.push(N(h(c, 0))), a = d(n, _, r == i), n = 0, ++r
                                        }++n, ++t
                                }
                                return b.join("")
                            }

                            function m(e) {
                                return s(e, function(e) {
                                    return I.test(e) ? f(e.slice(4).toLowerCase()) : e
                                })
                            }

                            function g(e) {
                                return s(e, function(e) {
                                    return R.test(e) ? "xn--" + p(e) : e
                                })
                            }
                            var _ = "object" == typeof r && r && !r.nodeType && r,
                                y = "object" == typeof n && n && !n.nodeType && n,
                                v = "object" == typeof t && t;
                            v.global !== v && v.window !== v && v.self !== v || (i = v);
                            var b, x, T = 2147483647,
                                w = 36,
                                S = 1,
                                E = 26,
                                C = 38,
                                P = 700,
                                O = 72,
                                A = 128,
                                M = "-",
                                I = /^xn--/,
                                R = /[^\x20-\x7E]/,
                                D = /[\x2E\u3002\uFF0E\uFF61]/g,
                                L = {
                                    overflow: "Overflow: input needs wider integers to process",
                                    "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                                    "invalid-input": "Invalid input"
                                },
                                k = w - S,
                                B = Math.floor,
                                N = String.fromCharCode;
                            if (b = {
                                    version: "1.4.1",
                                    ucs2: {
                                        decode: u,
                                        encode: l
                                    },
                                    decode: f,
                                    encode: p,
                                    toASCII: g,
                                    toUnicode: m
                                }, "function" == typeof e && "object" == typeof e.amd && e.amd) e("punycode", function() {
                                return b
                            });
                            else if (_ && y)
                                if (n.exports == _) y.exports = b;
                                else
                                    for (x in b) b.hasOwnProperty(x) && (_[x] = b[x]);
                            else i.punycode = b
                        }(this)
                    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                }, {}],
                25: [function(e, t, n) {
                    function r(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }
                    t.exports = function(e, t, n, o) {
                        t = t || "&", n = n || "=";
                        var a = {};
                        if ("string" != typeof e || 0 === e.length) return a;
                        var s = /\+/g;
                        e = e.split(t);
                        var u = 1e3;
                        o && "number" == typeof o.maxKeys && (u = o.maxKeys);
                        var l = e.length;
                        u > 0 && l > u && (l = u);
                        for (var c = 0; c < l; ++c) {
                            var h, d, f, p, m = e[c].replace(s, "%20"),
                                g = m.indexOf(n);
                            g >= 0 ? (h = m.substr(0, g), d = m.substr(g + 1)) : (h = m, d = ""), f = decodeURIComponent(h), p = decodeURIComponent(d), r(a, f) ? i(a[f]) ? a[f].push(p) : a[f] = [a[f], p] : a[f] = p
                        }
                        return a
                    };
                    var i = Array.isArray || function(e) {
                        return "[object Array]" === Object.prototype.toString.call(e)
                    }
                }, {}],
                26: [function(e, t, n) {
                    function r(e, t) {
                        if (e.map) return e.map(t);
                        for (var n = [], r = 0; r < e.length; r++) n.push(t(e[r], r));
                        return n
                    }
                    var i = function(e) {
                        switch (typeof e) {
                            case "string":
                                return e;
                            case "boolean":
                                return e ? "true" : "false";
                            case "number":
                                return isFinite(e) ? e : "";
                            default:
                                return ""
                        }
                    };
                    t.exports = function(e, t, n, s) {
                        return t = t || "&", n = n || "=", null === e && (e = void 0), "object" == typeof e ? r(a(e), function(a) {
                            var s = encodeURIComponent(i(a)) + n;
                            return o(e[a]) ? r(e[a], function(e) {
                                return s + encodeURIComponent(i(e))
                            }).join(t) : s + encodeURIComponent(i(e[a]))
                        }).join(t) : s ? encodeURIComponent(i(s)) + n + encodeURIComponent(i(e)) : ""
                    };
                    var o = Array.isArray || function(e) {
                            return "[object Array]" === Object.prototype.toString.call(e)
                        },
                        a = Object.keys || function(e) {
                            var t = [];
                            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.push(n);
                            return t
                        }
                }, {}],
                27: [function(e, t, n) {
                    "use strict";
                    n.decode = n.parse = e("./decode"), n.encode = n.stringify = e("./encode")
                }, {
                    "./decode": 25,
                    "./encode": 26
                }],
                28: [function(e, t, n) {
                    function r() {
                        this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null
                    }

                    function i(e, t, n) {
                        if (e && l.isObject(e) && e instanceof r) return e;
                        var i = new r;
                        return i.parse(e, t, n), i
                    }

                    function o(e) {
                        return l.isString(e) && (e = i(e)), e instanceof r ? e.format() : r.prototype.format.call(e)
                    }

                    function a(e, t) {
                        return i(e, !1, !0).resolve(t)
                    }

                    function s(e, t) {
                        return e ? i(e, !1, !0).resolveObject(t) : t
                    }
                    var u = e("punycode"),
                        l = e("./util");
                    n.parse = i, n.resolve = a, n.resolveObject = s, n.format = o, n.Url = r;
                    var c = /^([a-z0-9.+-]+:)/i,
                        h = /:[0-9]*$/,
                        d = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
                        f = ["<", ">", '"', "`", " ", "\r", "\n", "\t"],
                        p = ["{", "}", "|", "\\", "^", "`"].concat(f),
                        m = ["'"].concat(p),
                        g = ["%", "/", "?", ";", "#"].concat(m),
                        _ = ["/", "?", "#"],
                        y = /^[+a-z0-9A-Z_-]{0,63}$/,
                        v = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
                        b = {
                            javascript: !0,
                            "javascript:": !0
                        },
                        x = {
                            javascript: !0,
                            "javascript:": !0
                        },
                        T = {
                            http: !0,
                            https: !0,
                            ftp: !0,
                            gopher: !0,
                            file: !0,
                            "http:": !0,
                            "https:": !0,
                            "ftp:": !0,
                            "gopher:": !0,
                            "file:": !0
                        },
                        w = e("querystring");
                    r.prototype.parse = function(e, t, n) {
                        if (!l.isString(e)) throw new TypeError("Parameter 'url' must be a string, not " + typeof e);
                        var r = e.indexOf("?"),
                            i = -1 !== r && r < e.indexOf("#") ? "?" : "#",
                            o = e.split(i),
                            a = /\\/g;
                        o[0] = o[0].replace(a, "/"), e = o.join(i);
                        var s = e;
                        if (s = s.trim(), !n && 1 === e.split("#").length) {
                            var h = d.exec(s);
                            if (h) return this.path = s, this.href = s, this.pathname = h[1], h[2] ? (this.search = h[2], this.query = t ? w.parse(this.search.substr(1)) : this.search.substr(1)) : t && (this.search = "", this.query = {}), this
                        }
                        var f = c.exec(s);
                        if (f) {
                            f = f[0];
                            var p = f.toLowerCase();
                            this.protocol = p, s = s.substr(f.length)
                        }
                        if (n || f || s.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                            var S = "//" === s.substr(0, 2);
                            !S || f && x[f] || (s = s.substr(2), this.slashes = !0)
                        }
                        if (!x[f] && (S || f && !T[f])) {
                            for (var E = -1, C = 0; C < _.length; C++) {
                                var P = s.indexOf(_[C]); - 1 !== P && (-1 === E || P < E) && (E = P)
                            }
                            var O, A;
                            A = -1 === E ? s.lastIndexOf("@") : s.lastIndexOf("@", E), -1 !== A && (O = s.slice(0, A), s = s.slice(A + 1), this.auth = decodeURIComponent(O)), E = -1;
                            for (var C = 0; C < g.length; C++) {
                                var P = s.indexOf(g[C]); - 1 !== P && (-1 === E || P < E) && (E = P)
                            } - 1 === E && (E = s.length), this.host = s.slice(0, E), s = s.slice(E), this.parseHost(), this.hostname = this.hostname || "";
                            var M = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                            if (!M)
                                for (var I = this.hostname.split(/\./), C = 0, R = I.length; C < R; C++) {
                                    var D = I[C];
                                    if (D && !D.match(y)) {
                                        for (var L = "", k = 0, B = D.length; k < B; k++) D.charCodeAt(k) > 127 ? L += "x" : L += D[k];
                                        if (!L.match(y)) {
                                            var N = I.slice(0, C),
                                                F = I.slice(C + 1),
                                                j = D.match(v);
                                            j && (N.push(j[1]), F.unshift(j[2])), F.length && (s = "/" + F.join(".") + s), this.hostname = N.join(".");
                                            break
                                        }
                                    }
                                }
                            this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), M || (this.hostname = u.toASCII(this.hostname));
                            var G = this.port ? ":" + this.port : "",
                                U = this.hostname || "";
                            this.host = U + G, this.href += this.host, M && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== s[0] && (s = "/" + s))
                        }
                        if (!b[p])
                            for (var C = 0, R = m.length; C < R; C++) {
                                var X = m[C];
                                if (-1 !== s.indexOf(X)) {
                                    var W = encodeURIComponent(X);
                                    W === X && (W = escape(X)), s = s.split(X).join(W)
                                }
                            }
                        var H = s.indexOf("#"); - 1 !== H && (this.hash = s.substr(H), s = s.slice(0, H));
                        var V = s.indexOf("?");
                        if (-1 !== V ? (this.search = s.substr(V), this.query = s.substr(V + 1), t && (this.query = w.parse(this.query)), s = s.slice(0, V)) : t && (this.search = "", this.query = {}), s && (this.pathname = s), T[p] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
                            var G = this.pathname || "",
                                Y = this.search || "";
                            this.path = G + Y
                        }
                        return this.href = this.format(), this
                    }, r.prototype.format = function() {
                        var e = this.auth || "";
                        e && (e = encodeURIComponent(e), e = e.replace(/%3A/i, ":"), e += "@");
                        var t = this.protocol || "",
                            n = this.pathname || "",
                            r = this.hash || "",
                            i = !1,
                            o = "";
                        this.host ? i = e + this.host : this.hostname && (i = e + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (i += ":" + this.port)), this.query && l.isObject(this.query) && Object.keys(this.query).length && (o = w.stringify(this.query));
                        var a = this.search || o && "?" + o || "";
                        return t && ":" !== t.substr(-1) && (t += ":"), this.slashes || (!t || T[t]) && !1 !== i ? (i = "//" + (i || ""), n && "/" !== n.charAt(0) && (n = "/" + n)) : i || (i = ""), r && "#" !== r.charAt(0) && (r = "#" + r), a && "?" !== a.charAt(0) && (a = "?" + a), n = n.replace(/[?#]/g, function(e) {
                            return encodeURIComponent(e)
                        }), a = a.replace("#", "%23"), t + i + n + a + r
                    }, r.prototype.resolve = function(e) {
                        return this.resolveObject(i(e, !1, !0)).format()
                    }, r.prototype.resolveObject = function(e) {
                        if (l.isString(e)) {
                            var t = new r;
                            t.parse(e, !1, !0), e = t
                        }
                        for (var n = new r, i = Object.keys(this), o = 0; o < i.length; o++) {
                            var a = i[o];
                            n[a] = this[a]
                        }
                        if (n.hash = e.hash, "" === e.href) return n.href = n.format(), n;
                        if (e.slashes && !e.protocol) {
                            for (var s = Object.keys(e), u = 0; u < s.length; u++) {
                                var c = s[u];
                                "protocol" !== c && (n[c] = e[c])
                            }
                            return T[n.protocol] && n.hostname && !n.pathname && (n.path = n.pathname = "/"), n.href = n.format(), n
                        }
                        if (e.protocol && e.protocol !== n.protocol) {
                            if (!T[e.protocol]) {
                                for (var h = Object.keys(e), d = 0; d < h.length; d++) {
                                    var f = h[d];
                                    n[f] = e[f]
                                }
                                return n.href = n.format(), n
                            }
                            if (n.protocol = e.protocol, e.host || x[e.protocol]) n.pathname = e.pathname;
                            else {
                                for (var p = (e.pathname || "").split("/"); p.length && !(e.host = p.shift()););
                                e.host || (e.host = ""), e.hostname || (e.hostname = ""), "" !== p[0] && p.unshift(""), p.length < 2 && p.unshift(""), n.pathname = p.join("/")
                            }
                            if (n.search = e.search, n.query = e.query, n.host = e.host || "", n.auth = e.auth, n.hostname = e.hostname || e.host, n.port = e.port, n.pathname || n.search) {
                                var m = n.pathname || "",
                                    g = n.search || "";
                                n.path = m + g
                            }
                            return n.slashes = n.slashes || e.slashes, n.href = n.format(), n
                        }
                        var _ = n.pathname && "/" === n.pathname.charAt(0),
                            y = e.host || e.pathname && "/" === e.pathname.charAt(0),
                            v = y || _ || n.host && e.pathname,
                            b = v,
                            w = n.pathname && n.pathname.split("/") || [],
                            p = e.pathname && e.pathname.split("/") || [],
                            S = n.protocol && !T[n.protocol];
                        if (S && (n.hostname = "", n.port = null, n.host && ("" === w[0] ? w[0] = n.host : w.unshift(n.host)), n.host = "", e.protocol && (e.hostname = null, e.port = null, e.host && ("" === p[0] ? p[0] = e.host : p.unshift(e.host)), e.host = null), v = v && ("" === p[0] || "" === w[0])), y) n.host = e.host || "" === e.host ? e.host : n.host, n.hostname = e.hostname || "" === e.hostname ? e.hostname : n.hostname, n.search = e.search, n.query = e.query, w = p;
                        else if (p.length) w || (w = []), w.pop(), w = w.concat(p), n.search = e.search, n.query = e.query;
                        else if (!l.isNullOrUndefined(e.search)) {
                            if (S) {
                                n.hostname = n.host = w.shift();
                                var E = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@");
                                E && (n.auth = E.shift(), n.host = n.hostname = E.shift())
                            }
                            return n.search = e.search, n.query = e.query, l.isNull(n.pathname) && l.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")), n.href = n.format(), n
                        }
                        if (!w.length) return n.pathname = null, n.search ? n.path = "/" + n.search : n.path = null, n.href = n.format(), n;
                        for (var C = w.slice(-1)[0], P = (n.host || e.host || w.length > 1) && ("." === C || ".." === C) || "" === C, O = 0, A = w.length; A >= 0; A--) C = w[A], "." === C ? w.splice(A, 1) : ".." === C ? (w.splice(A, 1), O++) : O && (w.splice(A, 1), O--);
                        if (!v && !b)
                            for (; O--; O) w.unshift("..");
                        !v || "" === w[0] || w[0] && "/" === w[0].charAt(0) || w.unshift(""), P && "/" !== w.join("/").substr(-1) && w.push("");
                        var M = "" === w[0] || w[0] && "/" === w[0].charAt(0);
                        if (S) {
                            n.hostname = n.host = M ? "" : w.length ? w.shift() : "";
                            var E = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@");
                            E && (n.auth = E.shift(), n.host = n.hostname = E.shift())
                        }
                        return v = v || n.host && w.length, v && !M && w.unshift(""), w.length ? n.pathname = w.join("/") : (n.pathname = null, n.path = null), l.isNull(n.pathname) && l.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")), n.auth = e.auth || n.auth, n.slashes = n.slashes || e.slashes, n.href = n.format(), n
                    }, r.prototype.parseHost = function() {
                        var e = this.host,
                            t = h.exec(e);
                        t && (t = t[0], ":" !== t && (this.port = t.substr(1)), e = e.substr(0, e.length - t.length)), e && (this.hostname = e)
                    }
                }, {
                    "./util": 29,
                    punycode: 24,
                    querystring: 27
                }],
                29: [function(e, t, n) {
                    "use strict";
                    t.exports = {
                        isString: function(e) {
                            return "string" == typeof e
                        },
                        isObject: function(e) {
                            return "object" == typeof e && null !== e
                        },
                        isNull: function(e) {
                            return null === e
                        },
                        isNullOrUndefined: function(e) {
                            return null == e
                        }
                    }
                }, {}],
                30: [function(e, t, n) {
                    "use strict";
                    t.exports = function(e, t, n) {
                        var r, i = e.length;
                        if (!(t >= i || 0 === n)) {
                            n = t + n > i ? i - t : n;
                            var o = i - n;
                            for (r = t; r < o; ++r) e[r] = e[r + n];
                            e.length = o
                        }
                    }
                }, {}],
                31: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                            return typeof e
                        } : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        },
                        a = e("mini-signals"),
                        s = r(a),
                        u = e("parse-uri"),
                        l = r(u),
                        c = e("./async"),
                        h = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(c),
                        d = e("./Resource"),
                        f = r(d),
                        p = /(#[\w-]+)?$/,
                        m = function() {
                            function e() {
                                var t = this,
                                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                                    r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
                                i(this, e), this.baseUrl = n, this.progress = 0, this.loading = !1, this.defaultQueryString = "", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function(e, n) {
                                    return t._loadResource(e, n)
                                }, this._queue = h.queue(this._boundLoadResource, r), this._queue.pause(), this.resources = {}, this.onProgress = new s.default, this.onError = new s.default, this.onLoad = new s.default, this.onStart = new s.default, this.onComplete = new s.default
                            }
                            return e.prototype.add = function(e, t, n, r) {
                                if (Array.isArray(e)) {
                                    for (var i = 0; i < e.length; ++i) this.add(e[i]);
                                    return this
                                }
                                if ("object" === (void 0 === e ? "undefined" : o(e)) && (r = t || e.callback || e.onComplete, n = e, t = e.url, e = e.name || e.key || e.url), "string" != typeof t && (r = n, n = t, t = e), "string" != typeof t) throw new Error("No url passed to add resource to loader.");
                                if ("function" == typeof n && (r = n, n = null), this.loading && (!n || !n.parentResource)) throw new Error("Cannot add resources while the loader is running.");
                                if (this.resources[e]) throw new Error('Resource named "' + e + '" already exists.');
                                if (t = this._prepareUrl(t), this.resources[e] = new f.default(e, t, n), "function" == typeof r && this.resources[e].onAfterMiddleware.once(r), this.loading) {
                                    for (var a = n.parentResource, s = [], u = 0; u < a.children.length; ++u) a.children[u].isComplete || s.push(a.children[u]);
                                    var l = a.progressChunk * (s.length + 1),
                                        c = l / (s.length + 2);
                                    a.children.push(this.resources[e]), a.progressChunk = c;
                                    for (var h = 0; h < s.length; ++h) s[h].progressChunk = c;
                                    this.resources[e].progressChunk = c
                                }
                                return this._queue.push(this.resources[e]), this
                            }, e.prototype.pre = function(e) {
                                return this._beforeMiddleware.push(e), this
                            }, e.prototype.use = function(e) {
                                return this._afterMiddleware.push(e), this
                            }, e.prototype.reset = function() {
                                this.progress = 0, this.loading = !1, this._queue.kill(), this._queue.pause();
                                for (var e in this.resources) {
                                    var t = this.resources[e];
                                    t._onLoadBinding && t._onLoadBinding.detach(), t.isLoading && t.abort()
                                }
                                return this.resources = {}, this
                            }, e.prototype.load = function(e) {
                                if ("function" == typeof e && this.onComplete.once(e), this.loading) return this;
                                for (var t = 100 / this._queue._tasks.length, n = 0; n < this._queue._tasks.length; ++n) this._queue._tasks[n].data.progressChunk = t;
                                return this.loading = !0, this.onStart.dispatch(this), this._queue.resume(), this
                            }, e.prototype._prepareUrl = function(e) {
                                var t = (0, l.default)(e, {
                                        strictMode: !0
                                    }),
                                    n = void 0;
                                if (n = t.protocol || !t.path || 0 === e.indexOf("//") ? e : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== e.charAt(0) ? this.baseUrl + "/" + e : this.baseUrl + e, this.defaultQueryString) {
                                    var r = p.exec(n)[0];
                                    n = n.substr(0, n.length - r.length), -1 !== n.indexOf("?") ? n += "&" + this.defaultQueryString : n += "?" + this.defaultQueryString, n += r
                                }
                                return n
                            }, e.prototype._loadResource = function(e, t) {
                                var n = this;
                                e._dequeue = t, h.eachSeries(this._beforeMiddleware, function(t, r) {
                                    t.call(n, e, function() {
                                        r(e.isComplete ? {} : null)
                                    })
                                }, function() {
                                    e.isComplete ? n._onLoad(e) : (e._onLoadBinding = e.onComplete.once(n._onLoad, n), e.load())
                                })
                            }, e.prototype._onComplete = function() {
                                this.loading = !1, this.onComplete.dispatch(this, this.resources)
                            }, e.prototype._onLoad = function(e) {
                                var t = this;
                                e._onLoadBinding = null, e._dequeue(), this._resourcesParsing.push(e), h.eachSeries(this._afterMiddleware, function(n, r) {
                                    n.call(t, e, r)
                                }, function() {
                                    e.onAfterMiddleware.dispatch(e), t.progress += e.progressChunk, t.onProgress.dispatch(t, e), e.error ? t.onError.dispatch(e.error, t, e) : t.onLoad.dispatch(t, e), t._resourcesParsing.splice(t._resourcesParsing.indexOf(e), 1), t._queue.idle() && 0 === t._resourcesParsing.length && (t.progress = 100, t._onComplete())
                                })
                            }, e
                        }();
                    n.default = m
                }, {
                    "./Resource": 32,
                    "./async": 33,
                    "mini-signals": 37,
                    "parse-uri": 38
                }],
                32: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o() {}

                    function a(e, t, n) {
                        t && 0 === t.indexOf(".") && (t = t.substring(1)), t && (e[t] = n)
                    }

                    function s(e) {
                        return e.toString().replace("object ", "")
                    }
                    n.__esModule = !0;
                    var u = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        l = e("parse-uri"),
                        c = r(l),
                        h = e("mini-signals"),
                        d = r(h),
                        f = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest),
                        p = null,
                        m = function() {
                            function e(t, n, r) {
                                if (i(this, e), "string" != typeof t || "string" != typeof n) throw new Error("Both name and url are required for constructing a resource.");
                                r = r || {}, this._flags = 0, this._setFlag(e.STATUS_FLAGS.DATA_URL, 0 === n.indexOf("data:")), this.name = t, this.url = n, this.extension = this._getExtension(), this.data = null, this.crossOrigin = !0 === r.crossOrigin ? "anonymous" : r.crossOrigin, this.loadType = r.loadType || this._determineLoadType(), this.xhrType = r.xhrType, this.metadata = r.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = e.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = o, this._onLoadBinding = null, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this), this.onStart = new d.default, this.onProgress = new d.default, this.onComplete = new d.default, this.onAfterMiddleware = new d.default
                            }
                            return e.setExtensionLoadType = function(t, n) {
                                a(e._loadTypeMap, t, n)
                            }, e.setExtensionXhrType = function(t, n) {
                                a(e._xhrTypeMap, t, n)
                            }, e.prototype.complete = function() {
                                if (this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null)), this.isComplete) throw new Error("Complete called again for an already completed resource.");
                                this._setFlag(e.STATUS_FLAGS.COMPLETE, !0), this._setFlag(e.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this)
                            }, e.prototype.abort = function(t) {
                                if (!this.error) {
                                    if (this.error = new Error(t), this.xhr) this.xhr.abort();
                                    else if (this.xdr) this.xdr.abort();
                                    else if (this.data)
                                        if (this.data.src) this.data.src = e.EMPTY_GIF;
                                        else
                                            for (; this.data.firstChild;) this.data.removeChild(this.data.firstChild);
                                    this.complete()
                                }
                            }, e.prototype.load = function(t) {
                                var n = this;
                                if (!this.isLoading) {
                                    if (this.isComplete) return void(t && setTimeout(function() {
                                        return t(n)
                                    }, 1));
                                    switch (t && this.onComplete.once(t), this._setFlag(e.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
                                        case e.LOAD_TYPE.IMAGE:
                                            this.type = e.TYPE.IMAGE, this._loadElement("image");
                                            break;
                                        case e.LOAD_TYPE.AUDIO:
                                            this.type = e.TYPE.AUDIO, this._loadSourceElement("audio");
                                            break;
                                        case e.LOAD_TYPE.VIDEO:
                                            this.type = e.TYPE.VIDEO, this._loadSourceElement("video");
                                            break;
                                        case e.LOAD_TYPE.XHR:
                                        default:
                                            f && this.crossOrigin ? this._loadXdr() : this._loadXhr()
                                    }
                                }
                            }, e.prototype._hasFlag = function(e) {
                                return !!(this._flags & e)
                            }, e.prototype._setFlag = function(e, t) {
                                this._flags = t ? this._flags | e : this._flags & ~e
                            }, e.prototype._loadElement = function(e) {
                                this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === e && void 0 !== window.Image ? this.data = new Image : this.data = document.createElement(e), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1)
                            }, e.prototype._loadSourceElement = function(e) {
                                if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === e && void 0 !== window.Audio ? this.data = new Audio : this.data = document.createElement(e), null === this.data) return void this.abort("Unsupported element: " + e);
                                if (!this.metadata.skipSource)
                                    if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                                    else if (Array.isArray(this.url))
                                    for (var t = 0; t < this.url.length; ++t) this.data.appendChild(this._createSource(e, this.url[t]));
                                else this.data.appendChild(this._createSource(e, this.url));
                                this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load()
                            }, e.prototype._loadXhr = function() {
                                "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                                var t = this.xhr = new XMLHttpRequest;
                                t.open("GET", this.url, !0), this.xhrType === e.XHR_RESPONSE_TYPE.JSON || this.xhrType === e.XHR_RESPONSE_TYPE.DOCUMENT ? t.responseType = e.XHR_RESPONSE_TYPE.TEXT : t.responseType = this.xhrType, t.addEventListener("error", this._boundXhrOnError, !1), t.addEventListener("abort", this._boundXhrOnAbort, !1), t.addEventListener("progress", this._boundOnProgress, !1), t.addEventListener("load", this._boundXhrOnLoad, !1), t.send()
                            }, e.prototype._loadXdr = function() {
                                "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                                var e = this.xhr = new XDomainRequest;
                                e.timeout = 5e3, e.onerror = this._boundXhrOnError, e.ontimeout = this._boundXdrOnTimeout, e.onprogress = this._boundOnProgress, e.onload = this._boundXhrOnLoad, e.open("GET", this.url, !0), setTimeout(function() {
                                    return e.send()
                                }, 1)
                            }, e.prototype._createSource = function(e, t, n) {
                                n || (n = e + "/" + t.substr(t.lastIndexOf(".") + 1));
                                var r = document.createElement("source");
                                return r.src = t, r.type = n, r
                            }, e.prototype._onError = function(e) {
                                this.abort("Failed to load element using: " + e.target.nodeName)
                            }, e.prototype._onProgress = function(e) {
                                e && e.lengthComputable && this.onProgress.dispatch(this, e.loaded / e.total)
                            }, e.prototype._xhrOnError = function() {
                                var e = this.xhr;
                                this.abort(s(e) + " Request failed. Status: " + e.status + ', text: "' + e.statusText + '"')
                            }, e.prototype._xhrOnAbort = function() {
                                this.abort(s(this.xhr) + " Request was aborted by the user.")
                            }, e.prototype._xdrOnTimeout = function() {
                                this.abort(s(this.xhr) + " Request timed out.")
                            }, e.prototype._xhrOnLoad = function() {
                                var t = this.xhr,
                                    n = void 0 === t.status ? t.status : 200;
                                if (!(200 === n || 204 === n || 0 === n && t.responseText.length > 0)) return void this.abort("[" + t.status + "] " + t.statusText + ": " + t.responseURL);
                                if (this.xhrType === e.XHR_RESPONSE_TYPE.TEXT) this.data = t.responseText, this.type = e.TYPE.TEXT;
                                else if (this.xhrType === e.XHR_RESPONSE_TYPE.JSON) try {
                                    this.data = JSON.parse(t.responseText), this.type = e.TYPE.JSON
                                } catch (e) {
                                    return void this.abort("Error trying to parse loaded json: " + e)
                                } else if (this.xhrType === e.XHR_RESPONSE_TYPE.DOCUMENT) try {
                                    if (window.DOMParser) {
                                        var r = new DOMParser;
                                        this.data = r.parseFromString(t.responseText, "text/xml")
                                    } else {
                                        var i = document.createElement("div");
                                        i.innerHTML = t.responseText, this.data = i
                                    }
                                    this.type = e.TYPE.XML
                                } catch (e) {
                                    return void this.abort("Error trying to parse loaded xml: " + e)
                                } else this.data = t.response || t.responseText;
                                this.complete()
                            }, e.prototype._determineCrossOrigin = function(e, t) {
                                if (0 === e.indexOf("data:")) return "";
                                t = t || window.location, p || (p = document.createElement("a")), p.href = e, e = (0, c.default)(p.href, {
                                    strictMode: !0
                                });
                                var n = !e.port && "" === t.port || e.port === t.port,
                                    r = e.protocol ? e.protocol + ":" : "";
                                return e.host === t.hostname && n && r === t.protocol ? "" : "anonymous"
                            }, e.prototype._determineXhrType = function() {
                                return e._xhrTypeMap[this.extension] || e.XHR_RESPONSE_TYPE.TEXT
                            }, e.prototype._determineLoadType = function() {
                                return e._loadTypeMap[this.extension] || e.LOAD_TYPE.XHR
                            }, e.prototype._getExtension = function() {
                                var e = this.url,
                                    t = "";
                                if (this.isDataUrl) {
                                    var n = e.indexOf("/");
                                    t = e.substring(n + 1, e.indexOf(";", n))
                                } else {
                                    var r = e.indexOf("?"); - 1 !== r && (e = e.substring(0, r)), t = e.substring(e.lastIndexOf(".") + 1)
                                }
                                return t.toLowerCase()
                            }, e.prototype._getMimeFromXhrType = function(t) {
                                switch (t) {
                                    case e.XHR_RESPONSE_TYPE.BUFFER:
                                        return "application/octet-binary";
                                    case e.XHR_RESPONSE_TYPE.BLOB:
                                        return "application/blob";
                                    case e.XHR_RESPONSE_TYPE.DOCUMENT:
                                        return "application/xml";
                                    case e.XHR_RESPONSE_TYPE.JSON:
                                        return "application/json";
                                    case e.XHR_RESPONSE_TYPE.DEFAULT:
                                    case e.XHR_RESPONSE_TYPE.TEXT:
                                    default:
                                        return "text/plain"
                                }
                            }, u(e, [{
                                key: "isDataUrl",
                                get: function() {
                                    return this._hasFlag(e.STATUS_FLAGS.DATA_URL)
                                }
                            }, {
                                key: "isComplete",
                                get: function() {
                                    return this._hasFlag(e.STATUS_FLAGS.COMPLETE)
                                }
                            }, {
                                key: "isLoading",
                                get: function() {
                                    return this._hasFlag(e.STATUS_FLAGS.LOADING)
                                }
                            }]), e
                        }();
                    n.default = m, m.STATUS_FLAGS = {
                        NONE: 0,
                        DATA_URL: 1,
                        COMPLETE: 2,
                        LOADING: 4
                    }, m.TYPE = {
                        UNKNOWN: 0,
                        JSON: 1,
                        XML: 2,
                        IMAGE: 3,
                        AUDIO: 4,
                        VIDEO: 5,
                        TEXT: 6
                    }, m.LOAD_TYPE = {
                        XHR: 1,
                        IMAGE: 2,
                        AUDIO: 3,
                        VIDEO: 4
                    }, m.XHR_RESPONSE_TYPE = {
                        DEFAULT: "text",
                        BUFFER: "arraybuffer",
                        BLOB: "blob",
                        DOCUMENT: "document",
                        JSON: "json",
                        TEXT: "text"
                    }, m._loadTypeMap = {
                        gif: m.LOAD_TYPE.IMAGE,
                        png: m.LOAD_TYPE.IMAGE,
                        bmp: m.LOAD_TYPE.IMAGE,
                        jpg: m.LOAD_TYPE.IMAGE,
                        jpeg: m.LOAD_TYPE.IMAGE,
                        tif: m.LOAD_TYPE.IMAGE,
                        tiff: m.LOAD_TYPE.IMAGE,
                        webp: m.LOAD_TYPE.IMAGE,
                        tga: m.LOAD_TYPE.IMAGE,
                        svg: m.LOAD_TYPE.IMAGE,
                        "svg+xml": m.LOAD_TYPE.IMAGE,
                        mp3: m.LOAD_TYPE.AUDIO,
                        ogg: m.LOAD_TYPE.AUDIO,
                        wav: m.LOAD_TYPE.AUDIO,
                        mp4: m.LOAD_TYPE.VIDEO,
                        webm: m.LOAD_TYPE.VIDEO
                    }, m._xhrTypeMap = {
                        xhtml: m.XHR_RESPONSE_TYPE.DOCUMENT,
                        html: m.XHR_RESPONSE_TYPE.DOCUMENT,
                        htm: m.XHR_RESPONSE_TYPE.DOCUMENT,
                        xml: m.XHR_RESPONSE_TYPE.DOCUMENT,
                        tmx: m.XHR_RESPONSE_TYPE.DOCUMENT,
                        svg: m.XHR_RESPONSE_TYPE.DOCUMENT,
                        tsx: m.XHR_RESPONSE_TYPE.DOCUMENT,
                        gif: m.XHR_RESPONSE_TYPE.BLOB,
                        png: m.XHR_RESPONSE_TYPE.BLOB,
                        bmp: m.XHR_RESPONSE_TYPE.BLOB,
                        jpg: m.XHR_RESPONSE_TYPE.BLOB,
                        jpeg: m.XHR_RESPONSE_TYPE.BLOB,
                        tif: m.XHR_RESPONSE_TYPE.BLOB,
                        tiff: m.XHR_RESPONSE_TYPE.BLOB,
                        webp: m.XHR_RESPONSE_TYPE.BLOB,
                        tga: m.XHR_RESPONSE_TYPE.BLOB,
                        json: m.XHR_RESPONSE_TYPE.JSON,
                        text: m.XHR_RESPONSE_TYPE.TEXT,
                        txt: m.XHR_RESPONSE_TYPE.TEXT,
                        ttf: m.XHR_RESPONSE_TYPE.BUFFER,
                        otf: m.XHR_RESPONSE_TYPE.BUFFER
                    }, m.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
                }, {
                    "mini-signals": 37,
                    "parse-uri": 38
                }],
                33: [function(e, t, n) {
                    "use strict";

                    function r() {}

                    function i(e, t, n) {
                        var r = 0,
                            i = e.length;
                        ! function o(a) {
                            if (a || r === i) return void(n && n(a));
                            t(e[r++], o)
                        }()
                    }

                    function o(e) {
                        return function() {
                            if (null === e) throw new Error("Callback was already called.");
                            var t = e;
                            e = null, t.apply(this, arguments)
                        }
                    }

                    function a(e, t) {
                        function n(e, t, n) {
                            if (null != n && "function" != typeof n) throw new Error("task callback must be a function");
                            if (s.started = !0, null == e && s.idle()) return void setTimeout(function() {
                                return s.drain()
                            }, 1);
                            var i = {
                                data: e,
                                callback: "function" == typeof n ? n : r
                            };
                            t ? s._tasks.unshift(i) : s._tasks.push(i), setTimeout(function() {
                                return s.process()
                            }, 1)
                        }

                        function i(e) {
                            return function() {
                                a -= 1, e.callback.apply(e, arguments), null != arguments[0] && s.error(arguments[0], e.data), a <= s.concurrency - s.buffer && s.unsaturated(), s.idle() && s.drain(), s.process()
                            }
                        }
                        if (null == t) t = 1;
                        else if (0 === t) throw new Error("Concurrency must not be zero");
                        var a = 0,
                            s = {
                                _tasks: [],
                                concurrency: t,
                                saturated: r,
                                unsaturated: r,
                                buffer: t / 4,
                                empty: r,
                                drain: r,
                                error: r,
                                started: !1,
                                paused: !1,
                                push: function(e, t) {
                                    n(e, !1, t)
                                },
                                kill: function() {
                                    a = 0, s.drain = r, s.started = !1, s._tasks = []
                                },
                                unshift: function(e, t) {
                                    n(e, !0, t)
                                },
                                process: function() {
                                    for (; !s.paused && a < s.concurrency && s._tasks.length;) {
                                        var t = s._tasks.shift();
                                        0 === s._tasks.length && s.empty(), a += 1, a === s.concurrency && s.saturated(), e(t.data, o(i(t)))
                                    }
                                },
                                length: function() {
                                    return s._tasks.length
                                },
                                running: function() {
                                    return a
                                },
                                idle: function() {
                                    return s._tasks.length + a === 0
                                },
                                pause: function() {
                                    !0 !== s.paused && (s.paused = !0)
                                },
                                resume: function() {
                                    if (!1 !== s.paused) {
                                        s.paused = !1;
                                        for (var e = 1; e <= s.concurrency; e++) s.process()
                                    }
                                }
                            };
                        return s
                    }
                    n.__esModule = !0, n.eachSeries = i, n.queue = a
                }, {}],
                34: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        for (var t = "", n = 0; n < e.length;) {
                            for (var r = [0, 0, 0], o = [0, 0, 0, 0], a = 0; a < r.length; ++a) n < e.length ? r[a] = 255 & e.charCodeAt(n++) : r[a] = 0;
                            o[0] = r[0] >> 2, o[1] = (3 & r[0]) << 4 | r[1] >> 4, o[2] = (15 & r[1]) << 2 | r[2] >> 6, o[3] = 63 & r[2];
                            switch (n - (e.length - 1)) {
                                case 2:
                                    o[3] = 64, o[2] = 64;
                                    break;
                                case 1:
                                    o[3] = 64
                            }
                            for (var s = 0; s < o.length; ++s) t += i.charAt(o[s])
                        }
                        return t
                    }
                    n.__esModule = !0, n.encodeBinary = r;
                    var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
                }, {}],
                35: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        if (e && e.__esModule) return e;
                        var t = {};
                        if (null != e)
                            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                        return t.default = e, t
                    }

                    function i(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var o = e("./Loader"),
                        a = i(o),
                        s = e("./Resource"),
                        u = i(s),
                        l = e("./async"),
                        c = r(l),
                        h = e("./b64"),
                        d = r(h);
                    a.default.Resource = u.default, a.default.async = c, a.default.base64 = d, t.exports = a.default, n.default = a.default
                }, {
                    "./Loader": 31,
                    "./Resource": 32,
                    "./async": 33,
                    "./b64": 34
                }],
                36: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i() {
                        return function(e, t) {
                            if (!e.data) return void t();
                            if (e.xhr && e.xhrType === s.default.XHR_RESPONSE_TYPE.BLOB)
                                if (window.Blob && "string" != typeof e.data) {
                                    if (0 === e.data.type.indexOf("image")) {
                                        var n = function() {
                                            var n = c.createObjectURL(e.data);
                                            return e.blob = e.data, e.data = new Image, e.data.src = n, e.type = s.default.TYPE.IMAGE, e.data.onload = function() {
                                                c.revokeObjectURL(n), e.data.onload = null, t()
                                            }, {
                                                v: void 0
                                            }
                                        }();
                                        if ("object" === (void 0 === n ? "undefined" : o(n))) return n.v
                                    }
                                } else {
                                    var r = e.xhr.getResponseHeader("content-type");
                                    if (r && 0 === r.indexOf("image")) return e.data = new Image, e.data.src = "data:" + r + ";base64," + l.default.encodeBinary(e.xhr.responseText), e.type = s.default.TYPE.IMAGE, void(e.data.onload = function() {
                                        e.data.onload = null, t()
                                    })
                                }
                            t()
                        }
                    }
                    n.__esModule = !0;
                    var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                        return typeof e
                    } : function(e) {
                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                    };
                    n.blobMiddlewareFactory = i;
                    var a = e("../../Resource"),
                        s = r(a),
                        u = e("../../b64"),
                        l = r(u),
                        c = window.URL || window.webkitURL
                }, {
                    "../../Resource": 32,
                    "../../b64": 34
                }],
                37: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        return e._head ? (e._tail._next = t, t._prev = e._tail, e._tail = t) : (e._head = t, e._tail = t), t._owner = e, t
                    }
                    Object.defineProperty(n, "__esModule", {
                        value: !0
                    });
                    var o = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        a = function() {
                            function e(t, n, i) {
                                void 0 === n && (n = !1), r(this, e), this._fn = t, this._once = n, this._thisArg = i, this._next = this._prev = this._owner = null
                            }
                            return o(e, [{
                                key: "detach",
                                value: function() {
                                    return null !== this._owner && (this._owner.detach(this), !0)
                                }
                            }]), e
                        }(),
                        s = function() {
                            function e() {
                                r(this, e), this._head = this._tail = void 0
                            }
                            return o(e, [{
                                key: "handlers",
                                value: function() {
                                    var e = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0],
                                        t = this._head;
                                    if (e) return !!t;
                                    for (var n = []; t;) n.push(t), t = t._next;
                                    return n
                                }
                            }, {
                                key: "has",
                                value: function(e) {
                                    if (!(e instanceof a)) throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
                                    return e._owner === this
                                }
                            }, {
                                key: "dispatch",
                                value: function() {
                                    var e = this._head;
                                    if (!e) return !1;
                                    for (; e;) e._once && this.detach(e), e._fn.apply(e._thisArg, arguments), e = e._next;
                                    return !0
                                }
                            }, {
                                key: "add",
                                value: function(e) {
                                    var t = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
                                    if ("function" != typeof e) throw new Error("MiniSignal#add(): First arg must be a Function.");
                                    return i(this, new a(e, !1, t))
                                }
                            }, {
                                key: "once",
                                value: function(e) {
                                    var t = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
                                    if ("function" != typeof e) throw new Error("MiniSignal#once(): First arg must be a Function.");
                                    return i(this, new a(e, !0, t))
                                }
                            }, {
                                key: "detach",
                                value: function(e) {
                                    if (!(e instanceof a)) throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
                                    return e._owner !== this ? this : (e._prev && (e._prev._next = e._next), e._next && (e._next._prev = e._prev), e === this._head ? (this._head = e._next, null === e._next && (this._tail = null)) : e === this._tail && (this._tail = e._prev, this._tail._next = null), e._owner = null, this)
                                }
                            }, {
                                key: "detachAll",
                                value: function() {
                                    var e = this._head;
                                    if (!e) return this;
                                    for (this._head = this._tail = null; e;) e._owner = null, e = e._next;
                                    return this
                                }
                            }]), e
                        }();
                    s.MiniSignalBinding = a, n.default = s, t.exports = n.default
                }, {}],
                38: [function(e, t, n) {
                    "use strict";
                    t.exports = function(e, t) {
                        t = t || {};
                        for (var n = {
                                key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
                                q: {
                                    name: "queryKey",
                                    parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                                },
                                parser: {
                                    strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                                    loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                                }
                            }, r = n.parser[t.strictMode ? "strict" : "loose"].exec(e), i = {}, o = 14; o--;) i[n.key[o]] = r[o] || "";
                        return i[n.q.name] = {}, i[n.key[12]].replace(n.q.parser, function(e, t, r) {
                            t && (i[n.q.name][t] = r)
                        }), i
                    }
                }, {}],
                39: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = e("../core"),
                        a = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(o),
                        s = e("ismobilejs"),
                        u = r(s),
                        l = e("./accessibleTarget"),
                        c = r(l);
                    a.utils.mixins.delayMixin(a.DisplayObject.prototype, c.default);
                    var h = 100,
                        d = 0,
                        f = 0,
                        p = 2,
                        m = function() {
                            function e(t) {
                                i(this, e), !u.default.tablet && !u.default.phone || navigator.isCocoonJS || this.createTouchHook();
                                var n = document.createElement("div");
                                n.style.width = h + "px", n.style.height = h + "px", n.style.position = "absolute", n.style.top = d + "px", n.style.left = f + "px", n.style.zIndex = p, this.div = n, this.pool = [], this.renderId = 0, this.debug = !1, this.renderer = t, this.children = [], this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this.isActive = !1, this.isMobileAccessabillity = !1, window.addEventListener("keydown", this._onKeyDown, !1)
                            }
                            return e.prototype.createTouchHook = function() {
                                var e = this,
                                    t = document.createElement("button");
                                t.style.width = "1px", t.style.height = "1px", t.style.position = "absolute", t.style.top = "-1000px", t.style.left = "-1000px", t.style.zIndex = 2, t.style.backgroundColor = "#FF0000", t.title = "HOOK DIV", t.addEventListener("focus", function() {
                                    e.isMobileAccessabillity = !0, e.activate(), document.body.removeChild(t)
                                }), document.body.appendChild(t)
                            }, e.prototype.activate = function() {
                                this.isActive || (this.isActive = !0, window.document.addEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown, !1), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div))
                            }, e.prototype.deactivate = function() {
                                this.isActive && !this.isMobileAccessabillity && (this.isActive = !1, window.document.removeEventListener("mousemove", this._onMouseMove), window.addEventListener("keydown", this._onKeyDown, !1), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div))
                            }, e.prototype.updateAccessibleObjects = function(e) {
                                if (e.visible) {
                                    e.accessible && e.interactive && (e._accessibleActive || this.addChild(e), e.renderId = this.renderId);
                                    for (var t = e.children, n = t.length - 1; n >= 0; n--) this.updateAccessibleObjects(t[n])
                                }
                            }, e.prototype.update = function() {
                                if (this.renderer.renderingToScreen) {
                                    this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                                    var e = this.renderer.view.getBoundingClientRect(),
                                        t = e.width / this.renderer.width,
                                        n = e.height / this.renderer.height,
                                        r = this.div;
                                    r.style.left = e.left + "px", r.style.top = e.top + "px", r.style.width = this.renderer.width + "px", r.style.height = this.renderer.height + "px";
                                    for (var i = 0; i < this.children.length; i++) {
                                        var o = this.children[i];
                                        if (o.renderId !== this.renderId) o._accessibleActive = !1, a.utils.removeItems(this.children, i, 1), this.div.removeChild(o._accessibleDiv), this.pool.push(o._accessibleDiv), o._accessibleDiv = null, i--, 0 === this.children.length && this.deactivate();
                                        else {
                                            r = o._accessibleDiv;
                                            var s = o.hitArea,
                                                u = o.worldTransform;
                                            o.hitArea ? (r.style.left = (u.tx + s.x * u.a) * t + "px", r.style.top = (u.ty + s.y * u.d) * n + "px", r.style.width = s.width * u.a * t + "px", r.style.height = s.height * u.d * n + "px") : (s = o.getBounds(), this.capHitArea(s), r.style.left = s.x * t + "px", r.style.top = s.y * n + "px", r.style.width = s.width * t + "px", r.style.height = s.height * n + "px")
                                        }
                                    }
                                    this.renderId++
                                }
                            }, e.prototype.capHitArea = function(e) {
                                e.x < 0 && (e.width += e.x, e.x = 0), e.y < 0 && (e.height += e.y, e.y = 0), e.x + e.width > this.renderer.width && (e.width = this.renderer.width - e.x), e.y + e.height > this.renderer.height && (e.height = this.renderer.height - e.y)
                            }, e.prototype.addChild = function(e) {
                                var t = this.pool.pop();
                                t || (t = document.createElement("button"), t.style.width = h + "px", t.style.height = h + "px", t.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent", t.style.position = "absolute", t.style.zIndex = p, t.style.borderStyle = "none", t.addEventListener("click", this._onClick.bind(this)), t.addEventListener("focus", this._onFocus.bind(this)), t.addEventListener("focusout", this._onFocusOut.bind(this))), e.accessibleTitle ? t.title = e.accessibleTitle : e.accessibleTitle || e.accessibleHint || (t.title = "displayObject " + this.tabIndex), e.accessibleHint && t.setAttribute("aria-label", e.accessibleHint), e._accessibleActive = !0, e._accessibleDiv = t, t.displayObject = e, this.children.push(e), this.div.appendChild(e._accessibleDiv), e._accessibleDiv.tabIndex = e.tabIndex
                            }, e.prototype._onClick = function(e) {
                                var t = this.renderer.plugins.interaction;
                                t.dispatchEvent(e.target.displayObject, "click", t.eventData)
                            }, e.prototype._onFocus = function(e) {
                                var t = this.renderer.plugins.interaction;
                                t.dispatchEvent(e.target.displayObject, "mouseover", t.eventData)
                            }, e.prototype._onFocusOut = function(e) {
                                var t = this.renderer.plugins.interaction;
                                t.dispatchEvent(e.target.displayObject, "mouseout", t.eventData)
                            }, e.prototype._onKeyDown = function(e) {
                                9 === e.keyCode && this.activate()
                            }, e.prototype._onMouseMove = function() {
                                this.deactivate()
                            }, e.prototype.destroy = function() {
                                this.div = null;
                                for (var e = 0; e < this.children.length; e++) this.children[e].div = null;
                                window.document.removeEventListener("mousemove", this._onMouseMove), window.removeEventListener("keydown", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null
                            }, e
                        }();
                    n.default = m, a.WebGLRenderer.registerPlugin("accessibility", m), a.CanvasRenderer.registerPlugin("accessibility", m)
                }, {
                    "../core": 64,
                    "./accessibleTarget": 40,
                    ismobilejs: 4
                }],
                40: [function(e, t, n) {
                    "use strict";
                    n.__esModule = !0, n.default = {
                        accessible: !1,
                        accessibleTitle: null,
                        accessibleHint: null,
                        tabIndex: 0,
                        _accessibleActive: !1,
                        _accessibleDiv: !1
                    }
                }, {}],
                41: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./accessibleTarget");
                    Object.defineProperty(n, "accessibleTarget", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./AccessibilityManager");
                    Object.defineProperty(n, "AccessibilityManager", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    })
                }, {
                    "./AccessibilityManager": 39,
                    "./accessibleTarget": 40
                }],
                42: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        a = e("./autoDetectRenderer"),
                        s = e("./display/Container"),
                        u = r(s),
                        l = e("./ticker"),
                        c = e("./settings"),
                        h = r(c),
                        d = e("./const"),
                        f = function() {
                            function e(t, n, r, o, s) {
                                i(this, e), "number" == typeof t && (t = Object.assign({
                                    width: t,
                                    height: n || h.default.RENDER_OPTIONS.height,
                                    forceCanvas: !!o,
                                    sharedTicker: !!s
                                }, r)), this._options = t = Object.assign({
                                    sharedTicker: !1,
                                    forceCanvas: !1,
                                    sharedLoader: !1
                                }, t), this.renderer = (0, a.autoDetectRenderer)(t), this.stage = new u.default, this._ticker = null, this.ticker = t.sharedTicker ? l.shared : new l.Ticker, this.start()
                            }
                            return e.prototype.render = function() {
                                this.renderer.render(this.stage)
                            }, e.prototype.stop = function() {
                                this._ticker.stop()
                            }, e.prototype.start = function() {
                                this._ticker.start()
                            }, e.prototype.destroy = function(e) {
                                var t = this._ticker;
                                this.ticker = null, t.destroy(), this.stage.destroy(), this.stage = null, this.renderer.destroy(e), this.renderer = null, this._options = null
                            }, o(e, [{
                                key: "ticker",
                                set: function(e) {
                                    this._ticker && this._ticker.remove(this.render, this), this._ticker = e, e && e.add(this.render, this, d.UPDATE_PRIORITY.LOW)
                                },
                                get: function() {
                                    return this._ticker
                                }
                            }, {
                                key: "view",
                                get: function() {
                                    return this.renderer.view
                                }
                            }, {
                                key: "screen",
                                get: function() {
                                    return this.renderer.screen
                                }
                            }]), e
                        }();
                    n.default = f
                }, {
                    "./autoDetectRenderer": 44,
                    "./const": 45,
                    "./display/Container": 47,
                    "./settings": 100,
                    "./ticker": 119
                }],
                43: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }

                    function a(e, t) {
                        if (e instanceof Array) {
                            if ("precision" !== e[0].substring(0, 9)) {
                                var n = e.slice(0);
                                return n.unshift("precision " + t + " float;"), n
                            }
                        } else if ("precision" !== e.substring(0, 9)) return "precision " + t + " float;\n" + e;
                        return e
                    }
                    n.__esModule = !0;
                    var s = e("pixi-gl-core"),
                        u = e("./settings"),
                        l = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(u),
                        c = function(e) {
                            function t(n, o, s) {
                                return r(this, t), i(this, e.call(this, n, a(o, l.default.PRECISION_VERTEX), a(s, l.default.PRECISION_FRAGMENT)))
                            }
                            return o(t, e), t
                        }(s.GLShader);
                    n.default = c
                }, {
                    "./settings": 100,
                    "pixi-gl-core": 12
                }],
                44: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t, n, r) {
                        var i = e && e.forceCanvas;
                        return void 0 !== r && (i = r), !i && a.isWebGLSupported() ? new c.default(e, t, n) : new u.default(e, t, n)
                    }
                    n.__esModule = !0, n.autoDetectRenderer = i;
                    var o = e("./utils"),
                        a = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(o),
                        s = e("./renderers/canvas/CanvasRenderer"),
                        u = r(s),
                        l = e("./renderers/webgl/WebGLRenderer"),
                        c = r(l)
                }, {
                    "./renderers/canvas/CanvasRenderer": 76,
                    "./renderers/webgl/WebGLRenderer": 83,
                    "./utils": 123
                }],
                45: [function(e, t, n) {
                    "use strict";
                    n.__esModule = !0;
                    n.VERSION = "4.5.3", n.PI_2 = 2 * Math.PI, n.RAD_TO_DEG = 180 / Math.PI, n.DEG_TO_RAD = Math.PI / 180, n.RENDERER_TYPE = {
                        UNKNOWN: 0,
                        WEBGL: 1,
                        CANVAS: 2
                    }, n.BLEND_MODES = {
                        NORMAL: 0,
                        ADD: 1,
                        MULTIPLY: 2,
                        SCREEN: 3,
                        OVERLAY: 4,
                        DARKEN: 5,
                        LIGHTEN: 6,
                        COLOR_DODGE: 7,
                        COLOR_BURN: 8,
                        HARD_LIGHT: 9,
                        SOFT_LIGHT: 10,
                        DIFFERENCE: 11,
                        EXCLUSION: 12,
                        HUE: 13,
                        SATURATION: 14,
                        COLOR: 15,
                        LUMINOSITY: 16,
                        NORMAL_NPM: 17,
                        ADD_NPM: 18,
                        SCREEN_NPM: 19
                    }, n.DRAW_MODES = {
                        POINTS: 0,
                        LINES: 1,
                        LINE_LOOP: 2,
                        LINE_STRIP: 3,
                        TRIANGLES: 4,
                        TRIANGLE_STRIP: 5,
                        TRIANGLE_FAN: 6
                    }, n.SCALE_MODES = {
                        LINEAR: 0,
                        NEAREST: 1
                    }, n.WRAP_MODES = {
                        CLAMP: 0,
                        REPEAT: 1,
                        MIRRORED_REPEAT: 2
                    }, n.GC_MODES = {
                        AUTO: 0,
                        MANUAL: 1
                    }, n.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i, n.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i, n.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i, n.SHAPES = {
                        POLY: 0,
                        RECT: 1,
                        CIRC: 2,
                        ELIP: 3,
                        RREC: 4
                    }, n.PRECISION = {
                        LOW: "lowp",
                        MEDIUM: "mediump",
                        HIGH: "highp"
                    }, n.TRANSFORM_MODE = {
                        STATIC: 0,
                        DYNAMIC: 1
                    }, n.TEXT_GRADIENT = {
                        LINEAR_VERTICAL: 0,
                        LINEAR_HORIZONTAL: 1
                    }, n.UPDATE_PRIORITY = {
                        INTERACTION: 50,
                        HIGH: 25,
                        NORMAL: 0,
                        LOW: -25,
                        UTILITY: -50
                    }
                }, {}],
                46: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../math"),
                        o = function() {
                            function e() {
                                r(this, e), this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.rect = null
                            }
                            return e.prototype.isEmpty = function() {
                                return this.minX > this.maxX || this.minY > this.maxY
                            }, e.prototype.clear = function() {
                                this.updateID++, this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0
                            }, e.prototype.getRectangle = function(e) {
                                return this.minX > this.maxX || this.minY > this.maxY ? i.Rectangle.EMPTY : (e = e || new i.Rectangle(0, 0, 1, 1), e.x = this.minX, e.y = this.minY, e.width = this.maxX - this.minX, e.height = this.maxY - this.minY, e)
                            }, e.prototype.addPoint = function(e) {
                                this.minX = Math.min(this.minX, e.x), this.maxX = Math.max(this.maxX, e.x), this.minY = Math.min(this.minY, e.y), this.maxY = Math.max(this.maxY, e.y)
                            }, e.prototype.addQuad = function(e) {
                                var t = this.minX,
                                    n = this.minY,
                                    r = this.maxX,
                                    i = this.maxY,
                                    o = e[0],
                                    a = e[1];
                                t = o < t ? o : t, n = a < n ? a : n, r = o > r ? o : r, i = a > i ? a : i, o = e[2], a = e[3], t = o < t ? o : t, n = a < n ? a : n, r = o > r ? o : r, i = a > i ? a : i, o = e[4], a = e[5], t = o < t ? o : t, n = a < n ? a : n, r = o > r ? o : r, i = a > i ? a : i, o = e[6], a = e[7], t = o < t ? o : t, n = a < n ? a : n, r = o > r ? o : r, i = a > i ? a : i, this.minX = t, this.minY = n, this.maxX = r, this.maxY = i
                            }, e.prototype.addFrame = function(e, t, n, r, i) {
                                var o = e.worldTransform,
                                    a = o.a,
                                    s = o.b,
                                    u = o.c,
                                    l = o.d,
                                    c = o.tx,
                                    h = o.ty,
                                    d = this.minX,
                                    f = this.minY,
                                    p = this.maxX,
                                    m = this.maxY,
                                    g = a * t + u * n + c,
                                    _ = s * t + l * n + h;
                                d = g < d ? g : d, f = _ < f ? _ : f, p = g > p ? g : p, m = _ > m ? _ : m, g = a * r + u * n + c, _ = s * r + l * n + h, d = g < d ? g : d, f = _ < f ? _ : f, p = g > p ? g : p, m = _ > m ? _ : m, g = a * t + u * i + c, _ = s * t + l * i + h, d = g < d ? g : d, f = _ < f ? _ : f, p = g > p ? g : p, m = _ > m ? _ : m, g = a * r + u * i + c, _ = s * r + l * i + h, d = g < d ? g : d, f = _ < f ? _ : f, p = g > p ? g : p, m = _ > m ? _ : m, this.minX = d, this.minY = f, this.maxX = p, this.maxY = m
                            }, e.prototype.addVertices = function(e, t, n, r) {
                                for (var i = e.worldTransform, o = i.a, a = i.b, s = i.c, u = i.d, l = i.tx, c = i.ty, h = this.minX, d = this.minY, f = this.maxX, p = this.maxY, m = n; m < r; m += 2) {
                                    var g = t[m],
                                        _ = t[m + 1],
                                        y = o * g + s * _ + l,
                                        v = u * _ + a * g + c;
                                    h = y < h ? y : h, d = v < d ? v : d, f = y > f ? y : f, p = v > p ? v : p
                                }
                                this.minX = h, this.minY = d, this.maxX = f, this.maxY = p
                            }, e.prototype.addBounds = function(e) {
                                var t = this.minX,
                                    n = this.minY,
                                    r = this.maxX,
                                    i = this.maxY;
                                this.minX = e.minX < t ? e.minX : t, this.minY = e.minY < n ? e.minY : n, this.maxX = e.maxX > r ? e.maxX : r, this.maxY = e.maxY > i ? e.maxY : i
                            }, e.prototype.addBoundsMask = function(e, t) {
                                var n = e.minX > t.minX ? e.minX : t.minX,
                                    r = e.minY > t.minY ? e.minY : t.minY,
                                    i = e.maxX < t.maxX ? e.maxX : t.maxX,
                                    o = e.maxY < t.maxY ? e.maxY : t.maxY;
                                if (n <= i && r <= o) {
                                    var a = this.minX,
                                        s = this.minY,
                                        u = this.maxX,
                                        l = this.maxY;
                                    this.minX = n < a ? n : a, this.minY = r < s ? r : s, this.maxX = i > u ? i : u, this.maxY = o > l ? o : l
                                }
                            }, e.prototype.addBoundsArea = function(e, t) {
                                var n = e.minX > t.x ? e.minX : t.x,
                                    r = e.minY > t.y ? e.minY : t.y,
                                    i = e.maxX < t.x + t.width ? e.maxX : t.x + t.width,
                                    o = e.maxY < t.y + t.height ? e.maxY : t.y + t.height;
                                if (n <= i && r <= o) {
                                    var a = this.minX,
                                        s = this.minY,
                                        u = this.maxX,
                                        l = this.maxY;
                                    this.minX = n < a ? n : a, this.minY = r < s ? r : s, this.maxX = i > u ? i : u, this.maxY = o > l ? o : l
                                }
                            }, e
                        }();
                    n.default = o
                }, {
                    "../math": 69
                }],
                47: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../utils"),
                        u = e("./DisplayObject"),
                        l = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(u),
                        c = function(e) {
                            function t() {
                                r(this, t);
                                var n = i(this, e.call(this));
                                return n.children = [], n
                            }
                            return o(t, e), t.prototype.onChildrenChange = function() {}, t.prototype.addChild = function(e) {
                                var t = arguments.length;
                                if (t > 1)
                                    for (var n = 0; n < t; n++) this.addChild(arguments[n]);
                                else e.parent && e.parent.removeChild(e), e.parent = this, e.transform._parentID = -1, this.children.push(e), this._boundsID++, this.onChildrenChange(this.children.length - 1), e.emit("added", this);
                                return e
                            }, t.prototype.addChildAt = function(e, t) {
                                if (t < 0 || t > this.children.length) throw new Error(e + "addChildAt: The index " + t + " supplied is out of bounds " + this.children.length);
                                return e.parent && e.parent.removeChild(e), e.parent = this, e.transform._parentID = -1, this.children.splice(t, 0, e), this._boundsID++, this.onChildrenChange(t), e.emit("added", this), e
                            }, t.prototype.swapChildren = function(e, t) {
                                if (e !== t) {
                                    var n = this.getChildIndex(e),
                                        r = this.getChildIndex(t);
                                    this.children[n] = t, this.children[r] = e, this.onChildrenChange(n < r ? n : r)
                                }
                            }, t.prototype.getChildIndex = function(e) {
                                var t = this.children.indexOf(e);
                                if (-1 === t) throw new Error("The supplied DisplayObject must be a child of the caller");
                                return t
                            }, t.prototype.setChildIndex = function(e, t) {
                                if (t < 0 || t >= this.children.length) throw new Error("The supplied index is out of bounds");
                                var n = this.getChildIndex(e);
                                (0, s.removeItems)(this.children, n, 1), this.children.splice(t, 0, e), this.onChildrenChange(t)
                            }, t.prototype.getChildAt = function(e) {
                                if (e < 0 || e >= this.children.length) throw new Error("getChildAt: Index (" + e + ") does not exist.");
                                return this.children[e]
                            }, t.prototype.removeChild = function(e) {
                                var t = arguments.length;
                                if (t > 1)
                                    for (var n = 0; n < t; n++) this.removeChild(arguments[n]);
                                else {
                                    var r = this.children.indexOf(e);
                                    if (-1 === r) return null;
                                    e.parent = null, e.transform._parentID = -1, (0, s.removeItems)(this.children, r, 1), this._boundsID++, this.onChildrenChange(r), e.emit("removed", this)
                                }
                                return e
                            }, t.prototype.removeChildAt = function(e) {
                                var t = this.getChildAt(e);
                                return t.parent = null, t.transform._parentID = -1, (0, s.removeItems)(this.children, e, 1), this._boundsID++, this.onChildrenChange(e), t.emit("removed", this), t
                            }, t.prototype.removeChildren = function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    t = arguments[1],
                                    n = e,
                                    r = "number" == typeof t ? t : this.children.length,
                                    i = r - n,
                                    o = void 0;
                                if (i > 0 && i <= r) {
                                    o = this.children.splice(n, i);
                                    for (var a = 0; a < o.length; ++a) o[a].parent = null, o[a].transform && (o[a].transform._parentID = -1);
                                    this._boundsID++, this.onChildrenChange(e);
                                    for (var s = 0; s < o.length; ++s) o[s].emit("removed", this);
                                    return o
                                }
                                if (0 === i && 0 === this.children.length) return [];
                                throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
                            }, t.prototype.updateTransform = function() {
                                this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;
                                for (var e = 0, t = this.children.length; e < t; ++e) {
                                    var n = this.children[e];
                                    n.visible && n.updateTransform()
                                }
                            }, t.prototype.calculateBounds = function() {
                                this._bounds.clear(), this._calculateBounds();
                                for (var e = 0; e < this.children.length; e++) {
                                    var t = this.children[e];
                                    t.visible && t.renderable && (t.calculateBounds(), t._mask ? (t._mask.calculateBounds(), this._bounds.addBoundsMask(t._bounds, t._mask._bounds)) : t.filterArea ? this._bounds.addBoundsArea(t._bounds, t.filterArea) : this._bounds.addBounds(t._bounds))
                                }
                                this._lastBoundsID = this._boundsID
                            }, t.prototype._calculateBounds = function() {}, t.prototype.renderWebGL = function(e) {
                                if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                                    if (this._mask || this._filters) this.renderAdvancedWebGL(e);
                                    else {
                                        this._renderWebGL(e);
                                        for (var t = 0, n = this.children.length; t < n; ++t) this.children[t].renderWebGL(e)
                                    }
                            }, t.prototype.renderAdvancedWebGL = function(e) {
                                e.flush();
                                var t = this._filters,
                                    n = this._mask;
                                if (t) {
                                    this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0;
                                    for (var r = 0; r < t.length; r++) t[r].enabled && this._enabledFilters.push(t[r]);
                                    this._enabledFilters.length && e.filterManager.pushFilter(this, this._enabledFilters)
                                }
                                n && e.maskManager.pushMask(this, this._mask), this._renderWebGL(e);
                                for (var i = 0, o = this.children.length; i < o; i++) this.children[i].renderWebGL(e);
                                e.flush(), n && e.maskManager.popMask(this, this._mask), t && this._enabledFilters && this._enabledFilters.length && e.filterManager.popFilter()
                            }, t.prototype._renderWebGL = function(e) {}, t.prototype._renderCanvas = function(e) {}, t.prototype.renderCanvas = function(e) {
                                if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
                                    this._mask && e.maskManager.pushMask(this._mask), this._renderCanvas(e);
                                    for (var t = 0, n = this.children.length; t < n; ++t) this.children[t].renderCanvas(e);
                                    this._mask && e.maskManager.popMask(e)
                                }
                            }, t.prototype.destroy = function(t) {
                                e.prototype.destroy.call(this);
                                var n = "boolean" == typeof t ? t : t && t.children,
                                    r = this.removeChildren(0, this.children.length);
                                if (n)
                                    for (var i = 0; i < r.length; ++i) r[i].destroy(t)
                            }, a(t, [{
                                key: "width",
                                get: function() {
                                    return this.scale.x * this.getLocalBounds().width
                                },
                                set: function(e) {
                                    var t = this.getLocalBounds().width;
                                    this.scale.x = 0 !== t ? e / t : 1, this._width = e
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return this.scale.y * this.getLocalBounds().height
                                },
                                set: function(e) {
                                    var t = this.getLocalBounds().height;
                                    this.scale.y = 0 !== t ? e / t : 1, this._height = e
                                }
                            }]), t
                        }(l.default);
                    n.default = c, c.prototype.containerUpdateTransform = c.prototype.updateTransform
                }, {
                    "../utils": 123,
                    "./DisplayObject": 48
                }],
                48: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("eventemitter3"),
                        l = r(u),
                        c = e("../const"),
                        h = e("../settings"),
                        d = r(h),
                        f = e("./TransformStatic"),
                        p = r(f),
                        m = e("./Transform"),
                        g = r(m),
                        _ = e("./Bounds"),
                        y = r(_),
                        v = e("../math"),
                        b = function(e) {
                            function t() {
                                i(this, t);
                                var n = o(this, e.call(this)),
                                    r = d.default.TRANSFORM_MODE === c.TRANSFORM_MODE.STATIC ? p.default : g.default;
                                return n.tempDisplayObjectParent = null, n.transform = new r, n.alpha = 1, n.visible = !0, n.renderable = !0, n.parent = null, n.worldAlpha = 1, n.filterArea = null, n._filters = null, n._enabledFilters = null, n._bounds = new y.default, n._boundsID = 0, n._lastBoundsID = -1, n._boundsRect = null, n._localBoundsRect = null, n._mask = null, n._destroyed = !1, n
                            }
                            return a(t, e), t.prototype.updateTransform = function() {
                                this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha, this._bounds.updateID++
                            }, t.prototype._recursivePostUpdateTransform = function() {
                                this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform)
                            }, t.prototype.getBounds = function(e, t) {
                                return e || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._boundsID !== this._lastBoundsID && this.calculateBounds(), t || (this._boundsRect || (this._boundsRect = new v.Rectangle), t = this._boundsRect), this._bounds.getRectangle(t)
                            }, t.prototype.getLocalBounds = function(e) {
                                var t = this.transform,
                                    n = this.parent;
                                this.parent = null, this.transform = this._tempDisplayObjectParent.transform, e || (this._localBoundsRect || (this._localBoundsRect = new v.Rectangle), e = this._localBoundsRect);
                                var r = this.getBounds(!1, e);
                                return this.parent = n, this.transform = t, r
                            }, t.prototype.toGlobal = function(e, t) {
                                return arguments.length > 2 && void 0 !== arguments[2] && arguments[2] || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(e, t)
                            }, t.prototype.toLocal = function(e, t, n, r) {
                                return t && (e = t.toGlobal(e, n, r)), r || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(e, n)
                            }, t.prototype.renderWebGL = function(e) {}, t.prototype.renderCanvas = function(e) {}, t.prototype.setParent = function(e) {
                                if (!e || !e.addChild) throw new Error("setParent: Argument must be a Container");
                                return e.addChild(this), e
                            }, t.prototype.setTransform = function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                                    r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                                    i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                                    o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0,
                                    a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0,
                                    s = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0,
                                    u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0;
                                return this.position.x = e, this.position.y = t, this.scale.x = n || 1, this.scale.y = r || 1, this.rotation = i, this.skew.x = o, this.skew.y = a, this.pivot.x = s, this.pivot.y = u, this
                            }, t.prototype.destroy = function() {
                                this.removeAllListeners(), this.parent && this.parent.removeChild(this), this.transform = null, this.parent = null, this._bounds = null, this._currentBounds = null, this._mask = null, this.filterArea = null, this.interactive = !1, this.interactiveChildren = !1, this._destroyed = !0
                            }, s(t, [{
                                key: "_tempDisplayObjectParent",
                                get: function() {
                                    return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new t), this.tempDisplayObjectParent
                                }
                            }, {
                                key: "x",
                                get: function() {
                                    return this.position.x
                                },
                                set: function(e) {
                                    this.transform.position.x = e
                                }
                            }, {
                                key: "y",
                                get: function() {
                                    return this.position.y
                                },
                                set: function(e) {
                                    this.transform.position.y = e
                                }
                            }, {
                                key: "worldTransform",
                                get: function() {
                                    return this.transform.worldTransform
                                }
                            }, {
                                key: "localTransform",
                                get: function() {
                                    return this.transform.localTransform
                                }
                            }, {
                                key: "position",
                                get: function() {
                                    return this.transform.position
                                },
                                set: function(e) {
                                    this.transform.position.copy(e)
                                }
                            }, {
                                key: "scale",
                                get: function() {
                                    return this.transform.scale
                                },
                                set: function(e) {
                                    this.transform.scale.copy(e)
                                }
                            }, {
                                key: "pivot",
                                get: function() {
                                    return this.transform.pivot
                                },
                                set: function(e) {
                                    this.transform.pivot.copy(e)
                                }
                            }, {
                                key: "skew",
                                get: function() {
                                    return this.transform.skew
                                },
                                set: function(e) {
                                    this.transform.skew.copy(e)
                                }
                            }, {
                                key: "rotation",
                                get: function() {
                                    return this.transform.rotation
                                },
                                set: function(e) {
                                    this.transform.rotation = e
                                }
                            }, {
                                key: "worldVisible",
                                get: function() {
                                    var e = this;
                                    do {
                                        if (!e.visible) return !1;
                                        e = e.parent
                                    } while (e);
                                    return !0
                                }
                            }, {
                                key: "mask",
                                get: function() {
                                    return this._mask
                                },
                                set: function(e) {
                                    this._mask && (this._mask.renderable = !0), this._mask = e, this._mask && (this._mask.renderable = !1)
                                }
                            }, {
                                key: "filters",
                                get: function() {
                                    return this._filters && this._filters.slice()
                                },
                                set: function(e) {
                                    this._filters = e && e.slice()
                                }
                            }]), t
                        }(l.default);
                    n.default = b, b.prototype.displayObjectUpdateTransform = b.prototype.updateTransform
                }, {
                    "../const": 45,
                    "../math": 69,
                    "../settings": 100,
                    "./Bounds": 46,
                    "./Transform": 49,
                    "./TransformStatic": 51,
                    eventemitter3: 3
                }],
                49: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../math"),
                        u = e("./TransformBase"),
                        l = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(u),
                        c = function(e) {
                            function t() {
                                r(this, t);
                                var n = i(this, e.call(this));
                                return n.position = new s.Point(0, 0), n.scale = new s.Point(1, 1), n.skew = new s.ObservablePoint(n.updateSkew, n, 0, 0), n.pivot = new s.Point(0, 0), n._rotation = 0, n._cx = 1, n._sx = 0, n._cy = 0, n._sy = 1, n
                            }
                            return o(t, e), t.prototype.updateSkew = function() {
                                this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x)
                            }, t.prototype.updateLocalTransform = function() {
                                var e = this.localTransform;
                                e.a = this._cx * this.scale.x, e.b = this._sx * this.scale.x, e.c = this._cy * this.scale.y, e.d = this._sy * this.scale.y, e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c), e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d)
                            }, t.prototype.updateTransform = function(e) {
                                var t = this.localTransform;
                                t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d);
                                var n = e.worldTransform,
                                    r = this.worldTransform;
                                r.a = t.a * n.a + t.b * n.c, r.b = t.a * n.b + t.b * n.d, r.c = t.c * n.a + t.d * n.c, r.d = t.c * n.b + t.d * n.d, r.tx = t.tx * n.a + t.ty * n.c + n.tx, r.ty = t.tx * n.b + t.ty * n.d + n.ty, this._worldID++
                            }, t.prototype.setFromMatrix = function(e) {
                                e.decompose(this)
                            }, a(t, [{
                                key: "rotation",
                                get: function() {
                                    return this._rotation
                                },
                                set: function(e) {
                                    this._rotation = e, this.updateSkew()
                                }
                            }]), t
                        }(l.default);
                    n.default = c
                }, {
                    "../math": 69,
                    "./TransformBase": 50
                }],
                50: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../math"),
                        o = function() {
                            function e() {
                                r(this, e), this.worldTransform = new i.Matrix, this.localTransform = new i.Matrix, this._worldID = 0, this._parentID = 0
                            }
                            return e.prototype.updateLocalTransform = function() {}, e.prototype.updateTransform = function(e) {
                                var t = e.worldTransform,
                                    n = this.worldTransform,
                                    r = this.localTransform;
                                n.a = r.a * t.a + r.b * t.c, n.b = r.a * t.b + r.b * t.d, n.c = r.c * t.a + r.d * t.c, n.d = r.c * t.b + r.d * t.d, n.tx = r.tx * t.a + r.ty * t.c + t.tx, n.ty = r.tx * t.b + r.ty * t.d + t.ty,
                                    this._worldID++
                            }, e
                        }();
                    n.default = o, o.prototype.updateWorldTransform = o.prototype.updateTransform, o.IDENTITY = new o
                }, {
                    "../math": 69
                }],
                51: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../math"),
                        u = e("./TransformBase"),
                        l = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(u),
                        c = function(e) {
                            function t() {
                                r(this, t);
                                var n = i(this, e.call(this));
                                return n.position = new s.ObservablePoint(n.onChange, n, 0, 0), n.scale = new s.ObservablePoint(n.onChange, n, 1, 1), n.pivot = new s.ObservablePoint(n.onChange, n, 0, 0), n.skew = new s.ObservablePoint(n.updateSkew, n, 0, 0), n._rotation = 0, n._cx = 1, n._sx = 0, n._cy = 0, n._sy = 1, n._localID = 0, n._currentLocalID = 0, n
                            }
                            return o(t, e), t.prototype.onChange = function() {
                                this._localID++
                            }, t.prototype.updateSkew = function() {
                                this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x), this._localID++
                            }, t.prototype.updateLocalTransform = function() {
                                var e = this.localTransform;
                                this._localID !== this._currentLocalID && (e.a = this._cx * this.scale._x, e.b = this._sx * this.scale._x, e.c = this._cy * this.scale._y, e.d = this._sy * this.scale._y, e.tx = this.position._x - (this.pivot._x * e.a + this.pivot._y * e.c), e.ty = this.position._y - (this.pivot._x * e.b + this.pivot._y * e.d), this._currentLocalID = this._localID, this._parentID = -1)
                            }, t.prototype.updateTransform = function(e) {
                                var t = this.localTransform;
                                if (this._localID !== this._currentLocalID && (t.a = this._cx * this.scale._x, t.b = this._sx * this.scale._x, t.c = this._cy * this.scale._y, t.d = this._sy * this.scale._y, t.tx = this.position._x - (this.pivot._x * t.a + this.pivot._y * t.c), t.ty = this.position._y - (this.pivot._x * t.b + this.pivot._y * t.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== e._worldID) {
                                    var n = e.worldTransform,
                                        r = this.worldTransform;
                                    r.a = t.a * n.a + t.b * n.c, r.b = t.a * n.b + t.b * n.d, r.c = t.c * n.a + t.d * n.c, r.d = t.c * n.b + t.d * n.d, r.tx = t.tx * n.a + t.ty * n.c + n.tx, r.ty = t.tx * n.b + t.ty * n.d + n.ty, this._parentID = e._worldID, this._worldID++
                                }
                            }, t.prototype.setFromMatrix = function(e) {
                                e.decompose(this), this._localID++
                            }, a(t, [{
                                key: "rotation",
                                get: function() {
                                    return this._rotation
                                },
                                set: function(e) {
                                    this._rotation = e, this.updateSkew()
                                }
                            }]), t
                        }(l.default);
                    n.default = c
                }, {
                    "../math": 69,
                    "./TransformBase": 50
                }],
                52: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("../display/Container"),
                        u = r(s),
                        l = e("../textures/RenderTexture"),
                        c = r(l),
                        h = e("../textures/Texture"),
                        d = r(h),
                        f = e("./GraphicsData"),
                        p = r(f),
                        m = e("../sprites/Sprite"),
                        g = r(m),
                        _ = e("../math"),
                        y = e("../utils"),
                        v = e("../const"),
                        b = e("../display/Bounds"),
                        x = r(b),
                        T = e("./utils/bezierCurveTo"),
                        w = r(T),
                        S = e("../renderers/canvas/CanvasRenderer"),
                        E = r(S),
                        C = void 0,
                        P = new _.Matrix,
                        O = new _.Point,
                        A = new Float32Array(4),
                        M = new Float32Array(4),
                        I = function(e) {
                            function t() {
                                var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                                i(this, t);
                                var r = o(this, e.call(this));
                                return r.fillAlpha = 1, r.lineWidth = 0, r.nativeLines = n, r.lineColor = 0, r.graphicsData = [], r.tint = 16777215, r._prevTint = 16777215, r.blendMode = v.BLEND_MODES.NORMAL, r.currentPath = null, r._webGL = {}, r.isMask = !1, r.boundsPadding = 0, r._localBounds = new x.default, r.dirty = 0, r.fastRectDirty = -1, r.clearDirty = 0, r.boundsDirty = -1, r.cachedSpriteDirty = !1, r._spriteRect = null, r._fastRect = !1, r
                            }
                            return a(t, e), t.prototype.clone = function() {
                                var e = new t;
                                e.renderable = this.renderable, e.fillAlpha = this.fillAlpha, e.lineWidth = this.lineWidth, e.lineColor = this.lineColor, e.tint = this.tint, e.blendMode = this.blendMode, e.isMask = this.isMask, e.boundsPadding = this.boundsPadding, e.dirty = 0, e.cachedSpriteDirty = this.cachedSpriteDirty;
                                for (var n = 0; n < this.graphicsData.length; ++n) e.graphicsData.push(this.graphicsData[n].clone());
                                return e.currentPath = e.graphicsData[e.graphicsData.length - 1], e.updateLocalBounds(), e
                            }, t.prototype.lineStyle = function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                                if (this.lineWidth = e, this.lineColor = t, this.lineAlpha = n, this.currentPath)
                                    if (this.currentPath.shape.points.length) {
                                        var r = new _.Polygon(this.currentPath.shape.points.slice(-2));
                                        r.closed = !1, this.drawShape(r)
                                    } else this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha;
                                return this
                            }, t.prototype.moveTo = function(e, t) {
                                var n = new _.Polygon([e, t]);
                                return n.closed = !1, this.drawShape(n), this
                            }, t.prototype.lineTo = function(e, t) {
                                return this.currentPath.shape.points.push(e, t), this.dirty++, this
                            }, t.prototype.quadraticCurveTo = function(e, t, n, r) {
                                this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                                var i = this.currentPath.shape.points,
                                    o = 0,
                                    a = 0;
                                0 === i.length && this.moveTo(0, 0);
                                for (var s = i[i.length - 2], u = i[i.length - 1], l = 1; l <= 20; ++l) {
                                    var c = l / 20;
                                    o = s + (e - s) * c, a = u + (t - u) * c, i.push(o + (e + (n - e) * c - o) * c, a + (t + (r - t) * c - a) * c)
                                }
                                return this.dirty++, this
                            }, t.prototype.bezierCurveTo = function(e, t, n, r, i, o) {
                                this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                                var a = this.currentPath.shape.points,
                                    s = a[a.length - 2],
                                    u = a[a.length - 1];
                                return a.length -= 2, (0, w.default)(s, u, e, t, n, r, i, o, a), this.dirty++, this
                            }, t.prototype.arcTo = function(e, t, n, r, i) {
                                this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(e, t) : this.moveTo(e, t);
                                var o = this.currentPath.shape.points,
                                    a = o[o.length - 2],
                                    s = o[o.length - 1],
                                    u = s - t,
                                    l = a - e,
                                    c = r - t,
                                    h = n - e,
                                    d = Math.abs(u * h - l * c);
                                if (d < 1e-8 || 0 === i) o[o.length - 2] === e && o[o.length - 1] === t || o.push(e, t);
                                else {
                                    var f = u * u + l * l,
                                        p = c * c + h * h,
                                        m = u * c + l * h,
                                        g = i * Math.sqrt(f) / d,
                                        _ = i * Math.sqrt(p) / d,
                                        y = g * m / f,
                                        v = _ * m / p,
                                        b = g * h + _ * l,
                                        x = g * c + _ * u,
                                        T = l * (_ + y),
                                        w = u * (_ + y),
                                        S = h * (g + v),
                                        E = c * (g + v),
                                        C = Math.atan2(w - x, T - b),
                                        P = Math.atan2(E - x, S - b);
                                    this.arc(b + e, x + t, i, C, P, l * c > h * u)
                                }
                                return this.dirty++, this
                            }, t.prototype.arc = function(e, t, n, r, i) {
                                var o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
                                if (r === i) return this;
                                !o && i <= r ? i += 2 * Math.PI : o && r <= i && (r += 2 * Math.PI);
                                var a = i - r,
                                    s = 40 * Math.ceil(Math.abs(a) / (2 * Math.PI));
                                if (0 === a) return this;
                                var u = e + Math.cos(r) * n,
                                    l = t + Math.sin(r) * n,
                                    c = this.currentPath ? this.currentPath.shape.points : null;
                                c ? c[c.length - 2] === u && c[c.length - 1] === l || c.push(u, l) : (this.moveTo(u, l), c = this.currentPath.shape.points);
                                for (var h = a / (2 * s), d = 2 * h, f = Math.cos(h), p = Math.sin(h), m = s - 1, g = m % 1 / m, _ = 0; _ <= m; ++_) {
                                    var y = _ + g * _,
                                        v = h + r + d * y,
                                        b = Math.cos(v),
                                        x = -Math.sin(v);
                                    c.push((f * b + p * x) * n + e, (f * -x + p * b) * n + t)
                                }
                                return this.dirty++, this
                            }, t.prototype.beginFill = function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                                return this.filling = !0, this.fillColor = e, this.fillAlpha = t, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this
                            }, t.prototype.endFill = function() {
                                return this.filling = !1, this.fillColor = null, this.fillAlpha = 1, this
                            }, t.prototype.drawRect = function(e, t, n, r) {
                                return this.drawShape(new _.Rectangle(e, t, n, r)), this
                            }, t.prototype.drawRoundedRect = function(e, t, n, r, i) {
                                return this.drawShape(new _.RoundedRectangle(e, t, n, r, i)), this
                            }, t.prototype.drawCircle = function(e, t, n) {
                                return this.drawShape(new _.Circle(e, t, n)), this
                            }, t.prototype.drawEllipse = function(e, t, n, r) {
                                return this.drawShape(new _.Ellipse(e, t, n, r)), this
                            }, t.prototype.drawPolygon = function(e) {
                                var t = e,
                                    n = !0;
                                if (t instanceof _.Polygon && (n = t.closed, t = t.points), !Array.isArray(t)) {
                                    t = new Array(arguments.length);
                                    for (var r = 0; r < t.length; ++r) t[r] = arguments[r]
                                }
                                var i = new _.Polygon(t);
                                return i.closed = n, this.drawShape(i), this
                            }, t.prototype.clear = function() {
                                return (this.lineWidth || this.filling || this.graphicsData.length > 0) && (this.lineWidth = 0, this.filling = !1, this.boundsDirty = -1, this.dirty++, this.clearDirty++, this.graphicsData.length = 0), this.currentPath = null, this._spriteRect = null, this
                            }, t.prototype.isFastRect = function() {
                                return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === v.SHAPES.RECT && !this.graphicsData[0].lineWidth
                            }, t.prototype._renderWebGL = function(e) {
                                this.dirty !== this.fastRectDirty && (this.fastRectDirty = this.dirty, this._fastRect = this.isFastRect()), this._fastRect ? this._renderSpriteRect(e) : (e.setObjectRenderer(e.plugins.graphics), e.plugins.graphics.render(this))
                            }, t.prototype._renderSpriteRect = function(e) {
                                var t = this.graphicsData[0].shape;
                                this._spriteRect || (this._spriteRect = new g.default(new d.default(d.default.WHITE)));
                                var n = this._spriteRect;
                                if (16777215 === this.tint) n.tint = this.graphicsData[0].fillColor;
                                else {
                                    var r = A,
                                        i = M;
                                    (0, y.hex2rgb)(this.graphicsData[0].fillColor, r), (0, y.hex2rgb)(this.tint, i), r[0] *= i[0], r[1] *= i[1], r[2] *= i[2], n.tint = (0, y.rgb2hex)(r)
                                }
                                n.alpha = this.graphicsData[0].fillAlpha, n.worldAlpha = this.worldAlpha * n.alpha, n.blendMode = this.blendMode, n._texture._frame.width = t.width, n._texture._frame.height = t.height, n.transform.worldTransform = this.transform.worldTransform, n.anchor.set(-t.x / t.width, -t.y / t.height), n._onAnchorUpdate(), n._renderWebGL(e)
                            }, t.prototype._renderCanvas = function(e) {
                                !0 !== this.isMask && e.plugins.graphics.render(this)
                            }, t.prototype._calculateBounds = function() {
                                this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.updateLocalBounds(), this.cachedSpriteDirty = !0);
                                var e = this._localBounds;
                                this._bounds.addFrame(this.transform, e.minX, e.minY, e.maxX, e.maxY)
                            }, t.prototype.containsPoint = function(e) {
                                this.worldTransform.applyInverse(e, O);
                                for (var t = this.graphicsData, n = 0; n < t.length; ++n) {
                                    var r = t[n];
                                    if (r.fill && (r.shape && r.shape.contains(O.x, O.y))) {
                                        if (r.holes)
                                            for (var i = 0; i < r.holes.length; i++) {
                                                var o = r.holes[i];
                                                if (o.contains(O.x, O.y)) return !1
                                            }
                                        return !0
                                    }
                                }
                                return !1
                            }, t.prototype.updateLocalBounds = function() {
                                var e = 1 / 0,
                                    t = -1 / 0,
                                    n = 1 / 0,
                                    r = -1 / 0;
                                if (this.graphicsData.length)
                                    for (var i = 0, o = 0, a = 0, s = 0, u = 0, l = 0; l < this.graphicsData.length; l++) {
                                        var c = this.graphicsData[l],
                                            h = c.type,
                                            d = c.lineWidth;
                                        if (i = c.shape, h === v.SHAPES.RECT || h === v.SHAPES.RREC) o = i.x - d / 2, a = i.y - d / 2, s = i.width + d, u = i.height + d, e = o < e ? o : e, t = o + s > t ? o + s : t, n = a < n ? a : n, r = a + u > r ? a + u : r;
                                        else if (h === v.SHAPES.CIRC) o = i.x, a = i.y, s = i.radius + d / 2, u = i.radius + d / 2, e = o - s < e ? o - s : e, t = o + s > t ? o + s : t, n = a - u < n ? a - u : n, r = a + u > r ? a + u : r;
                                        else if (h === v.SHAPES.ELIP) o = i.x, a = i.y, s = i.width + d / 2, u = i.height + d / 2, e = o - s < e ? o - s : e, t = o + s > t ? o + s : t, n = a - u < n ? a - u : n, r = a + u > r ? a + u : r;
                                        else
                                            for (var f = i.points, p = 0, m = 0, g = 0, _ = 0, y = 0, b = 0, x = 0, T = 0, w = 0; w + 2 < f.length; w += 2) o = f[w], a = f[w + 1], p = f[w + 2], m = f[w + 3], g = Math.abs(p - o), _ = Math.abs(m - a), u = d, (s = Math.sqrt(g * g + _ * _)) < 1e-9 || (y = (u / s * _ + g) / 2, b = (u / s * g + _) / 2, x = (p + o) / 2, T = (m + a) / 2, e = x - y < e ? x - y : e, t = x + y > t ? x + y : t, n = T - b < n ? T - b : n, r = T + b > r ? T + b : r)
                                    } else e = 0, t = 0, n = 0, r = 0;
                                var S = this.boundsPadding;
                                this._localBounds.minX = e - S, this._localBounds.maxX = t + S, this._localBounds.minY = n - S, this._localBounds.maxY = r + S
                            }, t.prototype.drawShape = function(e) {
                                this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(), this.currentPath = null;
                                var t = new p.default(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, this.nativeLines, e);
                                return this.graphicsData.push(t), t.type === v.SHAPES.POLY && (t.shape.closed = t.shape.closed || this.filling, this.currentPath = t), this.dirty++, t
                            }, t.prototype.generateCanvasTexture = function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                                    n = this.getLocalBounds(),
                                    r = c.default.create(n.width, n.height, e, t);
                                C || (C = new E.default), this.transform.updateLocalTransform(), this.transform.localTransform.copy(P), P.invert(), P.tx -= n.x, P.ty -= n.y, C.render(this, r, !0, P);
                                var i = d.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas, e, "graphics");
                                return i.baseTexture.resolution = t, i.baseTexture.update(), i
                            }, t.prototype.closePath = function() {
                                var e = this.currentPath;
                                return e && e.shape && e.shape.close(), this
                            }, t.prototype.addHole = function() {
                                var e = this.graphicsData.pop();
                                return this.currentPath = this.graphicsData[this.graphicsData.length - 1], this.currentPath.addHole(e.shape), this.currentPath = null, this
                            }, t.prototype.destroy = function(t) {
                                e.prototype.destroy.call(this, t);
                                for (var n = 0; n < this.graphicsData.length; ++n) this.graphicsData[n].destroy();
                                for (var r in this._webgl)
                                    for (var i = 0; i < this._webgl[r].data.length; ++i) this._webgl[r].data[i].destroy();
                                this._spriteRect && this._spriteRect.destroy(), this.graphicsData = null, this.currentPath = null, this._webgl = null, this._localBounds = null
                            }, t
                        }(u.default);
                    n.default = I, I._SPRITE_TEXTURE = null
                }, {
                    "../const": 45,
                    "../display/Bounds": 46,
                    "../display/Container": 47,
                    "../math": 69,
                    "../renderers/canvas/CanvasRenderer": 76,
                    "../sprites/Sprite": 101,
                    "../textures/RenderTexture": 112,
                    "../textures/Texture": 114,
                    "../utils": 123,
                    "./GraphicsData": 53,
                    "./utils/bezierCurveTo": 55
                }],
                53: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e(t, n, i, o, a, s, u, l) {
                            r(this, e), this.lineWidth = t, this.nativeLines = u, this.lineColor = n, this.lineAlpha = i, this._lineTint = n, this.fillColor = o, this.fillAlpha = a, this._fillTint = o, this.fill = s, this.holes = [], this.shape = l, this.type = l.type
                        }
                        return e.prototype.clone = function() {
                            return new e(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.nativeLines, this.shape)
                        }, e.prototype.addHole = function(e) {
                            this.holes.push(e)
                        }, e.prototype.destroy = function() {
                            this.shape = null, this.holes = null
                        }, e
                    }();
                    n.default = i
                }, {}],
                54: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../renderers/canvas/CanvasRenderer"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = e("../../const"),
                        s = function() {
                            function e(t) {
                                r(this, e), this.renderer = t
                            }
                            return e.prototype.render = function(e) {
                                var t = this.renderer,
                                    n = t.context,
                                    r = e.worldAlpha,
                                    i = e.transform.worldTransform,
                                    o = t.resolution;
                                this._prevTint !== this.tint && (this.dirty = !0), n.setTransform(i.a * o, i.b * o, i.c * o, i.d * o, i.tx * o, i.ty * o), e.dirty && (this.updateGraphicsTint(e), e.dirty = !1), t.setBlendMode(e.blendMode);
                                for (var s = 0; s < e.graphicsData.length; s++) {
                                    var u = e.graphicsData[s],
                                        l = u.shape,
                                        c = u._fillTint,
                                        h = u._lineTint;
                                    if (n.lineWidth = u.lineWidth, u.type === a.SHAPES.POLY) {
                                        n.beginPath(), this.renderPolygon(l.points, l.closed, n);
                                        for (var d = 0; d < u.holes.length; d++) this.renderPolygon(u.holes[d].points, !0, n);
                                        u.fill && (n.globalAlpha = u.fillAlpha * r, n.fillStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), n.fill()), u.lineWidth && (n.globalAlpha = u.lineAlpha * r, n.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), n.stroke())
                                    } else if (u.type === a.SHAPES.RECT)(u.fillColor || 0 === u.fillColor) && (n.globalAlpha = u.fillAlpha * r, n.fillStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), n.fillRect(l.x, l.y, l.width, l.height)), u.lineWidth && (n.globalAlpha = u.lineAlpha * r, n.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), n.strokeRect(l.x, l.y, l.width, l.height));
                                    else if (u.type === a.SHAPES.CIRC) n.beginPath(), n.arc(l.x, l.y, l.radius, 0, 2 * Math.PI), n.closePath(), u.fill && (n.globalAlpha = u.fillAlpha * r, n.fillStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), n.fill()), u.lineWidth && (n.globalAlpha = u.lineAlpha * r, n.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), n.stroke());
                                    else if (u.type === a.SHAPES.ELIP) {
                                        var f = 2 * l.width,
                                            p = 2 * l.height,
                                            m = l.x - f / 2,
                                            g = l.y - p / 2;
                                        n.beginPath();
                                        var _ = f / 2 * .5522848,
                                            y = p / 2 * .5522848,
                                            v = m + f,
                                            b = g + p,
                                            x = m + f / 2,
                                            T = g + p / 2;
                                        n.moveTo(m, T), n.bezierCurveTo(m, T - y, x - _, g, x, g), n.bezierCurveTo(x + _, g, v, T - y, v, T), n.bezierCurveTo(v, T + y, x + _, b, x, b), n.bezierCurveTo(x - _, b, m, T + y, m, T), n.closePath(), u.fill && (n.globalAlpha = u.fillAlpha * r, n.fillStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), n.fill()), u.lineWidth && (n.globalAlpha = u.lineAlpha * r, n.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), n.stroke())
                                    } else if (u.type === a.SHAPES.RREC) {
                                        var w = l.x,
                                            S = l.y,
                                            E = l.width,
                                            C = l.height,
                                            P = l.radius,
                                            O = Math.min(E, C) / 2 | 0;
                                        P = P > O ? O : P, n.beginPath(), n.moveTo(w, S + P), n.lineTo(w, S + C - P), n.quadraticCurveTo(w, S + C, w + P, S + C), n.lineTo(w + E - P, S + C), n.quadraticCurveTo(w + E, S + C, w + E, S + C - P), n.lineTo(w + E, S + P), n.quadraticCurveTo(w + E, S, w + E - P, S), n.lineTo(w + P, S), n.quadraticCurveTo(w, S, w, S + P), n.closePath(), (u.fillColor || 0 === u.fillColor) && (n.globalAlpha = u.fillAlpha * r, n.fillStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), n.fill()), u.lineWidth && (n.globalAlpha = u.lineAlpha * r, n.strokeStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), n.stroke())
                                    }
                                }
                            }, e.prototype.updateGraphicsTint = function(e) {
                                e._prevTint = e.tint;
                                for (var t = (e.tint >> 16 & 255) / 255, n = (e.tint >> 8 & 255) / 255, r = (255 & e.tint) / 255, i = 0; i < e.graphicsData.length; ++i) {
                                    var o = e.graphicsData[i],
                                        a = 0 | o.fillColor,
                                        s = 0 | o.lineColor;
                                    o._fillTint = ((a >> 16 & 255) / 255 * t * 255 << 16) + ((a >> 8 & 255) / 255 * n * 255 << 8) + (255 & a) / 255 * r * 255, o._lineTint = ((s >> 16 & 255) / 255 * t * 255 << 16) + ((s >> 8 & 255) / 255 * n * 255 << 8) + (255 & s) / 255 * r * 255
                                }
                            }, e.prototype.renderPolygon = function(e, t, n) {
                                n.moveTo(e[0], e[1]);
                                for (var r = 1; r < e.length / 2; ++r) n.lineTo(e[2 * r], e[2 * r + 1]);
                                t && n.closePath()
                            }, e.prototype.destroy = function() {
                                this.renderer = null
                            }, e
                        }();
                    n.default = s, o.default.registerPlugin("graphics", s)
                }, {
                    "../../const": 45,
                    "../../renderers/canvas/CanvasRenderer": 76
                }],
                55: [function(e, t, n) {
                    "use strict";

                    function r(e, t, n, r, i, o, a, s) {
                        var u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : [],
                            l = 0,
                            c = 0,
                            h = 0,
                            d = 0,
                            f = 0;
                        u.push(e, t);
                        for (var p = 1, m = 0; p <= 20; ++p) m = p / 20, l = 1 - m, c = l * l, h = c * l, d = m * m, f = d * m, u.push(h * e + 3 * c * m * n + 3 * l * d * i + f * a, h * t + 3 * c * m * r + 3 * l * d * o + f * s);
                        return u
                    }
                    n.__esModule = !0, n.default = r
                }, {}],
                56: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("../../utils"),
                        u = e("../../const"),
                        l = e("../../renderers/webgl/utils/ObjectRenderer"),
                        c = r(l),
                        h = e("../../renderers/webgl/WebGLRenderer"),
                        d = r(h),
                        f = e("./WebGLGraphicsData"),
                        p = r(f),
                        m = e("./shaders/PrimitiveShader"),
                        g = r(m),
                        _ = e("./utils/buildPoly"),
                        y = r(_),
                        v = e("./utils/buildRectangle"),
                        b = r(v),
                        x = e("./utils/buildRoundedRectangle"),
                        T = r(x),
                        w = e("./utils/buildCircle"),
                        S = r(w),
                        E = function(e) {
                            function t(n) {
                                i(this, t);
                                var r = o(this, e.call(this, n));
                                return r.graphicsDataPool = [], r.primitiveShader = null, r.gl = n.gl, r.CONTEXT_UID = 0, r
                            }
                            return a(t, e), t.prototype.onContextChange = function() {
                                this.gl = this.renderer.gl, this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.primitiveShader = new g.default(this.gl)
                            }, t.prototype.destroy = function() {
                                c.default.prototype.destroy.call(this);
                                for (var e = 0; e < this.graphicsDataPool.length; ++e) this.graphicsDataPool[e].destroy();
                                this.graphicsDataPool = null
                            }, t.prototype.render = function(e) {
                                var t = this.renderer,
                                    n = t.gl,
                                    r = void 0,
                                    i = e._webGL[this.CONTEXT_UID];
                                i && e.dirty === i.dirty || (this.updateGraphics(e), i = e._webGL[this.CONTEXT_UID]);
                                var o = this.primitiveShader;
                                t.bindShader(o), t.state.setBlendMode(e.blendMode);
                                for (var a = 0, u = i.data.length; a < u; a++) {
                                    r = i.data[a];
                                    var l = r.shader;
                                    t.bindShader(l), l.uniforms.translationMatrix = e.transform.worldTransform.toArray(!0), l.uniforms.tint = (0, s.hex2rgb)(e.tint), l.uniforms.alpha = e.worldAlpha, t.bindVao(r.vao), r.nativeLines ? n.drawArrays(n.LINES, 0, r.points.length / 6) : r.vao.draw(n.TRIANGLE_STRIP, r.indices.length)
                                }
                            }, t.prototype.updateGraphics = function(e) {
                                var t = this.renderer.gl,
                                    n = e._webGL[this.CONTEXT_UID];
                                if (n || (n = e._webGL[this.CONTEXT_UID] = {
                                        lastIndex: 0,
                                        data: [],
                                        gl: t,
                                        clearDirty: -1,
                                        dirty: -1
                                    }), n.dirty = e.dirty, e.clearDirty !== n.clearDirty) {
                                    n.clearDirty = e.clearDirty;
                                    for (var r = 0; r < n.data.length; r++) this.graphicsDataPool.push(n.data[r]);
                                    n.data.length = 0, n.lastIndex = 0
                                }
                                for (var i = void 0, o = void 0, a = n.lastIndex; a < e.graphicsData.length; a++) {
                                    var s = e.graphicsData[a];
                                    i = this.getWebGLData(n, 0), s.nativeLines && s.lineWidth && (o = this.getWebGLData(n, 0, !0), n.lastIndex++), s.type === u.SHAPES.POLY && (0, y.default)(s, i, o), s.type === u.SHAPES.RECT ? (0, b.default)(s, i, o) : s.type === u.SHAPES.CIRC || s.type === u.SHAPES.ELIP ? (0, S.default)(s, i, o) : s.type === u.SHAPES.RREC && (0, T.default)(s, i, o), n.lastIndex++
                                }
                                this.renderer.bindVao(null);
                                for (var l = 0; l < n.data.length; l++) i = n.data[l], i.dirty && i.upload()
                            }, t.prototype.getWebGLData = function(e, t, n) {
                                var r = e.data[e.data.length - 1];
                                return (!r || r.nativeLines !== n || r.points.length > 32e4) && (r = this.graphicsDataPool.pop() || new p.default(this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState), r.nativeLines = n, r.reset(t), e.data.push(r)), r.dirty = !0, r
                            }, t
                        }(c.default);
                    n.default = E, d.default.registerPlugin("graphics", E)
                }, {
                    "../../const": 45,
                    "../../renderers/webgl/WebGLRenderer": 83,
                    "../../renderers/webgl/utils/ObjectRenderer": 93,
                    "../../utils": 123,
                    "./WebGLGraphicsData": 57,
                    "./shaders/PrimitiveShader": 58,
                    "./utils/buildCircle": 59,
                    "./utils/buildPoly": 61,
                    "./utils/buildRectangle": 62,
                    "./utils/buildRoundedRectangle": 63
                }],
                57: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("pixi-gl-core"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = function() {
                            function e(t, n, i) {
                                r(this, e), this.gl = t, this.color = [0, 0, 0], this.points = [], this.indices = [], this.buffer = o.default.GLBuffer.createVertexBuffer(t), this.indexBuffer = o.default.GLBuffer.createIndexBuffer(t), this.dirty = !0, this.nativeLines = !1, this.glPoints = null, this.glIndices = null, this.shader = n, this.vao = new o.default.VertexArrayObject(t, i).addIndex(this.indexBuffer).addAttribute(this.buffer, n.attributes.aVertexPosition, t.FLOAT, !1, 24, 0).addAttribute(this.buffer, n.attributes.aColor, t.FLOAT, !1, 24, 8)
                            }
                            return e.prototype.reset = function() {
                                this.points.length = 0, this.indices.length = 0
                            }, e.prototype.upload = function() {
                                this.glPoints = new Float32Array(this.points), this.buffer.upload(this.glPoints), this.glIndices = new Uint16Array(this.indices), this.indexBuffer.upload(this.glIndices), this.dirty = !1
                            }, e.prototype.destroy = function() {
                                this.color = null, this.points = null, this.indices = null, this.vao.destroy(), this.buffer.destroy(), this.indexBuffer.destroy(), this.gl = null, this.buffer = null, this.indexBuffer = null, this.glPoints = null, this.glIndices = null
                            }, e
                        }();
                    n.default = a
                }, {
                    "pixi-gl-core": 12
                }],
                58: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("../../../Shader"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = function(e) {
                            function t(n) {
                                return r(this, t), i(this, e.call(this, n, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n")))
                            }
                            return o(t, e), t
                        }(s.default);
                    n.default = u
                }, {
                    "../../../Shader": 43
                }],
                59: [function(e, t, n) {
                    "use strict";

                    function r(e, t, n) {
                        var r = e.shape,
                            i = r.x,
                            u = r.y,
                            l = void 0,
                            c = void 0;
                        if (e.type === a.SHAPES.CIRC ? (l = r.radius, c = r.radius) : (l = r.width, c = r.height), 0 !== l && 0 !== c) {
                            var h = Math.floor(30 * Math.sqrt(r.radius)) || Math.floor(15 * Math.sqrt(r.width + r.height)),
                                d = 2 * Math.PI / h;
                            if (e.fill) {
                                var f = (0, s.hex2rgb)(e.fillColor),
                                    p = e.fillAlpha,
                                    m = f[0] * p,
                                    g = f[1] * p,
                                    _ = f[2] * p,
                                    y = t.points,
                                    v = t.indices,
                                    b = y.length / 6;
                                v.push(b);
                                for (var x = 0; x < h + 1; x++) y.push(i, u, m, g, _, p), y.push(i + Math.sin(d * x) * l, u + Math.cos(d * x) * c, m, g, _, p), v.push(b++, b++);
                                v.push(b - 1)
                            }
                            if (e.lineWidth) {
                                var T = e.points;
                                e.points = [];
                                for (var w = 0; w < h + 1; w++) e.points.push(i + Math.sin(d * w) * l, u + Math.cos(d * w) * c);
                                (0, o.default)(e, t, n), e.points = T
                            }
                        }
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("./buildLine"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = e("../../../const"),
                        s = e("../../../utils")
                }, {
                    "../../../const": 45,
                    "../../../utils": 123,
                    "./buildLine": 60
                }],
                60: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        var n = e.points;
                        if (0 !== n.length) {
                            var r = new o.Point(n[0], n[1]),
                                i = new o.Point(n[n.length - 2], n[n.length - 1]);
                            if (r.x === i.x && r.y === i.y) {
                                n = n.slice(), n.pop(), n.pop(), i = new o.Point(n[n.length - 2], n[n.length - 1]);
                                var s = i.x + .5 * (r.x - i.x),
                                    u = i.y + .5 * (r.y - i.y);
                                n.unshift(s, u), n.push(s, u)
                            }
                            var l = t.points,
                                c = t.indices,
                                h = n.length / 2,
                                d = n.length,
                                f = l.length / 6,
                                p = e.lineWidth / 2,
                                m = (0, a.hex2rgb)(e.lineColor),
                                g = e.lineAlpha,
                                _ = m[0] * g,
                                y = m[1] * g,
                                v = m[2] * g,
                                b = n[0],
                                x = n[1],
                                T = n[2],
                                w = n[3],
                                S = 0,
                                E = 0,
                                C = -(x - w),
                                P = b - T,
                                O = 0,
                                A = 0,
                                M = 0,
                                I = 0,
                                R = Math.sqrt(C * C + P * P);
                            C /= R, P /= R, C *= p, P *= p, l.push(b - C, x - P, _, y, v, g), l.push(b + C, x + P, _, y, v, g);
                            for (var D = 1; D < h - 1; ++D) {
                                b = n[2 * (D - 1)], x = n[2 * (D - 1) + 1], T = n[2 * D], w = n[2 * D + 1], S = n[2 * (D + 1)], E = n[2 * (D + 1) + 1], C = -(x - w), P = b - T, R = Math.sqrt(C * C + P * P), C /= R, P /= R, C *= p, P *= p, O = -(w - E), A = T - S, R = Math.sqrt(O * O + A * A), O /= R, A /= R, O *= p, A *= p;
                                var L = -P + x - (-P + w),
                                    k = -C + T - (-C + b),
                                    B = (-C + b) * (-P + w) - (-C + T) * (-P + x),
                                    N = -A + E - (-A + w),
                                    F = -O + T - (-O + S),
                                    j = (-O + S) * (-A + w) - (-O + T) * (-A + E),
                                    G = L * F - N * k;
                                if (Math.abs(G) < .1) G += 10.1, l.push(T - C, w - P, _, y, v, g), l.push(T + C, w + P, _, y, v, g);
                                else {
                                    var U = (k * j - F * B) / G,
                                        X = (N * B - L * j) / G;
                                    (U - T) * (U - T) + (X - w) * (X - w) > 196 * p * p ? (M = C - O, I = P - A, R = Math.sqrt(M * M + I * I), M /= R, I /= R, M *= p, I *= p, l.push(T - M, w - I), l.push(_, y, v, g), l.push(T + M, w + I), l.push(_, y, v, g), l.push(T - M, w - I), l.push(_, y, v, g), d++) : (l.push(U, X), l.push(_, y, v, g), l.push(T - (U - T), w - (X - w)), l.push(_, y, v, g))
                                }
                            }
                            b = n[2 * (h - 2)], x = n[2 * (h - 2) + 1], T = n[2 * (h - 1)], w = n[2 * (h - 1) + 1], C = -(x - w), P = b - T, R = Math.sqrt(C * C + P * P), C /= R, P /= R, C *= p, P *= p, l.push(T - C, w - P), l.push(_, y, v, g), l.push(T + C, w + P), l.push(_, y, v, g), c.push(f);
                            for (var W = 0; W < d; ++W) c.push(f++);
                            c.push(f - 1)
                        }
                    }

                    function i(e, t) {
                        var n = 0,
                            r = e.points;
                        if (0 !== r.length) {
                            var i = t.points,
                                o = r.length / 2,
                                s = (0, a.hex2rgb)(e.lineColor),
                                u = e.lineAlpha,
                                l = s[0] * u,
                                c = s[1] * u,
                                h = s[2] * u;
                            for (n = 1; n < o; n++) {
                                var d = r[2 * (n - 1)],
                                    f = r[2 * (n - 1) + 1],
                                    p = r[2 * n],
                                    m = r[2 * n + 1];
                                i.push(d, f), i.push(l, c, h, u), i.push(p, m), i.push(l, c, h, u)
                            }
                        }
                    }
                    n.__esModule = !0, n.default = function(e, t, n) {
                        e.nativeLines ? i(e, n) : r(e, t)
                    };
                    var o = e("../../../math"),
                        a = e("../../../utils")
                }, {
                    "../../../math": 69,
                    "../../../utils": 123
                }],
                61: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t, n) {
                        e.points = e.shape.points.slice();
                        var r = e.points;
                        if (e.fill && r.length >= 6) {
                            for (var i = [], o = e.holes, u = 0; u < o.length; u++) {
                                var c = o[u];
                                i.push(r.length / 2), r = r.concat(c.points)
                            }
                            var h = t.points,
                                d = t.indices,
                                f = r.length / 2,
                                p = (0, s.hex2rgb)(e.fillColor),
                                m = e.fillAlpha,
                                g = p[0] * m,
                                _ = p[1] * m,
                                y = p[2] * m,
                                v = (0, l.default)(r, i, 2);
                            if (!v) return;
                            for (var b = h.length / 6, x = 0; x < v.length; x += 3) d.push(v[x] + b), d.push(v[x] + b), d.push(v[x + 1] + b), d.push(v[x + 2] + b), d.push(v[x + 2] + b);
                            for (var T = 0; T < f; T++) h.push(r[2 * T], r[2 * T + 1], g, _, y, m)
                        }
                        e.lineWidth > 0 && (0, a.default)(e, t, n)
                    }
                    n.__esModule = !0, n.default = i;
                    var o = e("./buildLine"),
                        a = r(o),
                        s = e("../../../utils"),
                        u = e("earcut"),
                        l = r(u)
                }, {
                    "../../../utils": 123,
                    "./buildLine": 60,
                    earcut: 2
                }],
                62: [function(e, t, n) {
                    "use strict";

                    function r(e, t, n) {
                        var r = e.shape,
                            i = r.x,
                            s = r.y,
                            u = r.width,
                            l = r.height;
                        if (e.fill) {
                            var c = (0, a.hex2rgb)(e.fillColor),
                                h = e.fillAlpha,
                                d = c[0] * h,
                                f = c[1] * h,
                                p = c[2] * h,
                                m = t.points,
                                g = t.indices,
                                _ = m.length / 6;
                            m.push(i, s), m.push(d, f, p, h), m.push(i + u, s), m.push(d, f, p, h), m.push(i, s + l), m.push(d, f, p, h), m.push(i + u, s + l), m.push(d, f, p, h), g.push(_, _, _ + 1, _ + 2, _ + 3, _ + 3)
                        }
                        if (e.lineWidth) {
                            var y = e.points;
                            e.points = [i, s, i + u, s, i + u, s + l, i, s + l, i, s], (0, o.default)(e, t, n), e.points = y
                        }
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("./buildLine"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = e("../../../utils")
                }, {
                    "../../../utils": 123,
                    "./buildLine": 60
                }],
                63: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t, n) {
                        var r = e.shape,
                            i = r.x,
                            o = r.y,
                            s = r.width,
                            l = r.height,
                            d = r.radius,
                            f = [];
                        if (f.push(i, o + d), a(i, o + l - d, i, o + l, i + d, o + l, f), a(i + s - d, o + l, i + s, o + l, i + s, o + l - d, f), a(i + s, o + d, i + s, o, i + s - d, o, f), a(i + d, o, i, o, i, o + d + 1e-10, f), e.fill) {
                            for (var p = (0, h.hex2rgb)(e.fillColor), m = e.fillAlpha, g = p[0] * m, _ = p[1] * m, y = p[2] * m, v = t.points, b = t.indices, x = v.length / 6, T = (0, u.default)(f, null, 2), w = 0, S = T.length; w < S; w += 3) b.push(T[w] + x), b.push(T[w] + x), b.push(T[w + 1] + x), b.push(T[w + 2] + x), b.push(T[w + 2] + x);
                            for (var E = 0, C = f.length; E < C; E++) v.push(f[E], f[++E], g, _, y, m)
                        }
                        if (e.lineWidth) {
                            var P = e.points;
                            e.points = f, (0, c.default)(e, t, n), e.points = P
                        }
                    }

                    function o(e, t, n) {
                        return e + (t - e) * n
                    }

                    function a(e, t, n, r, i, a) {
                        for (var s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [], u = s, l = 0, c = 0, h = 0, d = 0, f = 0, p = 0, m = 0, g = 0; m <= 20; ++m) g = m / 20, l = o(e, n, g), c = o(t, r, g), h = o(n, i, g), d = o(r, a, g), f = o(l, h, g), p = o(c, d, g), u.push(f, p);
                        return u
                    }
                    n.__esModule = !0, n.default = i;
                    var s = e("earcut"),
                        u = r(s),
                        l = e("./buildLine"),
                        c = r(l),
                        h = e("../../../utils")
                }, {
                    "../../../utils": 123,
                    "./buildLine": 60,
                    earcut: 2
                }],
                64: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        if (e && e.__esModule) return e;
                        var t = {};
                        if (null != e)
                            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                        return t.default = e, t
                    }

                    function i(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0, n.autoDetectRenderer = n.Application = n.Filter = n.SpriteMaskFilter = n.Quad = n.RenderTarget = n.ObjectRenderer = n.WebGLManager = n.Shader = n.CanvasRenderTarget = n.TextureUvs = n.VideoBaseTexture = n.BaseRenderTexture = n.RenderTexture = n.BaseTexture = n.Texture = n.Spritesheet = n.CanvasGraphicsRenderer = n.GraphicsRenderer = n.GraphicsData = n.Graphics = n.TextMetrics = n.TextStyle = n.Text = n.SpriteRenderer = n.CanvasTinter = n.CanvasSpriteRenderer = n.Sprite = n.TransformBase = n.TransformStatic = n.Transform = n.Container = n.DisplayObject = n.Bounds = n.glCore = n.WebGLRenderer = n.CanvasRenderer = n.ticker = n.utils = n.settings = void 0;
                    var o = e("./const");
                    Object.keys(o).forEach(function(e) {
                        "default" !== e && "__esModule" !== e && Object.defineProperty(n, e, {
                            enumerable: !0,
                            get: function() {
                                return o[e]
                            }
                        })
                    });
                    var a = e("./math");
                    Object.keys(a).forEach(function(e) {
                        "default" !== e && "__esModule" !== e && Object.defineProperty(n, e, {
                            enumerable: !0,
                            get: function() {
                                return a[e]
                            }
                        })
                    });
                    var s = e("pixi-gl-core");
                    Object.defineProperty(n, "glCore", {
                        enumerable: !0,
                        get: function() {
                            return i(s).default
                        }
                    });
                    var u = e("./display/Bounds");
                    Object.defineProperty(n, "Bounds", {
                        enumerable: !0,
                        get: function() {
                            return i(u).default
                        }
                    });
                    var l = e("./display/DisplayObject");
                    Object.defineProperty(n, "DisplayObject", {
                        enumerable: !0,
                        get: function() {
                            return i(l).default
                        }
                    });
                    var c = e("./display/Container");
                    Object.defineProperty(n, "Container", {
                        enumerable: !0,
                        get: function() {
                            return i(c).default
                        }
                    });
                    var h = e("./display/Transform");
                    Object.defineProperty(n, "Transform", {
                        enumerable: !0,
                        get: function() {
                            return i(h).default
                        }
                    });
                    var d = e("./display/TransformStatic");
                    Object.defineProperty(n, "TransformStatic", {
                        enumerable: !0,
                        get: function() {
                            return i(d).default
                        }
                    });
                    var f = e("./display/TransformBase");
                    Object.defineProperty(n, "TransformBase", {
                        enumerable: !0,
                        get: function() {
                            return i(f).default
                        }
                    });
                    var p = e("./sprites/Sprite");
                    Object.defineProperty(n, "Sprite", {
                        enumerable: !0,
                        get: function() {
                            return i(p).default
                        }
                    });
                    var m = e("./sprites/canvas/CanvasSpriteRenderer");
                    Object.defineProperty(n, "CanvasSpriteRenderer", {
                        enumerable: !0,
                        get: function() {
                            return i(m).default
                        }
                    });
                    var g = e("./sprites/canvas/CanvasTinter");
                    Object.defineProperty(n, "CanvasTinter", {
                        enumerable: !0,
                        get: function() {
                            return i(g).default
                        }
                    });
                    var _ = e("./sprites/webgl/SpriteRenderer");
                    Object.defineProperty(n, "SpriteRenderer", {
                        enumerable: !0,
                        get: function() {
                            return i(_).default
                        }
                    });
                    var y = e("./text/Text");
                    Object.defineProperty(n, "Text", {
                        enumerable: !0,
                        get: function() {
                            return i(y).default
                        }
                    });
                    var v = e("./text/TextStyle");
                    Object.defineProperty(n, "TextStyle", {
                        enumerable: !0,
                        get: function() {
                            return i(v).default
                        }
                    });
                    var b = e("./text/TextMetrics");
                    Object.defineProperty(n, "TextMetrics", {
                        enumerable: !0,
                        get: function() {
                            return i(b).default
                        }
                    });
                    var x = e("./graphics/Graphics");
                    Object.defineProperty(n, "Graphics", {
                        enumerable: !0,
                        get: function() {
                            return i(x).default
                        }
                    });
                    var T = e("./graphics/GraphicsData");
                    Object.defineProperty(n, "GraphicsData", {
                        enumerable: !0,
                        get: function() {
                            return i(T).default
                        }
                    });
                    var w = e("./graphics/webgl/GraphicsRenderer");
                    Object.defineProperty(n, "GraphicsRenderer", {
                        enumerable: !0,
                        get: function() {
                            return i(w).default
                        }
                    });
                    var S = e("./graphics/canvas/CanvasGraphicsRenderer");
                    Object.defineProperty(n, "CanvasGraphicsRenderer", {
                        enumerable: !0,
                        get: function() {
                            return i(S).default
                        }
                    });
                    var E = e("./textures/Spritesheet");
                    Object.defineProperty(n, "Spritesheet", {
                        enumerable: !0,
                        get: function() {
                            return i(E).default
                        }
                    });
                    var C = e("./textures/Texture");
                    Object.defineProperty(n, "Texture", {
                        enumerable: !0,
                        get: function() {
                            return i(C).default
                        }
                    });
                    var P = e("./textures/BaseTexture");
                    Object.defineProperty(n, "BaseTexture", {
                        enumerable: !0,
                        get: function() {
                            return i(P).default
                        }
                    });
                    var O = e("./textures/RenderTexture");
                    Object.defineProperty(n, "RenderTexture", {
                        enumerable: !0,
                        get: function() {
                            return i(O).default
                        }
                    });
                    var A = e("./textures/BaseRenderTexture");
                    Object.defineProperty(n, "BaseRenderTexture", {
                        enumerable: !0,
                        get: function() {
                            return i(A).default
                        }
                    });
                    var M = e("./textures/VideoBaseTexture");
                    Object.defineProperty(n, "VideoBaseTexture", {
                        enumerable: !0,
                        get: function() {
                            return i(M).default
                        }
                    });
                    var I = e("./textures/TextureUvs");
                    Object.defineProperty(n, "TextureUvs", {
                        enumerable: !0,
                        get: function() {
                            return i(I).default
                        }
                    });
                    var R = e("./renderers/canvas/utils/CanvasRenderTarget");
                    Object.defineProperty(n, "CanvasRenderTarget", {
                        enumerable: !0,
                        get: function() {
                            return i(R).default
                        }
                    });
                    var D = e("./Shader");
                    Object.defineProperty(n, "Shader", {
                        enumerable: !0,
                        get: function() {
                            return i(D).default
                        }
                    });
                    var L = e("./renderers/webgl/managers/WebGLManager");
                    Object.defineProperty(n, "WebGLManager", {
                        enumerable: !0,
                        get: function() {
                            return i(L).default
                        }
                    });
                    var k = e("./renderers/webgl/utils/ObjectRenderer");
                    Object.defineProperty(n, "ObjectRenderer", {
                        enumerable: !0,
                        get: function() {
                            return i(k).default
                        }
                    });
                    var B = e("./renderers/webgl/utils/RenderTarget");
                    Object.defineProperty(n, "RenderTarget", {
                        enumerable: !0,
                        get: function() {
                            return i(B).default
                        }
                    });
                    var N = e("./renderers/webgl/utils/Quad");
                    Object.defineProperty(n, "Quad", {
                        enumerable: !0,
                        get: function() {
                            return i(N).default
                        }
                    });
                    var F = e("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");
                    Object.defineProperty(n, "SpriteMaskFilter", {
                        enumerable: !0,
                        get: function() {
                            return i(F).default
                        }
                    });
                    var j = e("./renderers/webgl/filters/Filter");
                    Object.defineProperty(n, "Filter", {
                        enumerable: !0,
                        get: function() {
                            return i(j).default
                        }
                    });
                    var G = e("./Application");
                    Object.defineProperty(n, "Application", {
                        enumerable: !0,
                        get: function() {
                            return i(G).default
                        }
                    });
                    var U = e("./autoDetectRenderer");
                    Object.defineProperty(n, "autoDetectRenderer", {
                        enumerable: !0,
                        get: function() {
                            return U.autoDetectRenderer
                        }
                    });
                    var X = e("./utils"),
                        W = r(X),
                        H = e("./ticker"),
                        V = r(H),
                        Y = e("./settings"),
                        z = i(Y),
                        q = e("./renderers/canvas/CanvasRenderer"),
                        J = i(q),
                        K = e("./renderers/webgl/WebGLRenderer"),
                        $ = i(K);
                    n.settings = z.default, n.utils = W, n.ticker = V, n.CanvasRenderer = J.default, n.WebGLRenderer = $.default
                }, {
                    "./Application": 42,
                    "./Shader": 43,
                    "./autoDetectRenderer": 44,
                    "./const": 45,
                    "./display/Bounds": 46,
                    "./display/Container": 47,
                    "./display/DisplayObject": 48,
                    "./display/Transform": 49,
                    "./display/TransformBase": 50,
                    "./display/TransformStatic": 51,
                    "./graphics/Graphics": 52,
                    "./graphics/GraphicsData": 53,
                    "./graphics/canvas/CanvasGraphicsRenderer": 54,
                    "./graphics/webgl/GraphicsRenderer": 56,
                    "./math": 69,
                    "./renderers/canvas/CanvasRenderer": 76,
                    "./renderers/canvas/utils/CanvasRenderTarget": 78,
                    "./renderers/webgl/WebGLRenderer": 83,
                    "./renderers/webgl/filters/Filter": 85,
                    "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 88,
                    "./renderers/webgl/managers/WebGLManager": 92,
                    "./renderers/webgl/utils/ObjectRenderer": 93,
                    "./renderers/webgl/utils/Quad": 94,
                    "./renderers/webgl/utils/RenderTarget": 95,
                    "./settings": 100,
                    "./sprites/Sprite": 101,
                    "./sprites/canvas/CanvasSpriteRenderer": 102,
                    "./sprites/canvas/CanvasTinter": 103,
                    "./sprites/webgl/SpriteRenderer": 105,
                    "./text/Text": 107,
                    "./text/TextMetrics": 108,
                    "./text/TextStyle": 109,
                    "./textures/BaseRenderTexture": 110,
                    "./textures/BaseTexture": 111,
                    "./textures/RenderTexture": 112,
                    "./textures/Spritesheet": 113,
                    "./textures/Texture": 114,
                    "./textures/TextureUvs": 115,
                    "./textures/VideoBaseTexture": 116,
                    "./ticker": 119,
                    "./utils": 123,
                    "pixi-gl-core": 12
                }],
                65: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e < 0 ? -1 : e > 0 ? 1 : 0
                    }
                    n.__esModule = !0;
                    var i = e("./Matrix"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
                        s = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
                        u = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
                        l = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
                        c = [],
                        h = [];
                    ! function() {
                        for (var e = 0; e < 16; e++) {
                            var t = [];
                            h.push(t);
                            for (var n = 0; n < 16; n++)
                                for (var i = r(a[e] * a[n] + u[e] * s[n]), d = r(s[e] * a[n] + l[e] * s[n]), f = r(a[e] * u[n] + u[e] * l[n]), p = r(s[e] * u[n] + l[e] * l[n]), m = 0; m < 16; m++)
                                    if (a[m] === i && s[m] === d && u[m] === f && l[m] === p) {
                                        t.push(m);
                                        break
                                    }
                        }
                        for (var g = 0; g < 16; g++) {
                            var _ = new o.default;
                            _.set(a[g], s[g], u[g], l[g], 0, 0), c.push(_)
                        }
                    }();
                    var d = {
                        E: 0,
                        SE: 1,
                        S: 2,
                        SW: 3,
                        W: 4,
                        NW: 5,
                        N: 6,
                        NE: 7,
                        MIRROR_VERTICAL: 8,
                        MIRROR_HORIZONTAL: 12,
                        uX: function(e) {
                            return a[e]
                        },
                        uY: function(e) {
                            return s[e]
                        },
                        vX: function(e) {
                            return u[e]
                        },
                        vY: function(e) {
                            return l[e]
                        },
                        inv: function(e) {
                            return 8 & e ? 15 & e : 7 & -e
                        },
                        add: function(e, t) {
                            return h[e][t]
                        },
                        sub: function(e, t) {
                            return h[e][d.inv(t)]
                        },
                        rotate180: function(e) {
                            return 4 ^ e
                        },
                        isSwapWidthHeight: function(e) {
                            return 2 == (3 & e)
                        },
                        byDirection: function(e, t) {
                            return 2 * Math.abs(e) <= Math.abs(t) ? t >= 0 ? d.S : d.N : 2 * Math.abs(t) <= Math.abs(e) ? e > 0 ? d.E : d.W : t > 0 ? e > 0 ? d.SE : d.SW : e > 0 ? d.NE : d.NW
                        },
                        matrixAppendRotationInv: function(e, t) {
                            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                                i = c[d.inv(t)];
                            i.tx = n, i.ty = r, e.append(i)
                        }
                    };
                    n.default = d
                }, {
                    "./Matrix": 66
                }],
                66: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = e("./Point"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = function() {
                            function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                                    a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                                    s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                                r(this, e), this.a = t, this.b = n, this.c = i, this.d = o, this.tx = a, this.ty = s, this.array = null
                            }
                            return e.prototype.fromArray = function(e) {
                                this.a = e[0], this.b = e[1], this.c = e[3], this.d = e[4], this.tx = e[2], this.ty = e[5]
                            }, e.prototype.set = function(e, t, n, r, i, o) {
                                return this.a = e, this.b = t, this.c = n, this.d = r, this.tx = i, this.ty = o, this
                            }, e.prototype.toArray = function(e, t) {
                                this.array || (this.array = new Float32Array(9));
                                var n = t || this.array;
                                return e ? (n[0] = this.a, n[1] = this.b, n[2] = 0, n[3] = this.c, n[4] = this.d, n[5] = 0, n[6] = this.tx, n[7] = this.ty, n[8] = 1) : (n[0] = this.a, n[1] = this.c, n[2] = this.tx, n[3] = this.b, n[4] = this.d, n[5] = this.ty, n[6] = 0, n[7] = 0, n[8] = 1), n
                            }, e.prototype.apply = function(e, t) {
                                t = t || new a.default;
                                var n = e.x,
                                    r = e.y;
                                return t.x = this.a * n + this.c * r + this.tx, t.y = this.b * n + this.d * r + this.ty, t
                            }, e.prototype.applyInverse = function(e, t) {
                                t = t || new a.default;
                                var n = 1 / (this.a * this.d + this.c * -this.b),
                                    r = e.x,
                                    i = e.y;
                                return t.x = this.d * n * r + -this.c * n * i + (this.ty * this.c - this.tx * this.d) * n, t.y = this.a * n * i + -this.b * n * r + (-this.ty * this.a + this.tx * this.b) * n, t
                            }, e.prototype.translate = function(e, t) {
                                return this.tx += e, this.ty += t, this
                            }, e.prototype.scale = function(e, t) {
                                return this.a *= e, this.d *= t, this.c *= e, this.b *= t, this.tx *= e, this.ty *= t, this
                            }, e.prototype.rotate = function(e) {
                                var t = Math.cos(e),
                                    n = Math.sin(e),
                                    r = this.a,
                                    i = this.c,
                                    o = this.tx;
                                return this.a = r * t - this.b * n, this.b = r * n + this.b * t, this.c = i * t - this.d * n, this.d = i * n + this.d * t, this.tx = o * t - this.ty * n, this.ty = o * n + this.ty * t, this
                            }, e.prototype.append = function(e) {
                                var t = this.a,
                                    n = this.b,
                                    r = this.c,
                                    i = this.d;
                                return this.a = e.a * t + e.b * r, this.b = e.a * n + e.b * i, this.c = e.c * t + e.d * r, this.d = e.c * n + e.d * i, this.tx = e.tx * t + e.ty * r + this.tx, this.ty = e.tx * n + e.ty * i + this.ty, this
                            }, e.prototype.setTransform = function(e, t, n, r, i, o, a, s, u) {
                                var l = Math.sin(a),
                                    c = Math.cos(a),
                                    h = Math.cos(u),
                                    d = Math.sin(u),
                                    f = -Math.sin(s),
                                    p = Math.cos(s),
                                    m = c * i,
                                    g = l * i,
                                    _ = -l * o,
                                    y = c * o;
                                return this.a = h * m + d * _, this.b = h * g + d * y, this.c = f * m + p * _, this.d = f * g + p * y, this.tx = e + (n * m + r * _), this.ty = t + (n * g + r * y), this
                            }, e.prototype.prepend = function(e) {
                                var t = this.tx;
                                if (1 !== e.a || 0 !== e.b || 0 !== e.c || 1 !== e.d) {
                                    var n = this.a,
                                        r = this.c;
                                    this.a = n * e.a + this.b * e.c, this.b = n * e.b + this.b * e.d, this.c = r * e.a + this.d * e.c, this.d = r * e.b + this.d * e.d
                                }
                                return this.tx = t * e.a + this.ty * e.c + e.tx, this.ty = t * e.b + this.ty * e.d + e.ty, this
                            }, e.prototype.decompose = function(e) {
                                var t = this.a,
                                    n = this.b,
                                    r = this.c,
                                    i = this.d,
                                    o = -Math.atan2(-r, i),
                                    a = Math.atan2(n, t);
                                return Math.abs(o + a) < 1e-5 ? (e.rotation = a, t < 0 && i >= 0 && (e.rotation += e.rotation <= 0 ? Math.PI : -Math.PI), e.skew.x = e.skew.y = 0) : (e.skew.x = o, e.skew.y = a), e.scale.x = Math.sqrt(t * t + n * n), e.scale.y = Math.sqrt(r * r + i * i), e.position.x = this.tx, e.position.y = this.ty, e
                            }, e.prototype.invert = function() {
                                var e = this.a,
                                    t = this.b,
                                    n = this.c,
                                    r = this.d,
                                    i = this.tx,
                                    o = e * r - t * n;
                                return this.a = r / o, this.b = -t / o, this.c = -n / o, this.d = e / o, this.tx = (n * this.ty - r * i) / o, this.ty = -(e * this.ty - t * i) / o, this
                            }, e.prototype.identity = function() {
                                return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this
                            }, e.prototype.clone = function() {
                                var t = new e;
                                return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t
                            }, e.prototype.copy = function(e) {
                                return e.a = this.a, e.b = this.b, e.c = this.c, e.d = this.d, e.tx = this.tx, e.ty = this.ty, e
                            }, i(e, null, [{
                                key: "IDENTITY",
                                get: function() {
                                    return new e
                                }
                            }, {
                                key: "TEMP_MATRIX",
                                get: function() {
                                    return new e
                                }
                            }]), e
                        }();
                    n.default = s
                }, {
                    "./Point": 68
                }],
                67: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = function() {
                            function e(t, n) {
                                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                                r(this, e), this._x = i, this._y = o, this.cb = t, this.scope = n
                            }
                            return e.prototype.set = function(e, t) {
                                var n = e || 0,
                                    r = t || (0 !== t ? n : 0);
                                this._x === n && this._y === r || (this._x = n, this._y = r, this.cb.call(this.scope))
                            }, e.prototype.copy = function(e) {
                                this._x === e.x && this._y === e.y || (this._x = e.x, this._y = e.y, this.cb.call(this.scope))
                            }, i(e, [{
                                key: "x",
                                get: function() {
                                    return this._x
                                },
                                set: function(e) {
                                    this._x !== e && (this._x = e, this.cb.call(this.scope))
                                }
                            }, {
                                key: "y",
                                get: function() {
                                    return this._y
                                },
                                set: function(e) {
                                    this._y !== e && (this._y = e, this.cb.call(this.scope))
                                }
                            }]), e
                        }();
                    n.default = o
                }, {}],
                68: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                            r(this, e), this.x = t, this.y = n
                        }
                        return e.prototype.clone = function() {
                            return new e(this.x, this.y)
                        }, e.prototype.copy = function(e) {
                            this.set(e.x, e.y)
                        }, e.prototype.equals = function(e) {
                            return e.x === this.x && e.y === this.y
                        }, e.prototype.set = function(e, t) {
                            this.x = e || 0, this.y = t || (0 !== t ? this.x : 0)
                        }, e
                    }();
                    n.default = i
                }, {}],
                69: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./Point");
                    Object.defineProperty(n, "Point", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./ObservablePoint");
                    Object.defineProperty(n, "ObservablePoint", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    });
                    var a = e("./Matrix");
                    Object.defineProperty(n, "Matrix", {
                        enumerable: !0,
                        get: function() {
                            return r(a).default
                        }
                    });
                    var s = e("./GroupD8");
                    Object.defineProperty(n, "GroupD8", {
                        enumerable: !0,
                        get: function() {
                            return r(s).default
                        }
                    });
                    var u = e("./shapes/Circle");
                    Object.defineProperty(n, "Circle", {
                        enumerable: !0,
                        get: function() {
                            return r(u).default
                        }
                    });
                    var l = e("./shapes/Ellipse");
                    Object.defineProperty(n, "Ellipse", {
                        enumerable: !0,
                        get: function() {
                            return r(l).default
                        }
                    });
                    var c = e("./shapes/Polygon");
                    Object.defineProperty(n, "Polygon", {
                        enumerable: !0,
                        get: function() {
                            return r(c).default
                        }
                    });
                    var h = e("./shapes/Rectangle");
                    Object.defineProperty(n, "Rectangle", {
                        enumerable: !0,
                        get: function() {
                            return r(h).default
                        }
                    });
                    var d = e("./shapes/RoundedRectangle");
                    Object.defineProperty(n, "RoundedRectangle", {
                        enumerable: !0,
                        get: function() {
                            return r(d).default
                        }
                    })
                }, {
                    "./GroupD8": 65,
                    "./Matrix": 66,
                    "./ObservablePoint": 67,
                    "./Point": 68,
                    "./shapes/Circle": 70,
                    "./shapes/Ellipse": 71,
                    "./shapes/Polygon": 72,
                    "./shapes/Rectangle": 73,
                    "./shapes/RoundedRectangle": 74
                }],
                70: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("./Rectangle"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = e("../../const"),
                        s = function() {
                            function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                                r(this, e), this.x = t, this.y = n, this.radius = i, this.type = a.SHAPES.CIRC
                            }
                            return e.prototype.clone = function() {
                                return new e(this.x, this.y, this.radius)
                            }, e.prototype.contains = function(e, t) {
                                if (this.radius <= 0) return !1;
                                var n = this.radius * this.radius,
                                    r = this.x - e,
                                    i = this.y - t;
                                return r *= r, i *= i, r + i <= n
                            }, e.prototype.getBounds = function() {
                                return new o.default(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius)
                            }, e
                        }();
                    n.default = s
                }, {
                    "../../const": 45,
                    "./Rectangle": 73
                }],
                71: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("./Rectangle"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = e("../../const"),
                        s = function() {
                            function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                                r(this, e), this.x = t, this.y = n, this.width = i, this.height = o, this.type = a.SHAPES.ELIP
                            }
                            return e.prototype.clone = function() {
                                return new e(this.x, this.y, this.width, this.height)
                            }, e.prototype.contains = function(e, t) {
                                if (this.width <= 0 || this.height <= 0) return !1;
                                var n = (e - this.x) / this.width,
                                    r = (t - this.y) / this.height;
                                return n *= n, r *= r, n + r <= 1
                            }, e.prototype.getBounds = function() {
                                return new o.default(this.x - this.width, this.y - this.height, this.width, this.height)
                            }, e
                        }();
                    n.default = s
                }, {
                    "../../const": 45,
                    "./Rectangle": 73
                }],
                72: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../Point"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = e("../../const"),
                        s = function() {
                            function e() {
                                for (var t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                                if (r(this, e), Array.isArray(n[0]) && (n = n[0]), n[0] instanceof o.default) {
                                    for (var s = [], u = 0, l = n.length; u < l; u++) s.push(n[u].x, n[u].y);
                                    n = s
                                }
                                this.closed = !0, this.points = n, this.type = a.SHAPES.POLY
                            }
                            return e.prototype.clone = function() {
                                return new e(this.points.slice())
                            }, e.prototype.close = function() {
                                var e = this.points;
                                e[0] === e[e.length - 2] && e[1] === e[e.length - 1] || e.push(e[0], e[1])
                            }, e.prototype.contains = function(e, t) {
                                for (var n = !1, r = this.points.length / 2, i = 0, o = r - 1; i < r; o = i++) {
                                    var a = this.points[2 * i],
                                        s = this.points[2 * i + 1],
                                        u = this.points[2 * o],
                                        l = this.points[2 * o + 1];
                                    s > t != l > t && e < (t - s) / (l - s) * (u - a) + a && (n = !n)
                                }
                                return n
                            }, e
                        }();
                    n.default = s
                }, {
                    "../../const": 45,
                    "../Point": 68
                }],
                73: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = e("../../const"),
                        a = function() {
                            function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                                r(this, e), this.x = t, this.y = n, this.width = i, this.height = a, this.type = o.SHAPES.RECT
                            }
                            return e.prototype.clone = function() {
                                return new e(this.x, this.y, this.width, this.height)
                            }, e.prototype.copy = function(e) {
                                return this.x = e.x, this.y = e.y, this.width = e.width, this.height = e.height, this
                            }, e.prototype.contains = function(e, t) {
                                return !(this.width <= 0 || this.height <= 0) && (e >= this.x && e < this.x + this.width && t >= this.y && t < this.y + this.height)
                            }, e.prototype.pad = function(e, t) {
                                e = e || 0, t = t || (0 !== t ? e : 0), this.x -= e, this.y -= t, this.width += 2 * e, this.height += 2 * t
                            }, e.prototype.fit = function(e) {
                                this.x < e.x && (this.width += this.x, this.width < 0 && (this.width = 0), this.x = e.x), this.y < e.y && (this.height += this.y, this.height < 0 && (this.height = 0), this.y = e.y), this.x + this.width > e.x + e.width && (this.width = e.width - this.x, this.width < 0 && (this.width = 0)), this.y + this.height > e.y + e.height && (this.height = e.height - this.y, this.height < 0 && (this.height = 0))
                            }, e.prototype.enlarge = function(e) {
                                var t = Math.min(this.x, e.x),
                                    n = Math.max(this.x + this.width, e.x + e.width),
                                    r = Math.min(this.y, e.y),
                                    i = Math.max(this.y + this.height, e.y + e.height);
                                this.x = t, this.width = n - t, this.y = r, this.height = i - r
                            }, i(e, [{
                                key: "left",
                                get: function() {
                                    return this.x
                                }
                            }, {
                                key: "right",
                                get: function() {
                                    return this.x + this.width
                                }
                            }, {
                                key: "top",
                                get: function() {
                                    return this.y
                                }
                            }, {
                                key: "bottom",
                                get: function() {
                                    return this.y + this.height
                                }
                            }], [{
                                key: "EMPTY",
                                get: function() {
                                    return new e(0, 0, 0, 0)
                                }
                            }]), e
                        }();
                    n.default = a
                }, {
                    "../../const": 45
                }],
                74: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../const"),
                        o = function() {
                            function e() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                                    s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 20;
                                r(this, e), this.x = t, this.y = n, this.width = o, this.height = a, this.radius = s, this.type = i.SHAPES.RREC
                            }
                            return e.prototype.clone = function() {
                                return new e(this.x, this.y, this.width, this.height, this.radius)
                            }, e.prototype.contains = function(e, t) {
                                if (this.width <= 0 || this.height <= 0) return !1;
                                if (e >= this.x && e <= this.x + this.width && t >= this.y && t <= this.y + this.height) {
                                    if (t >= this.y + this.radius && t <= this.y + this.height - this.radius || e >= this.x + this.radius && e <= this.x + this.width - this.radius) return !0;
                                    var n = e - (this.x + this.radius),
                                        r = t - (this.y + this.radius),
                                        i = this.radius * this.radius;
                                    if (n * n + r * r <= i) return !0;
                                    if ((n = e - (this.x + this.width - this.radius)) * n + r * r <= i) return !0;
                                    if (r = t - (this.y + this.height - this.radius), n * n + r * r <= i) return !0;
                                    if ((n = e - (this.x + this.radius)) * n + r * r <= i) return !0
                                }
                                return !1
                            }, e
                        }();
                    n.default = o
                }, {
                    "../../const": 45
                }],
                75: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../utils"),
                        l = e("../math"),
                        c = e("../const"),
                        h = e("../settings"),
                        d = r(h),
                        f = e("../display/Container"),
                        p = r(f),
                        m = e("../textures/RenderTexture"),
                        g = r(m),
                        _ = e("eventemitter3"),
                        y = r(_),
                        v = new l.Matrix,
                        b = function(e) {
                            function t(n, r, a, s) {
                                i(this, t);
                                var h = o(this, e.call(this));
                                return (0, u.sayHello)(n), "number" == typeof r && (r = Object.assign({
                                    width: r,
                                    height: a || d.default.RENDER_OPTIONS.height
                                }, s)), r = Object.assign({}, d.default.RENDER_OPTIONS, r), h.options = r, h.type = c.RENDERER_TYPE.UNKNOWN, h.screen = new l.Rectangle(0, 0, r.width, r.height), h.view = r.view || document.createElement("canvas"), h.resolution = r.resolution || d.default.RESOLUTION, h.transparent = r.transparent, h.autoResize = r.autoResize || !1, h.blendModes = null, h.preserveDrawingBuffer = r.preserveDrawingBuffer, h.clearBeforeRender = r.clearBeforeRender, h.roundPixels = r.roundPixels, h._backgroundColor = 0, h._backgroundColorRgba = [0, 0, 0, 0], h._backgroundColorString = "#000000", h.backgroundColor = r.backgroundColor || h._backgroundColor, h._tempDisplayObjectParent = new p.default, h._lastObjectRendered = h._tempDisplayObjectParent, h
                            }
                            return a(t, e), t.prototype.resize = function(e, t) {
                                this.screen.width = e, this.screen.height = t, this.view.width = e * this.resolution, this.view.height = t * this.resolution, this.autoResize && (this.view.style.width = e + "px", this.view.style.height = t + "px")
                            }, t.prototype.generateTexture = function(e, t, n) {
                                var r = e.getLocalBounds(),
                                    i = g.default.create(0 | r.width, 0 | r.height, t, n);
                                return v.tx = -r.x, v.ty = -r.y, this.render(e, i, !1, v, !0), i
                            }, t.prototype.destroy = function(e) {
                                e && this.view.parentNode && this.view.parentNode.removeChild(this.view), this.type = c.RENDERER_TYPE.UNKNOWN, this.view = null, this.screen = null, this.resolution = 0, this.transparent = !1, this.autoResize = !1, this.blendModes = null, this.options = null, this.preserveDrawingBuffer = !1, this.clearBeforeRender = !1, this.roundPixels = !1, this._backgroundColor = 0, this._backgroundColorRgba = null, this._backgroundColorString = null, this._tempDisplayObjectParent = null, this._lastObjectRendered = null
                            }, s(t, [{
                                key: "width",
                                get: function() {
                                    return this.view.width
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return this.view.height
                                }
                            }, {
                                key: "backgroundColor",
                                get: function() {
                                    return this._backgroundColor
                                },
                                set: function(e) {
                                    this._backgroundColor = e, this._backgroundColorString = (0, u.hex2string)(e), (0, u.hex2rgb)(e, this._backgroundColorRgba)
                                }
                            }]), t
                        }(y.default);
                    n.default = b
                }, {
                    "../const": 45,
                    "../display/Container": 47,
                    "../math": 69,
                    "../settings": 100,
                    "../textures/RenderTexture": 112,
                    "../utils": 123,
                    eventemitter3: 3
                }],
                76: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("../SystemRenderer"),
                        u = r(s),
                        l = e("./utils/CanvasMaskManager"),
                        c = r(l),
                        h = e("./utils/CanvasRenderTarget"),
                        d = r(h),
                        f = e("./utils/mapCanvasBlendModesToPixi"),
                        p = r(f),
                        m = e("../../utils"),
                        g = e("../../const"),
                        _ = e("../../settings"),
                        y = r(_),
                        v = function(e) {
                            function t(n, r, a) {
                                i(this, t);
                                var s = o(this, e.call(this, "Canvas", n, r, a));
                                return s.type = g.RENDERER_TYPE.CANVAS, s.rootContext = s.view.getContext("2d", {
                                    alpha: s.transparent
                                }), s.context = s.rootContext, s.refresh = !0, s.maskManager = new c.default(s), s.smoothProperty = "imageSmoothingEnabled", s.rootContext.imageSmoothingEnabled || (s.rootContext.webkitImageSmoothingEnabled ? s.smoothProperty = "webkitImageSmoothingEnabled" : s.rootContext.mozImageSmoothingEnabled ? s.smoothProperty = "mozImageSmoothingEnabled" : s.rootContext.oImageSmoothingEnabled ? s.smoothProperty = "oImageSmoothingEnabled" : s.rootContext.msImageSmoothingEnabled && (s.smoothProperty = "msImageSmoothingEnabled")), s.initPlugins(), s.blendModes = (0, p.default)(), s._activeBlendMode = null, s.renderingToScreen = !1, s.resize(s.options.width, s.options.height), s
                            }
                            return a(t, e), t.prototype.render = function(e, t, n, r, i) {
                                if (this.view) {
                                    this.renderingToScreen = !t, this.emit("prerender");
                                    var o = this.resolution;
                                    t ? (t = t.baseTexture || t, t._canvasRenderTarget || (t._canvasRenderTarget = new d.default(t.width, t.height, t.resolution), t.source = t._canvasRenderTarget.canvas, t.valid = !0), this.context = t._canvasRenderTarget.context, this.resolution = t._canvasRenderTarget.resolution) : this.context = this.rootContext;
                                    var a = this.context;
                                    if (t || (this._lastObjectRendered = e), !i) {
                                        var s = e.parent,
                                            u = this._tempDisplayObjectParent.transform.worldTransform;
                                        r ? (r.copy(u), this._tempDisplayObjectParent.transform._worldID = -1) : u.identity(), e.parent = this._tempDisplayObjectParent, e.updateTransform(), e.parent = s
                                    }
                                    a.setTransform(1, 0, 0, 1, 0, 0), a.globalAlpha = 1, a.globalCompositeOperation = this.blendModes[g.BLEND_MODES.NORMAL], navigator.isCocoonJS && this.view.screencanvas && (a.fillStyle = "black", a.clear()), (void 0 !== n ? n : this.clearBeforeRender) && this.renderingToScreen && (this.transparent ? a.clearRect(0, 0, this.width, this.height) : (a.fillStyle = this._backgroundColorString, a.fillRect(0, 0, this.width, this.height)));
                                    var l = this.context;
                                    this.context = a, e.renderCanvas(this), this.context = l, this.resolution = o, this.emit("postrender")
                                }
                            }, t.prototype.clear = function(e) {
                                var t = this.context;
                                e = e || this._backgroundColorString, !this.transparent && e ? (t.fillStyle = e, t.fillRect(0, 0, this.width, this.height)) : t.clearRect(0, 0, this.width, this.height)
                            }, t.prototype.setBlendMode = function(e) {
                                this._activeBlendMode !== e && (this._activeBlendMode = e, this.context.globalCompositeOperation = this.blendModes[e])
                            }, t.prototype.destroy = function(t) {
                                this.destroyPlugins(), e.prototype.destroy.call(this, t), this.context = null, this.refresh = !0, this.maskManager.destroy(), this.maskManager = null, this.smoothProperty = null
                            }, t.prototype.resize = function(t, n) {
                                e.prototype.resize.call(this, t, n), this.smoothProperty && (this.rootContext[this.smoothProperty] = y.default.SCALE_MODE === g.SCALE_MODES.LINEAR)
                            }, t
                        }(u.default);
                    n.default = v, m.pluginTarget.mixin(v)
                }, {
                    "../../const": 45,
                    "../../settings": 100,
                    "../../utils": 123,
                    "../SystemRenderer": 75,
                    "./utils/CanvasMaskManager": 77,
                    "./utils/CanvasRenderTarget": 78,
                    "./utils/mapCanvasBlendModesToPixi": 80
                }],
                77: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../../const"),
                        o = function() {
                            function e(t) {
                                r(this, e), this.renderer = t
                            }
                            return e.prototype.pushMask = function(e) {
                                var t = this.renderer;
                                t.context.save();
                                var n = e.alpha,
                                    r = e.transform.worldTransform,
                                    i = t.resolution;
                                t.context.setTransform(r.a * i, r.b * i, r.c * i, r.d * i, r.tx * i, r.ty * i), e._texture || (this.renderGraphicsShape(e), t.context.clip()), e.worldAlpha = n
                            }, e.prototype.renderGraphicsShape = function(e) {
                                var t = this.renderer.context,
                                    n = e.graphicsData.length;
                                if (0 !== n) {
                                    t.beginPath();
                                    for (var r = 0; r < n; r++) {
                                        var o = e.graphicsData[r],
                                            a = o.shape;
                                        if (o.type === i.SHAPES.POLY) {
                                            var s = a.points;
                                            t.moveTo(s[0], s[1]);
                                            for (var u = 1; u < s.length / 2; u++) t.lineTo(s[2 * u], s[2 * u + 1]);
                                            s[0] === s[s.length - 2] && s[1] === s[s.length - 1] && t.closePath()
                                        } else if (o.type === i.SHAPES.RECT) t.rect(a.x, a.y, a.width, a.height), t.closePath();
                                        else if (o.type === i.SHAPES.CIRC) t.arc(a.x, a.y, a.radius, 0, 2 * Math.PI), t.closePath();
                                        else if (o.type === i.SHAPES.ELIP) {
                                            var l = 2 * a.width,
                                                c = 2 * a.height,
                                                h = a.x - l / 2,
                                                d = a.y - c / 2,
                                                f = l / 2 * .5522848,
                                                p = c / 2 * .5522848,
                                                m = h + l,
                                                g = d + c,
                                                _ = h + l / 2,
                                                y = d + c / 2;
                                            t.moveTo(h, y), t.bezierCurveTo(h, y - p, _ - f, d, _, d), t.bezierCurveTo(_ + f, d, m, y - p, m, y), t.bezierCurveTo(m, y + p, _ + f, g, _, g), t.bezierCurveTo(_ - f, g, h, y + p, h, y), t.closePath()
                                        } else if (o.type === i.SHAPES.RREC) {
                                            var v = a.x,
                                                b = a.y,
                                                x = a.width,
                                                T = a.height,
                                                w = a.radius,
                                                S = Math.min(x, T) / 2 | 0;
                                            w = w > S ? S : w, t.moveTo(v, b + w), t.lineTo(v, b + T - w), t.quadraticCurveTo(v, b + T, v + w, b + T), t.lineTo(v + x - w, b + T), t.quadraticCurveTo(v + x, b + T, v + x, b + T - w), t.lineTo(v + x, b + w), t.quadraticCurveTo(v + x, b, v + x - w, b), t.lineTo(v + w, b), t.quadraticCurveTo(v, b, v, b + w), t.closePath()
                                        }
                                    }
                                }
                            }, e.prototype.popMask = function(e) {
                                e.context.restore()
                            }, e.prototype.destroy = function() {}, e
                        }();
                    n.default = o
                }, {
                    "../../../const": 45
                }],
                78: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = e("../../../settings"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = function() {
                            function e(t, n, i) {
                                r(this, e), this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = i || a.default.RESOLUTION, this.resize(t, n)
                            }
                            return e.prototype.clear = function() {
                                this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
                            }, e.prototype.resize = function(e, t) {
                                this.canvas.width = e * this.resolution, this.canvas.height = t * this.resolution
                            }, e.prototype.destroy = function() {
                                this.context = null, this.canvas = null
                            }, i(e, [{
                                key: "width",
                                get: function() {
                                    return this.canvas.width
                                },
                                set: function(e) {
                                    this.canvas.width = e
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return this.canvas.height
                                },
                                set: function(e) {
                                    this.canvas.height = e
                                }
                            }]), e
                        }();
                    n.default = s
                }, {
                    "../../../settings": 100
                }],
                79: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        var t = document.createElement("canvas");
                        t.width = 6, t.height = 1;
                        var n = t.getContext("2d");
                        return n.fillStyle = e, n.fillRect(0, 0, 6, 1), t
                    }

                    function i() {
                        if ("undefined" == typeof document) return !1;
                        var e = r("#ff00ff"),
                            t = r("#ffff00"),
                            n = document.createElement("canvas");
                        n.width = 6, n.height = 1;
                        var i = n.getContext("2d");
                        i.globalCompositeOperation = "multiply", i.drawImage(e, 0, 0), i.drawImage(t, 2, 0);
                        var o = i.getImageData(2, 0, 1, 1);
                        if (!o) return !1;
                        var a = o.data;
                        return 255 === a[0] && 0 === a[1] && 0 === a[2]
                    }
                    n.__esModule = !0, n.default = i
                }, {}],
                80: [function(e, t, n) {
                    "use strict";

                    function r() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                        return (0, a.default)() ? (e[i.BLEND_MODES.NORMAL] = "source-over", e[i.BLEND_MODES.ADD] = "lighter", e[i.BLEND_MODES.MULTIPLY] = "multiply", e[i.BLEND_MODES.SCREEN] = "screen", e[i.BLEND_MODES.OVERLAY] = "overlay", e[i.BLEND_MODES.DARKEN] = "darken", e[i.BLEND_MODES.LIGHTEN] = "lighten", e[i.BLEND_MODES.COLOR_DODGE] = "color-dodge", e[i.BLEND_MODES.COLOR_BURN] = "color-burn", e[i.BLEND_MODES.HARD_LIGHT] = "hard-light", e[i.BLEND_MODES.SOFT_LIGHT] = "soft-light", e[i.BLEND_MODES.DIFFERENCE] = "difference", e[i.BLEND_MODES.EXCLUSION] = "exclusion", e[i.BLEND_MODES.HUE] = "hue", e[i.BLEND_MODES.SATURATION] = "saturate", e[i.BLEND_MODES.COLOR] = "color", e[i.BLEND_MODES.LUMINOSITY] = "luminosity") : (e[i.BLEND_MODES.NORMAL] = "source-over", e[i.BLEND_MODES.ADD] = "lighter", e[i.BLEND_MODES.MULTIPLY] = "source-over", e[i.BLEND_MODES.SCREEN] = "source-over", e[i.BLEND_MODES.OVERLAY] = "source-over", e[i.BLEND_MODES.DARKEN] = "source-over", e[i.BLEND_MODES.LIGHTEN] = "source-over", e[i.BLEND_MODES.COLOR_DODGE] = "source-over", e[i.BLEND_MODES.COLOR_BURN] = "source-over", e[i.BLEND_MODES.HARD_LIGHT] = "source-over", e[i.BLEND_MODES.SOFT_LIGHT] = "source-over", e[i.BLEND_MODES.DIFFERENCE] = "source-over",
                            e[i.BLEND_MODES.EXCLUSION] = "source-over", e[i.BLEND_MODES.HUE] = "source-over", e[i.BLEND_MODES.SATURATION] = "source-over", e[i.BLEND_MODES.COLOR] = "source-over", e[i.BLEND_MODES.LUMINOSITY] = "source-over"), e[i.BLEND_MODES.NORMAL_NPM] = e[i.BLEND_MODES.NORMAL], e[i.BLEND_MODES.ADD_NPM] = e[i.BLEND_MODES.ADD], e[i.BLEND_MODES.SCREEN_NPM] = e[i.BLEND_MODES.SCREEN], e
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("../../../const"),
                        o = e("./canUseNewCanvasBlendModes"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o)
                }, {
                    "../../../const": 45,
                    "./canUseNewCanvasBlendModes": 79
                }],
                81: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../const"),
                        o = e("../../settings"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = function() {
                            function e(t) {
                                r(this, e), this.renderer = t, this.count = 0, this.checkCount = 0, this.maxIdle = a.default.GC_MAX_IDLE, this.checkCountMax = a.default.GC_MAX_CHECK_COUNT, this.mode = a.default.GC_MODE
                            }
                            return e.prototype.update = function() {
                                this.count++, this.mode !== i.GC_MODES.MANUAL && ++this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run())
                            }, e.prototype.run = function() {
                                for (var e = this.renderer.textureManager, t = e._managedTextures, n = !1, r = 0; r < t.length; r++) {
                                    var i = t[r];
                                    !i._glRenderTargets && this.count - i.touched > this.maxIdle && (e.destroyTexture(i, !0), t[r] = null, n = !0)
                                }
                                if (n) {
                                    for (var o = 0, a = 0; a < t.length; a++) null !== t[a] && (t[o++] = t[a]);
                                    t.length = o
                                }
                            }, e.prototype.unload = function(e) {
                                var t = this.renderer.textureManager;
                                e._texture && e._texture._glRenderTargets && t.destroyTexture(e._texture, !0);
                                for (var n = e.children.length - 1; n >= 0; n--) this.unload(e.children[n])
                            }, e
                        }();
                    n.default = s
                }, {
                    "../../const": 45,
                    "../../settings": 100
                }],
                82: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("pixi-gl-core"),
                        o = e("../../const"),
                        a = e("./utils/RenderTarget"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = e("../../utils"),
                        l = function() {
                            function e(t) {
                                r(this, e), this.renderer = t, this.gl = t.gl, this._managedTextures = []
                            }
                            return e.prototype.bindTexture = function() {}, e.prototype.getTexture = function() {}, e.prototype.updateTexture = function(e, t) {
                                var n = this.gl,
                                    r = !!e._glRenderTargets;
                                if (!e.hasLoaded) return null;
                                var a = this.renderer.boundTextures;
                                if (void 0 === t) {
                                    t = 0;
                                    for (var u = 0; u < a.length; ++u)
                                        if (a[u] === e) {
                                            t = u;
                                            break
                                        }
                                }
                                a[t] = e, n.activeTexture(n.TEXTURE0 + t);
                                var l = e._glTextures[this.renderer.CONTEXT_UID];
                                if (l) r ? e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width, e.height) : l.upload(e.source);
                                else {
                                    if (r) {
                                        var c = new s.default(this.gl, e.width, e.height, e.scaleMode, e.resolution);
                                        c.resize(e.width, e.height), e._glRenderTargets[this.renderer.CONTEXT_UID] = c, l = c.texture
                                    } else l = new i.GLTexture(this.gl, null, null, null, null), l.bind(t), l.premultiplyAlpha = !0, l.upload(e.source);
                                    e._glTextures[this.renderer.CONTEXT_UID] = l, e.on("update", this.updateTexture, this), e.on("dispose", this.destroyTexture, this), this._managedTextures.push(e), e.isPowerOfTwo ? (e.mipmap && l.enableMipmap(), e.wrapMode === o.WRAP_MODES.CLAMP ? l.enableWrapClamp() : e.wrapMode === o.WRAP_MODES.REPEAT ? l.enableWrapRepeat() : l.enableWrapMirrorRepeat()) : l.enableWrapClamp(), e.scaleMode === o.SCALE_MODES.NEAREST ? l.enableNearestScaling() : l.enableLinearScaling()
                                }
                                return l
                            }, e.prototype.destroyTexture = function(e, t) {
                                if (e = e.baseTexture || e, e.hasLoaded && e._glTextures[this.renderer.CONTEXT_UID] && (this.renderer.unbindTexture(e), e._glTextures[this.renderer.CONTEXT_UID].destroy(), e.off("update", this.updateTexture, this), e.off("dispose", this.destroyTexture, this), delete e._glTextures[this.renderer.CONTEXT_UID], !t)) {
                                    var n = this._managedTextures.indexOf(e); - 1 !== n && (0, u.removeItems)(this._managedTextures, n, 1)
                                }
                            }, e.prototype.removeAll = function() {
                                for (var e = 0; e < this._managedTextures.length; ++e) {
                                    var t = this._managedTextures[e];
                                    t._glTextures[this.renderer.CONTEXT_UID] && delete t._glTextures[this.renderer.CONTEXT_UID]
                                }
                            }, e.prototype.destroy = function() {
                                for (var e = 0; e < this._managedTextures.length; ++e) {
                                    var t = this._managedTextures[e];
                                    this.destroyTexture(t, !0), t.off("update", this.updateTexture, this), t.off("dispose", this.destroyTexture, this)
                                }
                                this._managedTextures = null
                            }, e
                        }();
                    n.default = l
                }, {
                    "../../const": 45,
                    "../../utils": 123,
                    "./utils/RenderTarget": 95,
                    "pixi-gl-core": 12
                }],
                83: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("../SystemRenderer"),
                        u = r(s),
                        l = e("./managers/MaskManager"),
                        c = r(l),
                        h = e("./managers/StencilManager"),
                        d = r(h),
                        f = e("./managers/FilterManager"),
                        p = r(f),
                        m = e("./utils/RenderTarget"),
                        g = r(m),
                        _ = e("./utils/ObjectRenderer"),
                        y = r(_),
                        v = e("./TextureManager"),
                        b = r(v),
                        x = e("../../textures/BaseTexture"),
                        T = r(x),
                        w = e("./TextureGarbageCollector"),
                        S = r(w),
                        E = e("./WebGLState"),
                        C = r(E),
                        P = e("./utils/mapWebGLDrawModesToPixi"),
                        O = r(P),
                        A = e("./utils/validateContext"),
                        M = r(A),
                        I = e("../../utils"),
                        R = e("pixi-gl-core"),
                        D = r(R),
                        L = e("../../const"),
                        k = 0,
                        B = function(e) {
                            function t(n, r, a) {
                                i(this, t);
                                var s = o(this, e.call(this, "WebGL", n, r, a));
                                return s.legacy = s.options.legacy, s.legacy && (D.default.VertexArrayObject.FORCE_NATIVE = !0), s.type = L.RENDERER_TYPE.WEBGL, s.handleContextLost = s.handleContextLost.bind(s), s.handleContextRestored = s.handleContextRestored.bind(s), s.view.addEventListener("webglcontextlost", s.handleContextLost, !1), s.view.addEventListener("webglcontextrestored", s.handleContextRestored, !1), s._contextOptions = {
                                    alpha: s.transparent,
                                    antialias: s.options.antialias,
                                    premultipliedAlpha: s.transparent && "notMultiplied" !== s.transparent,
                                    stencil: !0,
                                    preserveDrawingBuffer: s.options.preserveDrawingBuffer
                                }, s._backgroundColorRgba[3] = s.transparent ? 0 : 1, s.maskManager = new c.default(s), s.stencilManager = new d.default(s), s.emptyRenderer = new y.default(s), s.currentRenderer = s.emptyRenderer, s.initPlugins(), s.options.context && (0, M.default)(s.options.context), s.gl = s.options.context || D.default.createContext(s.view, s._contextOptions), s.CONTEXT_UID = k++, s.state = new C.default(s.gl), s.renderingToScreen = !0, s.boundTextures = null, s._activeShader = null, s._activeVao = null, s._activeRenderTarget = null, s._initContext(), s.filterManager = new p.default(s), s.drawModes = (0, O.default)(s.gl), s._nextTextureLocation = 0, s.setBlendMode(0), s
                            }
                            return a(t, e), t.prototype._initContext = function() {
                                var e = this.gl;
                                e.isContextLost() && e.getExtension("WEBGL_lose_context") && e.getExtension("WEBGL_lose_context").restoreContext();
                                var t = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);
                                this._activeShader = null, this._activeVao = null, this.boundTextures = new Array(t), this.emptyTextures = new Array(t), this.textureManager = new b.default(this), this.textureGC = new S.default(this), this.state.resetToDefault(), this.rootRenderTarget = new g.default(e, this.width, this.height, null, this.resolution, !0), this.rootRenderTarget.clearColor = this._backgroundColorRgba, this.bindRenderTarget(this.rootRenderTarget);
                                var n = new D.default.GLTexture.fromData(e, null, 1, 1),
                                    r = {
                                        _glTextures: {}
                                    };
                                r._glTextures[this.CONTEXT_UID] = {};
                                for (var i = 0; i < t; i++) {
                                    var o = new T.default;
                                    o._glTextures[this.CONTEXT_UID] = n, this.boundTextures[i] = r, this.emptyTextures[i] = o, this.bindTexture(null, i)
                                }
                                this.emit("context", e), this.resize(this.screen.width, this.screen.height)
                            }, t.prototype.render = function(e, t, n, r, i) {
                                if (this.renderingToScreen = !t, this.emit("prerender"), this.gl && !this.gl.isContextLost()) {
                                    if (this._nextTextureLocation = 0, t || (this._lastObjectRendered = e), !i) {
                                        var o = e.parent;
                                        e.parent = this._tempDisplayObjectParent, e.updateTransform(), e.parent = o
                                    }
                                    this.bindRenderTexture(t, r), this.currentRenderer.start(), (void 0 !== n ? n : this.clearBeforeRender) && this._activeRenderTarget.clear(), e.renderWebGL(this), this.currentRenderer.flush(), this.textureGC.update(), this.emit("postrender")
                                }
                            }, t.prototype.setObjectRenderer = function(e) {
                                this.currentRenderer !== e && (this.currentRenderer.stop(), this.currentRenderer = e, this.currentRenderer.start())
                            }, t.prototype.flush = function() {
                                this.setObjectRenderer(this.emptyRenderer)
                            }, t.prototype.resize = function(e, t) {
                                u.default.prototype.resize.call(this, e, t), this.rootRenderTarget.resize(e, t), this._activeRenderTarget === this.rootRenderTarget && (this.rootRenderTarget.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(!0)))
                            }, t.prototype.setBlendMode = function(e) {
                                this.state.setBlendMode(e)
                            }, t.prototype.clear = function(e) {
                                this._activeRenderTarget.clear(e)
                            }, t.prototype.setTransform = function(e) {
                                this._activeRenderTarget.transform = e
                            }, t.prototype.clearRenderTexture = function(e, t) {
                                var n = e.baseTexture,
                                    r = n._glRenderTargets[this.CONTEXT_UID];
                                return r && r.clear(t), this
                            }, t.prototype.bindRenderTexture = function(e, t) {
                                var n = void 0;
                                if (e) {
                                    var r = e.baseTexture;
                                    r._glRenderTargets[this.CONTEXT_UID] || this.textureManager.updateTexture(r, 0), this.unbindTexture(r), n = r._glRenderTargets[this.CONTEXT_UID], n.setFrame(e.frame)
                                } else n = this.rootRenderTarget;
                                return n.transform = t, this.bindRenderTarget(n), this
                            }, t.prototype.bindRenderTarget = function(e) {
                                return e !== this._activeRenderTarget && (this._activeRenderTarget = e, e.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = e.projectionMatrix.toArray(!0)), this.stencilManager.setMaskStack(e.stencilMaskStack)), this
                            }, t.prototype.bindShader = function(e, t) {
                                return this._activeShader !== e && (this._activeShader = e, e.bind(), !1 !== t && (e.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(!0))), this
                            }, t.prototype.bindTexture = function(e, t, n) {
                                if (e = e || this.emptyTextures[t], e = e.baseTexture || e, e.touched = this.textureGC.count, n) t = t || 0;
                                else {
                                    for (var r = 0; r < this.boundTextures.length; r++)
                                        if (this.boundTextures[r] === e) return r;
                                    void 0 === t && (this._nextTextureLocation++, this._nextTextureLocation %= this.boundTextures.length, t = this.boundTextures.length - this._nextTextureLocation - 1)
                                }
                                var i = this.gl,
                                    o = e._glTextures[this.CONTEXT_UID];
                                return o ? (this.boundTextures[t] = e, i.activeTexture(i.TEXTURE0 + t), i.bindTexture(i.TEXTURE_2D, o.texture)) : this.textureManager.updateTexture(e, t), t
                            }, t.prototype.unbindTexture = function(e) {
                                var t = this.gl;
                                e = e.baseTexture || e;
                                for (var n = 0; n < this.boundTextures.length; n++) this.boundTextures[n] === e && (this.boundTextures[n] = this.emptyTextures[n], t.activeTexture(t.TEXTURE0 + n), t.bindTexture(t.TEXTURE_2D, this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));
                                return this
                            }, t.prototype.createVao = function() {
                                return new D.default.VertexArrayObject(this.gl, this.state.attribState)
                            }, t.prototype.bindVao = function(e) {
                                return this._activeVao === e ? this : (e ? e.bind() : this._activeVao && this._activeVao.unbind(), this._activeVao = e, this)
                            }, t.prototype.reset = function() {
                                return this.setObjectRenderer(this.emptyRenderer), this._activeShader = null, this._activeRenderTarget = this.rootRenderTarget, this.rootRenderTarget.activate(), this.state.resetToDefault(), this
                            }, t.prototype.handleContextLost = function(e) {
                                e.preventDefault()
                            }, t.prototype.handleContextRestored = function() {
                                this.textureManager.removeAll(), this._initContext()
                            }, t.prototype.destroy = function(t) {
                                this.destroyPlugins(), this.view.removeEventListener("webglcontextlost", this.handleContextLost), this.view.removeEventListener("webglcontextrestored", this.handleContextRestored), this.textureManager.destroy(), e.prototype.destroy.call(this, t), this.uid = 0, this.maskManager.destroy(), this.stencilManager.destroy(), this.filterManager.destroy(), this.maskManager = null, this.filterManager = null, this.textureManager = null, this.currentRenderer = null, this.handleContextLost = null, this.handleContextRestored = null, this._contextOptions = null, this.gl.useProgram(null), this.gl.getExtension("WEBGL_lose_context") && this.gl.getExtension("WEBGL_lose_context").loseContext(), this.gl = null
                            }, t
                        }(u.default);
                    n.default = B, I.pluginTarget.mixin(B)
                }, {
                    "../../const": 45,
                    "../../textures/BaseTexture": 111,
                    "../../utils": 123,
                    "../SystemRenderer": 75,
                    "./TextureGarbageCollector": 81,
                    "./TextureManager": 82,
                    "./WebGLState": 84,
                    "./managers/FilterManager": 89,
                    "./managers/MaskManager": 90,
                    "./managers/StencilManager": 91,
                    "./utils/ObjectRenderer": 93,
                    "./utils/RenderTarget": 95,
                    "./utils/mapWebGLDrawModesToPixi": 98,
                    "./utils/validateContext": 99,
                    "pixi-gl-core": 12
                }],
                84: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("./utils/mapWebGLBlendModesToPixi"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = function() {
                            function e(t) {
                                r(this, e), this.activeState = new Uint8Array(16), this.defaultState = new Uint8Array(16), this.defaultState[0] = 1, this.stackIndex = 0, this.stack = [], this.gl = t, this.maxAttribs = t.getParameter(t.MAX_VERTEX_ATTRIBS), this.attribState = {
                                    tempAttribState: new Array(this.maxAttribs),
                                    attribState: new Array(this.maxAttribs)
                                }, this.blendModes = (0, o.default)(t), this.nativeVaoExtension = t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object")
                            }
                            return e.prototype.push = function() {
                                var e = this.stack[this.stackIndex];
                                e || (e = this.stack[this.stackIndex] = new Uint8Array(16)), ++this.stackIndex;
                                for (var t = 0; t < this.activeState.length; t++) e[t] = this.activeState[t]
                            }, e.prototype.pop = function() {
                                var e = this.stack[--this.stackIndex];
                                this.setState(e)
                            }, e.prototype.setState = function(e) {
                                this.setBlend(e[0]), this.setDepthTest(e[1]), this.setFrontFace(e[2]), this.setCullFace(e[3]), this.setBlendMode(e[4])
                            }, e.prototype.setBlend = function(e) {
                                e = e ? 1 : 0, this.activeState[0] !== e && (this.activeState[0] = e, this.gl[e ? "enable" : "disable"](this.gl.BLEND))
                            }, e.prototype.setBlendMode = function(e) {
                                if (e !== this.activeState[4]) {
                                    this.activeState[4] = e;
                                    var t = this.blendModes[e];
                                    2 === t.length ? this.gl.blendFunc(t[0], t[1]) : this.gl.blendFuncSeparate(t[0], t[1], t[2], t[3])
                                }
                            }, e.prototype.setDepthTest = function(e) {
                                e = e ? 1 : 0, this.activeState[1] !== e && (this.activeState[1] = e, this.gl[e ? "enable" : "disable"](this.gl.DEPTH_TEST))
                            }, e.prototype.setCullFace = function(e) {
                                e = e ? 1 : 0, this.activeState[3] !== e && (this.activeState[3] = e, this.gl[e ? "enable" : "disable"](this.gl.CULL_FACE))
                            }, e.prototype.setFrontFace = function(e) {
                                e = e ? 1 : 0, this.activeState[2] !== e && (this.activeState[2] = e, this.gl.frontFace(this.gl[e ? "CW" : "CCW"]))
                            }, e.prototype.resetAttributes = function() {
                                for (var e = 0; e < this.attribState.tempAttribState.length; e++) this.attribState.tempAttribState[e] = 0;
                                for (var t = 0; t < this.attribState.attribState.length; t++) this.attribState.attribState[t] = 0;
                                for (var n = 1; n < this.maxAttribs; n++) this.gl.disableVertexAttribArray(n)
                            }, e.prototype.resetToDefault = function() {
                                this.nativeVaoExtension && this.nativeVaoExtension.bindVertexArrayOES(null), this.resetAttributes();
                                for (var e = 0; e < this.activeState.length; ++e) this.activeState[e] = 32;
                                this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.setState(this.defaultState)
                            }, e
                        }();
                    n.default = a
                }, {
                    "./utils/mapWebGLBlendModesToPixi": 97
                }],
                85: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        a = e("./extractUniformsFromSrc"),
                        s = r(a),
                        u = e("../../../utils"),
                        l = e("../../../const"),
                        c = e("../../../settings"),
                        h = r(c),
                        d = {},
                        f = function() {
                            function e(t, n, r) {
                                i(this, e), this.vertexSrc = t || e.defaultVertexSrc, this.fragmentSrc = n || e.defaultFragmentSrc, this.blendMode = l.BLEND_MODES.NORMAL, this.uniformData = r || (0, s.default)(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler"), this.uniforms = {};
                                for (var o in this.uniformData) this.uniforms[o] = this.uniformData[o].value;
                                this.glShaders = {}, d[this.vertexSrc + this.fragmentSrc] || (d[this.vertexSrc + this.fragmentSrc] = (0, u.uid)()), this.glShaderKey = d[this.vertexSrc + this.fragmentSrc], this.padding = 4, this.resolution = h.default.RESOLUTION, this.enabled = !0, this.autoFit = !0
                            }
                            return e.prototype.apply = function(e, t, n, r, i) {
                                e.applyFilter(this, t, n, r)
                            }, o(e, null, [{
                                key: "defaultVertexSrc",
                                get: function() {
                                    return ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 projectionMatrix;", "uniform mat3 filterMatrix;", "varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;", "   vTextureCoord = aTextureCoord ;", "}"].join("\n")
                                }
                            }, {
                                key: "defaultFragmentSrc",
                                get: function() {
                                    return ["varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "uniform sampler2D uSampler;", "uniform sampler2D filterSampler;", "void main(void){", "   vec4 masky = texture2D(filterSampler, vFilterCoord);", "   vec4 sample = texture2D(uSampler, vTextureCoord);", "   vec4 color;", "   if(mod(vFilterCoord.x, 1.0) > 0.5)", "   {", "     color = vec4(1.0, 0.0, 0.0, 1.0);", "   }", "   else", "   {", "     color = vec4(0.0, 1.0, 0.0, 1.0);", "   }", "   gl_FragColor = mix(sample, masky, 0.5);", "   gl_FragColor *= sample.a;", "}"].join("\n")
                                }
                            }]), e
                        }();
                    n.default = f
                }, {
                    "../../../const": 45,
                    "../../../settings": 100,
                    "../../../utils": 123,
                    "./extractUniformsFromSrc": 86
                }],
                86: [function(e, t, n) {
                    "use strict";

                    function r(e, t, n) {
                        var r = i(e),
                            o = i(t);
                        return Object.assign(r, o)
                    }

                    function i(e) {
                        for (var t = new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"), n = {}, r = void 0, i = e.replace(/\s+/g, " ").split(/\s*;\s*/), o = 0; o < i.length; o++) {
                            var a = i[o].trim();
                            if (a.indexOf("uniform") > -1) {
                                var u = a.split(" "),
                                    l = u[1],
                                    c = u[2],
                                    h = 1;
                                c.indexOf("[") > -1 && (r = c.split(/\[|]/), c = r[0], h *= Number(r[1])), c.match(t) || (n[c] = {
                                    value: s(l, h),
                                    name: c,
                                    type: l
                                })
                            }
                        }
                        return n
                    }
                    n.__esModule = !0, n.default = r;
                    var o = e("pixi-gl-core"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = a.default.shader.defaultValue
                }, {
                    "pixi-gl-core": 12
                }],
                87: [function(e, t, n) {
                    "use strict";

                    function r(e, t, n) {
                        var r = e.identity();
                        return r.translate(t.x / n.width, t.y / n.height), r.scale(n.width, n.height), r
                    }

                    function i(e, t, n) {
                        var r = e.identity();
                        r.translate(t.x / n.width, t.y / n.height);
                        var i = n.width / t.width,
                            o = n.height / t.height;
                        return r.scale(i, o), r
                    }

                    function o(e, t, n, r) {
                        var i = r.worldTransform.copy(a.Matrix.TEMP_MATRIX),
                            o = r._texture.baseTexture,
                            s = e.identity(),
                            u = n.height / n.width;
                        s.translate(t.x / n.width, t.y / n.height), s.scale(1, u);
                        var l = n.width / o.width,
                            c = n.height / o.height;
                        return i.tx /= o.width * l, i.ty /= o.width * l, i.invert(), s.prepend(i), s.scale(1, 1 / u), s.scale(l, c), s.translate(r.anchor.x, r.anchor.y), s
                    }
                    n.__esModule = !0, n.calculateScreenSpaceMatrix = r, n.calculateNormalizedScreenSpaceMatrix = i, n.calculateSpriteMatrix = o;
                    var a = e("../../../math")
                }, {
                    "../../../math": 69
                }],
                88: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("../Filter"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = e("../../../../math"),
                        l = (e("path"), function(e) {
                            function t(n) {
                                r(this, t);
                                var o = new u.Matrix,
                                    a = i(this, e.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));
                                return n.renderable = !1, a.maskSprite = n, a.maskMatrix = o, a
                            }
                            return o(t, e), t.prototype.apply = function(e, t, n) {
                                var r = this.maskSprite;
                                this.uniforms.mask = r._texture, this.uniforms.otherMatrix = e.calculateSpriteMatrix(this.maskMatrix, r), this.uniforms.alpha = r.worldAlpha, e.applyFilter(this, t, n)
                            }, t
                        }(s.default));
                    n.default = l
                }, {
                    "../../../../math": 69,
                    "../Filter": 85,
                    path: 22
                }],
                89: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }

                    function a(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var s = e("./WebGLManager"),
                        u = r(s),
                        l = e("../utils/RenderTarget"),
                        c = r(l),
                        h = e("../utils/Quad"),
                        d = r(h),
                        f = e("../../../math"),
                        p = e("../../../Shader"),
                        m = r(p),
                        g = e("../filters/filterTransforms"),
                        _ = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(g),
                        y = e("bit-twiddle"),
                        v = r(y),
                        b = function e() {
                            a(this, e), this.renderTarget = null, this.sourceFrame = new f.Rectangle, this.destinationFrame = new f.Rectangle, this.filters = [], this.target = null, this.resolution = 1
                        },
                        x = function(e) {
                            function t(n) {
                                a(this, t);
                                var r = i(this, e.call(this, n));
                                return r.gl = r.renderer.gl, r.quad = new d.default(r.gl, n.state.attribState), r.shaderCache = {}, r.pool = {}, r.filterData = null, r
                            }
                            return o(t, e), t.prototype.pushFilter = function(e, t) {
                                var n = this.renderer,
                                    r = this.filterData;
                                if (!r) {
                                    r = this.renderer._activeRenderTarget.filterStack;
                                    var i = new b;
                                    i.sourceFrame = i.destinationFrame = this.renderer._activeRenderTarget.size, i.renderTarget = n._activeRenderTarget, this.renderer._activeRenderTarget.filterData = r = {
                                        index: 0,
                                        stack: [i]
                                    }, this.filterData = r
                                }
                                var o = r.stack[++r.index];
                                o || (o = r.stack[r.index] = new b);
                                var a = t[0].resolution,
                                    s = 0 | t[0].padding,
                                    u = e.filterArea || e.getBounds(!0),
                                    l = o.sourceFrame,
                                    c = o.destinationFrame;
                                l.x = (u.x * a | 0) / a, l.y = (u.y * a | 0) / a, l.width = (u.width * a | 0) / a, l.height = (u.height * a | 0) / a, r.stack[0].renderTarget.transform || t[0].autoFit && l.fit(r.stack[0].destinationFrame), l.pad(s), c.width = l.width, c.height = l.height;
                                var h = this.getPotRenderTarget(n.gl, l.width, l.height, a);
                                o.target = e, o.filters = t, o.resolution = a, o.renderTarget = h, h.setFrame(c, l), n.bindRenderTarget(h), h.clear()
                            }, t.prototype.popFilter = function() {
                                var e = this.filterData,
                                    t = e.stack[e.index - 1],
                                    n = e.stack[e.index];
                                this.quad.map(n.renderTarget.size, n.sourceFrame).upload();
                                var r = n.filters;
                                if (1 === r.length) r[0].apply(this, n.renderTarget, t.renderTarget, !1, n), this.freePotRenderTarget(n.renderTarget);
                                else {
                                    var i = n.renderTarget,
                                        o = this.getPotRenderTarget(this.renderer.gl, n.sourceFrame.width, n.sourceFrame.height, n.resolution);
                                    o.setFrame(n.destinationFrame, n.sourceFrame), o.clear();
                                    var a = 0;
                                    for (a = 0; a < r.length - 1; ++a) {
                                        r[a].apply(this, i, o, !0, n);
                                        var s = i;
                                        i = o, o = s
                                    }
                                    r[a].apply(this, i, t.renderTarget, !1, n), this.freePotRenderTarget(i), this.freePotRenderTarget(o)
                                }
                                0 === --e.index && (this.filterData = null)
                            }, t.prototype.applyFilter = function(e, t, n, r) {
                                var i = this.renderer,
                                    o = i.gl,
                                    a = e.glShaders[i.CONTEXT_UID];
                                a || (e.glShaderKey ? (a = this.shaderCache[e.glShaderKey]) || (a = new m.default(this.gl, e.vertexSrc, e.fragmentSrc), e.glShaders[i.CONTEXT_UID] = this.shaderCache[e.glShaderKey] = a) : a = e.glShaders[i.CONTEXT_UID] = new m.default(this.gl, e.vertexSrc, e.fragmentSrc), i.bindVao(null), this.quad.initVao(a)), i.bindVao(this.quad.vao), i.bindRenderTarget(n), r && (o.disable(o.SCISSOR_TEST), i.clear(), o.enable(o.SCISSOR_TEST)), n === i.maskManager.scissorRenderTarget && i.maskManager.pushScissorMask(null, i.maskManager.scissorData), i.bindShader(a);
                                var s = this.renderer.emptyTextures[0];
                                this.renderer.boundTextures[0] = s, this.syncUniforms(a, e), i.state.setBlendMode(e.blendMode), o.activeTexture(o.TEXTURE0), o.bindTexture(o.TEXTURE_2D, t.texture.texture), this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0), o.bindTexture(o.TEXTURE_2D, s._glTextures[this.renderer.CONTEXT_UID].texture)
                            }, t.prototype.syncUniforms = function(e, t) {
                                var n = t.uniformData,
                                    r = t.uniforms,
                                    i = 1,
                                    o = void 0;
                                if (e.uniforms.filterArea) {
                                    o = this.filterData.stack[this.filterData.index];
                                    var a = e.uniforms.filterArea;
                                    a[0] = o.renderTarget.size.width, a[1] = o.renderTarget.size.height, a[2] = o.sourceFrame.x, a[3] = o.sourceFrame.y, e.uniforms.filterArea = a
                                }
                                if (e.uniforms.filterClamp) {
                                    o = o || this.filterData.stack[this.filterData.index];
                                    var s = e.uniforms.filterClamp;
                                    s[0] = 0, s[1] = 0, s[2] = (o.sourceFrame.width - 1) / o.renderTarget.size.width, s[3] = (o.sourceFrame.height - 1) / o.renderTarget.size.height, e.uniforms.filterClamp = s
                                }
                                for (var u in n)
                                    if ("sampler2D" === n[u].type && 0 !== r[u]) {
                                        if (r[u].baseTexture) e.uniforms[u] = this.renderer.bindTexture(r[u].baseTexture, i);
                                        else {
                                            e.uniforms[u] = i;
                                            var l = this.renderer.gl;
                                            this.renderer.boundTextures[i] = this.renderer.emptyTextures[i], l.activeTexture(l.TEXTURE0 + i), r[u].texture.bind()
                                        }
                                        i++
                                    } else if ("mat3" === n[u].type) void 0 !== r[u].a ? e.uniforms[u] = r[u].toArray(!0) : e.uniforms[u] = r[u];
                                else if ("vec2" === n[u].type)
                                    if (void 0 !== r[u].x) {
                                        var c = e.uniforms[u] || new Float32Array(2);
                                        c[0] = r[u].x, c[1] = r[u].y, e.uniforms[u] = c
                                    } else e.uniforms[u] = r[u];
                                else "float" === n[u].type ? e.uniforms.data[u].value !== n[u] && (e.uniforms[u] = r[u]) : e.uniforms[u] = r[u]
                            }, t.prototype.getRenderTarget = function(e, t) {
                                var n = this.filterData.stack[this.filterData.index],
                                    r = this.getPotRenderTarget(this.renderer.gl, n.sourceFrame.width, n.sourceFrame.height, t || n.resolution);
                                return r.setFrame(n.destinationFrame, n.sourceFrame), r
                            }, t.prototype.returnRenderTarget = function(e) {
                                this.freePotRenderTarget(e)
                            }, t.prototype.calculateScreenSpaceMatrix = function(e) {
                                var t = this.filterData.stack[this.filterData.index];
                                return _.calculateScreenSpaceMatrix(e, t.sourceFrame, t.renderTarget.size)
                            }, t.prototype.calculateNormalizedScreenSpaceMatrix = function(e) {
                                var t = this.filterData.stack[this.filterData.index];
                                return _.calculateNormalizedScreenSpaceMatrix(e, t.sourceFrame, t.renderTarget.size, t.destinationFrame)
                            }, t.prototype.calculateSpriteMatrix = function(e, t) {
                                var n = this.filterData.stack[this.filterData.index];
                                return _.calculateSpriteMatrix(e, n.sourceFrame, n.renderTarget.size, t)
                            }, t.prototype.destroy = function() {
                                this.shaderCache = {}, this.emptyPool()
                            }, t.prototype.getPotRenderTarget = function(e, t, n, r) {
                                t = v.default.nextPow2(t * r), n = v.default.nextPow2(n * r);
                                var i = (65535 & t) << 16 | 65535 & n;
                                this.pool[i] || (this.pool[i] = []);
                                var o = this.pool[i].pop();
                                if (!o) {
                                    var a = this.renderer.boundTextures[0];
                                    e.activeTexture(e.TEXTURE0), o = new c.default(e, t, n, null, 1), e.bindTexture(e.TEXTURE_2D, a._glTextures[this.renderer.CONTEXT_UID].texture)
                                }
                                return o.resolution = r, o.defaultFrame.width = o.size.width = t / r, o.defaultFrame.height = o.size.height = n / r, o
                            }, t.prototype.emptyPool = function() {
                                for (var e in this.pool) {
                                    var t = this.pool[e];
                                    if (t)
                                        for (var n = 0; n < t.length; n++) t[n].destroy(!0)
                                }
                                this.pool = {}
                            }, t.prototype.freePotRenderTarget = function(e) {
                                var t = e.size.width * e.resolution,
                                    n = e.size.height * e.resolution,
                                    r = (65535 & t) << 16 | 65535 & n;
                                this.pool[r].push(e)
                            }, t
                        }(u.default);
                    n.default = x
                }, {
                    "../../../Shader": 43,
                    "../../../math": 69,
                    "../filters/filterTransforms": 87,
                    "../utils/Quad": 94,
                    "../utils/RenderTarget": 95,
                    "./WebGLManager": 92,
                    "bit-twiddle": 1
                }],
                90: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("./WebGLManager"),
                        u = r(s),
                        l = e("../filters/spriteMask/SpriteMaskFilter"),
                        c = r(l),
                        h = function(e) {
                            function t(n) {
                                i(this, t);
                                var r = o(this, e.call(this, n));
                                return r.scissor = !1, r.scissorData = null, r.scissorRenderTarget = null, r.enableScissor = !0, r.alphaMaskPool = [], r.alphaMaskIndex = 0, r
                            }
                            return a(t, e), t.prototype.pushMask = function(e, t) {
                                if (t.texture) this.pushSpriteMask(e, t);
                                else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && t.isFastRect()) {
                                    var n = t.worldTransform,
                                        r = Math.atan2(n.b, n.a);
                                    r = Math.round(r * (180 / Math.PI)), r % 90 ? this.pushStencilMask(t) : this.pushScissorMask(e, t)
                                } else this.pushStencilMask(t)
                            }, t.prototype.popMask = function(e, t) {
                                t.texture ? this.popSpriteMask(e, t) : this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length ? this.popScissorMask(e, t) : this.popStencilMask(e, t)
                            }, t.prototype.pushSpriteMask = function(e, t) {
                                var n = this.alphaMaskPool[this.alphaMaskIndex];
                                n || (n = this.alphaMaskPool[this.alphaMaskIndex] = [new c.default(t)]), n[0].resolution = this.renderer.resolution, n[0].maskSprite = t, e.filterArea = t.getBounds(!0), this.renderer.filterManager.pushFilter(e, n), this.alphaMaskIndex++
                            }, t.prototype.popSpriteMask = function() {
                                this.renderer.filterManager.popFilter(), this.alphaMaskIndex--
                            }, t.prototype.pushStencilMask = function(e) {
                                this.renderer.currentRenderer.stop(), this.renderer.stencilManager.pushStencil(e)
                            }, t.prototype.popStencilMask = function() {
                                this.renderer.currentRenderer.stop(), this.renderer.stencilManager.popStencil()
                            }, t.prototype.pushScissorMask = function(e, t) {
                                t.renderable = !0;
                                var n = this.renderer._activeRenderTarget,
                                    r = t.getBounds();
                                r.fit(n.size), t.renderable = !1, this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
                                var i = this.renderer.resolution;
                                this.renderer.gl.scissor(r.x * i, (n.root ? n.size.height - r.y - r.height : r.y) * i, r.width * i, r.height * i), this.scissorRenderTarget = n, this.scissorData = t, this.scissor = !0
                            }, t.prototype.popScissorMask = function() {
                                this.scissorRenderTarget = null, this.scissorData = null, this.scissor = !1;
                                var e = this.renderer.gl;
                                e.disable(e.SCISSOR_TEST)
                            }, t
                        }(u.default);
                    n.default = h
                }, {
                    "../filters/spriteMask/SpriteMaskFilter": 88,
                    "./WebGLManager": 92
                }],
                91: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("./WebGLManager"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = function(e) {
                            function t(n) {
                                r(this, t);
                                var o = i(this, e.call(this, n));
                                return o.stencilMaskStack = null, o
                            }
                            return o(t, e), t.prototype.setMaskStack = function(e) {
                                this.stencilMaskStack = e;
                                var t = this.renderer.gl;
                                0 === e.length ? t.disable(t.STENCIL_TEST) : t.enable(t.STENCIL_TEST)
                            }, t.prototype.pushStencil = function(e) {
                                this.renderer.setObjectRenderer(this.renderer.plugins.graphics), this.renderer._activeRenderTarget.attachStencilBuffer();
                                var t = this.renderer.gl,
                                    n = this.stencilMaskStack;
                                0 === n.length && (t.enable(t.STENCIL_TEST),
                                    t.clear(t.STENCIL_BUFFER_BIT), t.stencilFunc(t.ALWAYS, 1, 1)), n.push(e), t.colorMask(!1, !1, !1, !1), t.stencilOp(t.KEEP, t.KEEP, t.INCR), this.renderer.plugins.graphics.render(e), t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.NOTEQUAL, 0, n.length), t.stencilOp(t.KEEP, t.KEEP, t.KEEP)
                            }, t.prototype.popStencil = function() {
                                this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
                                var e = this.renderer.gl,
                                    t = this.stencilMaskStack,
                                    n = t.pop();
                                0 === t.length ? e.disable(e.STENCIL_TEST) : (e.colorMask(!1, !1, !1, !1), e.stencilOp(e.KEEP, e.KEEP, e.DECR), this.renderer.plugins.graphics.render(n), e.colorMask(!0, !0, !0, !0), e.stencilFunc(e.NOTEQUAL, 0, t.length), e.stencilOp(e.KEEP, e.KEEP, e.KEEP))
                            }, t.prototype.destroy = function() {
                                s.default.prototype.destroy.call(this), this.stencilMaskStack.stencilStack = null
                            }, t
                        }(s.default);
                    n.default = u
                }, {
                    "./WebGLManager": 92
                }],
                92: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e(t) {
                            r(this, e), this.renderer = t, this.renderer.on("context", this.onContextChange, this)
                        }
                        return e.prototype.onContextChange = function() {}, e.prototype.destroy = function() {
                            this.renderer.off("context", this.onContextChange, this), this.renderer = null
                        }, e
                    }();
                    n.default = i
                }, {}],
                93: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("../managers/WebGLManager"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = function(e) {
                            function t() {
                                return r(this, t), i(this, e.apply(this, arguments))
                            }
                            return o(t, e), t.prototype.start = function() {}, t.prototype.stop = function() {
                                this.flush()
                            }, t.prototype.flush = function() {}, t.prototype.render = function(e) {}, t
                        }(s.default);
                    n.default = u
                }, {
                    "../managers/WebGLManager": 92
                }],
                94: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = e("pixi-gl-core"),
                        a = r(o),
                        s = e("../../../utils/createIndicesForQuads"),
                        u = r(s),
                        l = function() {
                            function e(t, n) {
                                i(this, e), this.gl = t, this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]), this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), this.interleaved = new Float32Array(16);
                                for (var r = 0; r < 4; r++) this.interleaved[4 * r] = this.vertices[2 * r], this.interleaved[4 * r + 1] = this.vertices[2 * r + 1], this.interleaved[4 * r + 2] = this.uvs[2 * r], this.interleaved[4 * r + 3] = this.uvs[2 * r + 1];
                                this.indices = (0, u.default)(1), this.vertexBuffer = a.default.GLBuffer.createVertexBuffer(t, this.interleaved, t.STATIC_DRAW), this.indexBuffer = a.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.vao = new a.default.VertexArrayObject(t, n)
                            }
                            return e.prototype.initVao = function(e) {
                                this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, e.attributes.aVertexPosition, this.gl.FLOAT, !1, 16, 0).addAttribute(this.vertexBuffer, e.attributes.aTextureCoord, this.gl.FLOAT, !1, 16, 8)
                            }, e.prototype.map = function(e, t) {
                                var n = 0,
                                    r = 0;
                                return this.uvs[0] = n, this.uvs[1] = r, this.uvs[2] = n + t.width / e.width, this.uvs[3] = r, this.uvs[4] = n + t.width / e.width, this.uvs[5] = r + t.height / e.height, this.uvs[6] = n, this.uvs[7] = r + t.height / e.height, n = t.x, r = t.y, this.vertices[0] = n, this.vertices[1] = r, this.vertices[2] = n + t.width, this.vertices[3] = r, this.vertices[4] = n + t.width, this.vertices[5] = r + t.height, this.vertices[6] = n, this.vertices[7] = r + t.height, this
                            }, e.prototype.upload = function() {
                                for (var e = 0; e < 4; e++) this.interleaved[4 * e] = this.vertices[2 * e], this.interleaved[4 * e + 1] = this.vertices[2 * e + 1], this.interleaved[4 * e + 2] = this.uvs[2 * e], this.interleaved[4 * e + 3] = this.uvs[2 * e + 1];
                                return this.vertexBuffer.upload(this.interleaved), this
                            }, e.prototype.destroy = function() {
                                var e = this.gl;
                                e.deleteBuffer(this.vertexBuffer), e.deleteBuffer(this.indexBuffer)
                            }, e
                        }();
                    n.default = l
                }, {
                    "../../../utils/createIndicesForQuads": 121,
                    "pixi-gl-core": 12
                }],
                95: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../../math"),
                        o = e("../../../const"),
                        a = e("../../../settings"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = e("pixi-gl-core"),
                        l = function() {
                            function e(t, n, a, l, c, h) {
                                r(this, e), this.gl = t, this.frameBuffer = null, this.texture = null, this.clearColor = [0, 0, 0, 0], this.size = new i.Rectangle(0, 0, 1, 1), this.resolution = c || s.default.RESOLUTION, this.projectionMatrix = new i.Matrix, this.transform = null, this.frame = null, this.defaultFrame = new i.Rectangle, this.destinationFrame = null, this.sourceFrame = null, this.stencilBuffer = null, this.stencilMaskStack = [], this.filterData = null, this.scaleMode = void 0 !== l ? l : s.default.SCALE_MODE, this.root = h, this.root ? (this.frameBuffer = new u.GLFramebuffer(t, 100, 100), this.frameBuffer.framebuffer = null) : (this.frameBuffer = u.GLFramebuffer.createRGBA(t, 100, 100), this.scaleMode === o.SCALE_MODES.NEAREST ? this.frameBuffer.texture.enableNearestScaling() : this.frameBuffer.texture.enableLinearScaling(), this.texture = this.frameBuffer.texture), this.setFrame(), this.resize(n, a)
                            }
                            return e.prototype.clear = function(e) {
                                var t = e || this.clearColor;
                                this.frameBuffer.clear(t[0], t[1], t[2], t[3])
                            }, e.prototype.attachStencilBuffer = function() {
                                this.root || this.frameBuffer.enableStencil()
                            }, e.prototype.setFrame = function(e, t) {
                                this.destinationFrame = e || this.destinationFrame || this.defaultFrame, this.sourceFrame = t || this.sourceFrame || this.destinationFrame
                            }, e.prototype.activate = function() {
                                var e = this.gl;
                                this.frameBuffer.bind(), this.calculateProjection(this.destinationFrame, this.sourceFrame), this.transform && this.projectionMatrix.append(this.transform), this.destinationFrame !== this.sourceFrame ? (e.enable(e.SCISSOR_TEST), e.scissor(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)) : e.disable(e.SCISSOR_TEST), e.viewport(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)
                            }, e.prototype.calculateProjection = function(e, t) {
                                var n = this.projectionMatrix;
                                t = t || e, n.identity(), this.root ? (n.a = 1 / e.width * 2, n.d = -1 / e.height * 2, n.tx = -1 - t.x * n.a, n.ty = 1 - t.y * n.d) : (n.a = 1 / e.width * 2, n.d = 1 / e.height * 2, n.tx = -1 - t.x * n.a, n.ty = -1 - t.y * n.d)
                            }, e.prototype.resize = function(e, t) {
                                if (e |= 0, t |= 0, this.size.width !== e || this.size.height !== t) {
                                    this.size.width = e, this.size.height = t, this.defaultFrame.width = e, this.defaultFrame.height = t, this.frameBuffer.resize(e * this.resolution, t * this.resolution);
                                    var n = this.frame || this.size;
                                    this.calculateProjection(n)
                                }
                            }, e.prototype.destroy = function() {
                                this.frameBuffer.destroy(), this.frameBuffer = null, this.texture = null
                            }, e
                        }();
                    n.default = l
                }, {
                    "../../../const": 45,
                    "../../../math": 69,
                    "../../../settings": 100,
                    "pixi-gl-core": 12
                }],
                96: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        var n = !t;
                        if (0 === e) throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
                        if (n) {
                            var r = document.createElement("canvas");
                            r.width = 1, r.height = 1, t = a.default.createContext(r)
                        }
                        for (var o = t.createShader(t.FRAGMENT_SHADER);;) {
                            var u = s.replace(/%forloop%/gi, i(e));
                            if (t.shaderSource(o, u), t.compileShader(o), t.getShaderParameter(o, t.COMPILE_STATUS)) break;
                            e = e / 2 | 0
                        }
                        return n && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").loseContext(), e
                    }

                    function i(e) {
                        for (var t = "", n = 0; n < e; ++n) n > 0 && (t += "\nelse "), n < e - 1 && (t += "if(test == " + n + ".0){}");
                        return t
                    }
                    n.__esModule = !0, n.default = r;
                    var o = e("pixi-gl-core"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n")
                }, {
                    "pixi-gl-core": 12
                }],
                97: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                        return t[i.BLEND_MODES.NORMAL] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.ADD] = [e.ONE, e.DST_ALPHA], t[i.BLEND_MODES.MULTIPLY] = [e.DST_COLOR, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.SCREEN] = [e.ONE, e.ONE_MINUS_SRC_COLOR], t[i.BLEND_MODES.OVERLAY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.DARKEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.LIGHTEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.COLOR_DODGE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.COLOR_BURN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.HARD_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.SOFT_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.DIFFERENCE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.EXCLUSION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.HUE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.SATURATION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.COLOR] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.LUMINOSITY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.NORMAL_NPM] = [e.SRC_ALPHA, e.ONE_MINUS_SRC_ALPHA, e.ONE, e.ONE_MINUS_SRC_ALPHA], t[i.BLEND_MODES.ADD_NPM] = [e.SRC_ALPHA, e.DST_ALPHA, e.ONE, e.DST_ALPHA], t[i.BLEND_MODES.SCREEN_NPM] = [e.SRC_ALPHA, e.ONE_MINUS_SRC_COLOR, e.ONE, e.ONE_MINUS_SRC_COLOR], t
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("../../../const")
                }, {
                    "../../../const": 45
                }],
                98: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        return t[i.DRAW_MODES.POINTS] = e.POINTS, t[i.DRAW_MODES.LINES] = e.LINES, t[i.DRAW_MODES.LINE_LOOP] = e.LINE_LOOP, t[i.DRAW_MODES.LINE_STRIP] = e.LINE_STRIP, t[i.DRAW_MODES.TRIANGLES] = e.TRIANGLES, t[i.DRAW_MODES.TRIANGLE_STRIP] = e.TRIANGLE_STRIP, t[i.DRAW_MODES.TRIANGLE_FAN] = e.TRIANGLE_FAN, t
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("../../../const")
                }, {
                    "../../../const": 45
                }],
                99: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        e.getContextAttributes().stencil
                    }
                    n.__esModule = !0, n.default = r
                }, {}],
                100: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./utils/maxRecommendedTextures"),
                        o = r(i),
                        a = e("./utils/canUploadSameBuffer"),
                        s = r(a);
                    n.default = {
                        TARGET_FPMS: .06,
                        MIPMAP_TEXTURES: !0,
                        RESOLUTION: 1,
                        FILTER_RESOLUTION: 1,
                        SPRITE_MAX_TEXTURES: (0, o.default)(32),
                        SPRITE_BATCH_SIZE: 4096,
                        RETINA_PREFIX: /@([0-9\.]+)x/,
                        RENDER_OPTIONS: {
                            view: null,
                            antialias: !1,
                            forceFXAA: !1,
                            autoResize: !1,
                            transparent: !1,
                            backgroundColor: 0,
                            clearBeforeRender: !0,
                            preserveDrawingBuffer: !1,
                            roundPixels: !1,
                            width: 800,
                            height: 600,
                            legacy: !1
                        },
                        TRANSFORM_MODE: 0,
                        GC_MODE: 0,
                        GC_MAX_IDLE: 3600,
                        GC_MAX_CHECK_COUNT: 600,
                        WRAP_MODE: 0,
                        SCALE_MODE: 0,
                        PRECISION_VERTEX: "highp",
                        PRECISION_FRAGMENT: "mediump",
                        CAN_UPLOAD_SAME_BUFFER: (0, s.default)()
                    }
                }, {
                    "./utils/canUploadSameBuffer": 120,
                    "./utils/maxRecommendedTextures": 125
                }],
                101: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../math"),
                        l = e("../utils"),
                        c = e("../const"),
                        h = e("../textures/Texture"),
                        d = r(h),
                        f = e("../display/Container"),
                        p = r(f),
                        m = new u.Point,
                        g = function(e) {
                            function t(n) {
                                i(this, t);
                                var r = o(this, e.call(this));
                                return r._anchor = new u.ObservablePoint(r._onAnchorUpdate, r), r._texture = null, r._width = 0, r._height = 0, r._tint = null, r._tintRGB = null, r.tint = 16777215, r.blendMode = c.BLEND_MODES.NORMAL, r.shader = null, r.cachedTint = 16777215, r.texture = n || d.default.EMPTY, r.vertexData = new Float32Array(8), r.vertexTrimmedData = null, r._transformID = -1, r._textureID = -1, r._transformTrimmedID = -1, r._textureTrimmedID = -1, r.pluginName = "sprite", r
                            }
                            return a(t, e), t.prototype._onTextureUpdate = function() {
                                this._textureID = -1, this._textureTrimmedID = -1, this._width && (this.scale.x = (0, l.sign)(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = (0, l.sign)(this.scale.y) * this._height / this._texture.orig.height)
                            }, t.prototype._onAnchorUpdate = function() {
                                this._transformID = -1, this._transformTrimmedID = -1
                            }, t.prototype.calculateVertices = function() {
                                if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) {
                                    this._transformID = this.transform._worldID, this._textureID = this._texture._updateID;
                                    var e = this._texture,
                                        t = this.transform.worldTransform,
                                        n = t.a,
                                        r = t.b,
                                        i = t.c,
                                        o = t.d,
                                        a = t.tx,
                                        s = t.ty,
                                        u = this.vertexData,
                                        l = e.trim,
                                        c = e.orig,
                                        h = this._anchor,
                                        d = 0,
                                        f = 0,
                                        p = 0,
                                        m = 0;
                                    l ? (f = l.x - h._x * c.width, d = f + l.width, m = l.y - h._y * c.height, p = m + l.height) : (f = -h._x * c.width, d = f + c.width, m = -h._y * c.height, p = m + c.height), u[0] = n * f + i * m + a, u[1] = o * m + r * f + s, u[2] = n * d + i * m + a, u[3] = o * m + r * d + s, u[4] = n * d + i * p + a, u[5] = o * p + r * d + s, u[6] = n * f + i * p + a, u[7] = o * p + r * f + s
                                }
                            }, t.prototype.calculateTrimmedVertices = function() {
                                if (this.vertexTrimmedData) {
                                    if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return
                                } else this.vertexTrimmedData = new Float32Array(8);
                                this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID;
                                var e = this._texture,
                                    t = this.vertexTrimmedData,
                                    n = e.orig,
                                    r = this._anchor,
                                    i = this.transform.worldTransform,
                                    o = i.a,
                                    a = i.b,
                                    s = i.c,
                                    u = i.d,
                                    l = i.tx,
                                    c = i.ty,
                                    h = -r._x * n.width,
                                    d = h + n.width,
                                    f = -r._y * n.height,
                                    p = f + n.height;
                                t[0] = o * h + s * f + l, t[1] = u * f + a * h + c, t[2] = o * d + s * f + l, t[3] = u * f + a * d + c, t[4] = o * d + s * p + l, t[5] = u * p + a * d + c, t[6] = o * h + s * p + l, t[7] = u * p + a * h + c
                            }, t.prototype._renderWebGL = function(e) {
                                this.calculateVertices(), e.setObjectRenderer(e.plugins[this.pluginName]), e.plugins[this.pluginName].render(this)
                            }, t.prototype._renderCanvas = function(e) {
                                e.plugins[this.pluginName].render(this)
                            }, t.prototype._calculateBounds = function() {
                                var e = this._texture.trim,
                                    t = this._texture.orig;
                                !e || e.width === t.width && e.height === t.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData))
                            }, t.prototype.getLocalBounds = function(t) {
                                return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._x), t || (this._localBoundsRect || (this._localBoundsRect = new u.Rectangle), t = this._localBoundsRect), this._bounds.getRectangle(t)) : e.prototype.getLocalBounds.call(this, t)
                            }, t.prototype.containsPoint = function(e) {
                                this.worldTransform.applyInverse(e, m);
                                var t = this._texture.orig.width,
                                    n = this._texture.orig.height,
                                    r = -t * this.anchor.x,
                                    i = 0;
                                return m.x >= r && m.x < r + t && (i = -n * this.anchor.y, m.y >= i && m.y < i + n)
                            }, t.prototype.destroy = function(t) {
                                if (e.prototype.destroy.call(this, t), this._anchor = null, "boolean" == typeof t ? t : t && t.texture) {
                                    var n = "boolean" == typeof t ? t : t && t.baseTexture;
                                    this._texture.destroy(!!n)
                                }
                                this._texture = null, this.shader = null
                            }, t.from = function(e) {
                                return new t(d.default.from(e))
                            }, t.fromFrame = function(e) {
                                var n = l.TextureCache[e];
                                if (!n) throw new Error('The frameId "' + e + '" does not exist in the texture cache');
                                return new t(n)
                            }, t.fromImage = function(e, n, r) {
                                return new t(d.default.fromImage(e, n, r))
                            }, s(t, [{
                                key: "width",
                                get: function() {
                                    return Math.abs(this.scale.x) * this._texture.orig.width
                                },
                                set: function(e) {
                                    var t = (0, l.sign)(this.scale.x) || 1;
                                    this.scale.x = t * e / this._texture.orig.width, this._width = e
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return Math.abs(this.scale.y) * this._texture.orig.height
                                },
                                set: function(e) {
                                    var t = (0, l.sign)(this.scale.y) || 1;
                                    this.scale.y = t * e / this._texture.orig.height, this._height = e
                                }
                            }, {
                                key: "anchor",
                                get: function() {
                                    return this._anchor
                                },
                                set: function(e) {
                                    this._anchor.copy(e)
                                }
                            }, {
                                key: "tint",
                                get: function() {
                                    return this._tint
                                },
                                set: function(e) {
                                    this._tint = e, this._tintRGB = (e >> 16) + (65280 & e) + ((255 & e) << 16)
                                }
                            }, {
                                key: "texture",
                                get: function() {
                                    return this._texture
                                },
                                set: function(e) {
                                    this._texture !== e && (this._texture = e, this.cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, e && (e.baseTexture.hasLoaded ? this._onTextureUpdate() : e.once("update", this._onTextureUpdate, this)))
                                }
                            }]), t
                        }(p.default);
                    n.default = g
                }, {
                    "../const": 45,
                    "../display/Container": 47,
                    "../math": 69,
                    "../textures/Texture": 114,
                    "../utils": 123
                }],
                102: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = e("../../renderers/canvas/CanvasRenderer"),
                        a = r(o),
                        s = e("../../const"),
                        u = e("../../math"),
                        l = e("./CanvasTinter"),
                        c = r(l),
                        h = new u.Matrix,
                        d = function() {
                            function e(t) {
                                i(this, e), this.renderer = t
                            }
                            return e.prototype.render = function(e) {
                                var t = e._texture,
                                    n = this.renderer,
                                    r = t._frame.width,
                                    i = t._frame.height,
                                    o = e.transform.worldTransform,
                                    a = 0,
                                    l = 0;
                                if (!(t.orig.width <= 0 || t.orig.height <= 0) && t.baseTexture.source && (n.setBlendMode(e.blendMode), t.valid)) {
                                    n.context.globalAlpha = e.worldAlpha;
                                    var d = t.baseTexture.scaleMode === s.SCALE_MODES.LINEAR;
                                    n.smoothProperty && n.context[n.smoothProperty] !== d && (n.context[n.smoothProperty] = d), t.trim ? (a = t.trim.width / 2 + t.trim.x - e.anchor.x * t.orig.width, l = t.trim.height / 2 + t.trim.y - e.anchor.y * t.orig.height) : (a = (.5 - e.anchor.x) * t.orig.width, l = (.5 - e.anchor.y) * t.orig.height), t.rotate && (o.copy(h), o = h, u.GroupD8.matrixAppendRotationInv(o, t.rotate, a, l), a = 0, l = 0), a -= r / 2, l -= i / 2, n.roundPixels ? (n.context.setTransform(o.a, o.b, o.c, o.d, o.tx * n.resolution | 0, o.ty * n.resolution | 0), a |= 0, l |= 0) : n.context.setTransform(o.a, o.b, o.c, o.d, o.tx * n.resolution, o.ty * n.resolution);
                                    var f = t.baseTexture.resolution;
                                    16777215 !== e.tint ? (e.cachedTint === e.tint && e.tintedTexture.tintId === e._texture._updateID || (e.cachedTint = e.tint, e.tintedTexture = c.default.getTintedTexture(e, e.tint)), n.context.drawImage(e.tintedTexture, 0, 0, r * f, i * f, a * n.resolution, l * n.resolution, r * n.resolution, i * n.resolution)) : n.context.drawImage(t.baseTexture.source, t._frame.x * f, t._frame.y * f, r * f, i * f, a * n.resolution, l * n.resolution, r * n.resolution, i * n.resolution)
                                }
                            }, e.prototype.destroy = function() {
                                this.renderer = null
                            }, e
                        }();
                    n.default = d, a.default.registerPlugin("sprite", d)
                }, {
                    "../../const": 45,
                    "../../math": 69,
                    "../../renderers/canvas/CanvasRenderer": 76,
                    "./CanvasTinter": 103
                }],
                103: [function(e, t, n) {
                    "use strict";
                    n.__esModule = !0;
                    var r = e("../../utils"),
                        i = e("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = {
                            getTintedTexture: function(e, t) {
                                var n = e._texture;
                                t = a.roundColor(t);
                                var r = "#" + ("00000" + (0 | t).toString(16)).substr(-6);
                                n.tintCache = n.tintCache || {};
                                var i = n.tintCache[r],
                                    o = void 0;
                                if (i) {
                                    if (i.tintId === n._updateID) return n.tintCache[r];
                                    o = n.tintCache[r]
                                } else o = a.canvas || document.createElement("canvas");
                                if (a.tintMethod(n, t, o), o.tintId = n._updateID, a.convertTintToImage) {
                                    var s = new Image;
                                    s.src = o.toDataURL(), n.tintCache[r] = s
                                } else n.tintCache[r] = o, a.canvas = null;
                                return o
                            },
                            tintWithMultiply: function(e, t, n) {
                                var r = n.getContext("2d"),
                                    i = e._frame.clone(),
                                    o = e.baseTexture.resolution;
                                i.x *= o, i.y *= o, i.width *= o, i.height *= o, n.width = Math.ceil(i.width), n.height = Math.ceil(i.height), r.fillStyle = "#" + ("00000" + (0 | t).toString(16)).substr(-6), r.fillRect(0, 0, i.width, i.height), r.globalCompositeOperation = "multiply", r.drawImage(e.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), r.globalCompositeOperation = "destination-atop", r.drawImage(e.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height)
                            },
                            tintWithOverlay: function(e, t, n) {
                                var r = n.getContext("2d"),
                                    i = e._frame.clone(),
                                    o = e.baseTexture.resolution;
                                i.x *= o, i.y *= o, i.width *= o, i.height *= o, n.width = Math.ceil(i.width), n.height = Math.ceil(i.height), r.globalCompositeOperation = "copy", r.fillStyle = "#" + ("00000" + (0 | t).toString(16)).substr(-6), r.fillRect(0, 0, i.width, i.height), r.globalCompositeOperation = "destination-atop", r.drawImage(e.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height)
                            },
                            tintWithPerPixel: function(e, t, n) {
                                var i = n.getContext("2d"),
                                    o = e._frame.clone(),
                                    a = e.baseTexture.resolution;
                                o.x *= a, o.y *= a, o.width *= a, o.height *= a, n.width = Math.ceil(o.width), n.height = Math.ceil(o.height), i.globalCompositeOperation = "copy", i.drawImage(e.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height);
                                for (var s = (0, r.hex2rgb)(t), u = s[0], l = s[1], c = s[2], h = i.getImageData(0, 0, o.width, o.height), d = h.data, f = 0; f < d.length; f += 4) d[f + 0] *= u, d[f + 1] *= l, d[f + 2] *= c;
                                i.putImageData(h, 0, 0)
                            },
                            roundColor: function(e) {
                                var t = a.cacheStepsPerColorChannel,
                                    n = (0, r.hex2rgb)(e);
                                return n[0] = Math.min(255, n[0] / t * t), n[1] = Math.min(255, n[1] / t * t), n[2] = Math.min(255, n[2] / t * t), (0, r.rgb2hex)(n)
                            },
                            cacheStepsPerColorChannel: 8,
                            convertTintToImage: !1,
                            canUseMultiply: (0, o.default)(),
                            tintMethod: 0
                        };
                    a.tintMethod = a.canUseMultiply ? a.tintWithMultiply : a.tintWithPerPixel, n.default = a
                }, {
                    "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 79,
                    "../../utils": 123
                }],
                104: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e(t) {
                            r(this, e), this.vertices = new ArrayBuffer(t), this.float32View = new Float32Array(this.vertices), this.uint32View = new Uint32Array(this.vertices)
                        }
                        return e.prototype.destroy = function() {
                            this.vertices = null, this.positions = null, this.uvs = null, this.colors = null
                        }, e
                    }();
                    n.default = i
                }, {}],
                105: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("../../renderers/webgl/utils/ObjectRenderer"),
                        u = r(s),
                        l = e("../../renderers/webgl/WebGLRenderer"),
                        c = r(l),
                        h = e("../../utils/createIndicesForQuads"),
                        d = r(h),
                        f = e("./generateMultiTextureShader"),
                        p = r(f),
                        m = e("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),
                        g = r(m),
                        _ = e("./BatchBuffer"),
                        y = r(_),
                        v = e("../../settings"),
                        b = r(v),
                        x = e("../../utils"),
                        T = e("pixi-gl-core"),
                        w = r(T),
                        S = e("bit-twiddle"),
                        E = r(S),
                        C = 0,
                        P = 0,
                        O = function(e) {
                            function t(n) {
                                i(this, t);
                                var r = o(this, e.call(this, n));
                                r.vertSize = 5, r.vertByteSize = 4 * r.vertSize, r.size = b.default.SPRITE_BATCH_SIZE, r.buffers = [];
                                for (var a = 1; a <= E.default.nextPow2(r.size); a *= 2) r.buffers.push(new y.default(4 * a * r.vertByteSize));
                                r.indices = (0, d.default)(r.size), r.shader = null, r.currentIndex = 0, r.groups = [];
                                for (var s = 0; s < r.size; s++) r.groups[s] = {
                                    textures: [],
                                    textureCount: 0,
                                    ids: [],
                                    size: 0,
                                    start: 0,
                                    blend: 0
                                };
                                return r.sprites = [], r.vertexBuffers = [], r.vaos = [], r.vaoMax = 2, r.vertexCount = 0, r.renderer.on("prerender", r.onPrerender, r), r
                            }
                            return a(t, e), t.prototype.onContextChange = function() {
                                var e = this.renderer.gl;
                                this.renderer.legacy ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS), b.default.SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = (0, g.default)(this.MAX_TEXTURES, e)), this.shader = (0, p.default)(e, this.MAX_TEXTURES), this.indexBuffer = w.default.GLBuffer.createIndexBuffer(e, this.indices, e.STATIC_DRAW), this.renderer.bindVao(null);
                                for (var t = this.shader.attributes, n = 0; n < this.vaoMax; n++) {
                                    var r = this.vertexBuffers[n] = w.default.GLBuffer.createVertexBuffer(e, null, e.STREAM_DRAW),
                                        i = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r, t.aVertexPosition, e.FLOAT, !1, this.vertByteSize, 0).addAttribute(r, t.aTextureCoord, e.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(r, t.aColor, e.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                                    t.aTextureId && i.addAttribute(r, t.aTextureId, e.FLOAT, !1, this.vertByteSize, 16), this.vaos[n] = i
                                }
                                this.vao = this.vaos[0], this.currentBlendMode = 99999, this.boundTextures = new Array(this.MAX_TEXTURES)
                            }, t.prototype.onPrerender = function() {
                                this.vertexCount = 0
                            }, t.prototype.render = function(e) {
                                this.currentIndex >= this.size && this.flush(), e._texture._uvs && (this.sprites[this.currentIndex++] = e)
                            }, t.prototype.flush = function() {
                                if (0 !== this.currentIndex) {
                                    var e = this.renderer.gl,
                                        t = this.MAX_TEXTURES,
                                        n = E.default.nextPow2(this.currentIndex),
                                        r = E.default.log2(n),
                                        i = this.buffers[r],
                                        o = this.sprites,
                                        a = this.groups,
                                        s = i.float32View,
                                        u = i.uint32View,
                                        l = this.boundTextures,
                                        c = this.renderer.boundTextures,
                                        h = this.renderer.textureGC.count,
                                        d = 0,
                                        f = void 0,
                                        p = void 0,
                                        m = 1,
                                        g = 0,
                                        _ = a[0],
                                        y = void 0,
                                        v = void 0,
                                        T = x.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha ? 1 : 0][o[0].blendMode];
                                    _.textureCount = 0, _.start = 0, _.blend = T, C++;
                                    var S = void 0;
                                    for (S = 0; S < t; ++S) l[S] = c[S], l[S]._virtalBoundId = S;
                                    for (S = 0; S < this.currentIndex; ++S) {
                                        var O = o[S];
                                        f = O._texture.baseTexture;
                                        var A = x.premultiplyBlendMode[Number(f.premultipliedAlpha)][O.blendMode];
                                        if (T !== A && (T = A, p = null, g = t, C++), p !== f && (p = f, f._enabled !== C)) {
                                            if (g === t && (C++, _.size = S - _.start, g = 0, _ = a[m++], _.blend = T, _.textureCount = 0, _.start = S), f.touched = h, -1 === f._virtalBoundId)
                                                for (var M = 0; M < t; ++M) {
                                                    var I = (M + P) % t,
                                                        R = l[I];
                                                    if (R._enabled !== C) {
                                                        P++, R._virtalBoundId = -1, f._virtalBoundId = I, l[I] = f;
                                                        break
                                                    }
                                                }
                                            f._enabled = C, _.textureCount++, _.ids[g] = f._virtalBoundId, _.textures[g++] = f
                                        }
                                        if (y = O.vertexData, v = O._texture._uvs.uvsUint32, this.renderer.roundPixels) {
                                            var D = this.renderer.resolution;
                                            s[d] = (y[0] * D | 0) / D, s[d + 1] = (y[1] * D | 0) / D, s[d + 5] = (y[2] * D | 0) / D, s[d + 6] = (y[3] * D | 0) / D, s[d + 10] = (y[4] * D | 0) / D, s[d + 11] = (y[5] * D | 0) / D, s[d + 15] = (y[6] * D | 0) / D, s[d + 16] = (y[7] * D | 0) / D
                                        } else s[d] = y[0], s[d + 1] = y[1], s[d + 5] = y[2], s[d + 6] = y[3], s[d + 10] = y[4], s[d + 11] = y[5], s[d + 15] = y[6], s[d + 16] = y[7];
                                        u[d + 2] = v[0], u[d + 7] = v[1], u[d + 12] = v[2], u[d + 17] = v[3];
                                        var L = Math.min(O.worldAlpha, 1),
                                            k = L < 1 && f.premultipliedAlpha ? (0, x.premultiplyTint)(O._tintRGB, L) : O._tintRGB + (255 * L << 24);
                                        u[d + 3] = u[d + 8] = u[d + 13] = u[d + 18] = k, s[d + 4] = s[d + 9] = s[d + 14] = s[d + 19] = f._virtalBoundId, d += 20
                                    }
                                    if (_.size = S - _.start, b.default.CAN_UPLOAD_SAME_BUFFER) this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !0);
                                    else {
                                        if (this.vaoMax <= this.vertexCount) {
                                            this.vaoMax++;
                                            var B = this.shader.attributes,
                                                N = this.vertexBuffers[this.vertexCount] = w.default.GLBuffer.createVertexBuffer(e, null, e.STREAM_DRAW),
                                                F = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(N, B.aVertexPosition, e.FLOAT, !1, this.vertByteSize, 0).addAttribute(N, B.aTextureCoord, e.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(N, B.aColor, e.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                                            B.aTextureId && F.addAttribute(N, B.aTextureId, e.FLOAT, !1, this.vertByteSize, 16), this.vaos[this.vertexCount] = F
                                        }
                                        this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !1), this.vertexCount++
                                    }
                                    for (S = 0; S < t; ++S) c[S]._virtalBoundId = -1;
                                    for (S = 0; S < m; ++S) {
                                        for (var j = a[S], G = j.textureCount, U = 0; U < G; U++) p = j.textures[U], c[j.ids[U]] !== p && this.renderer.bindTexture(p, j.ids[U], !0), p._virtalBoundId = -1;
                                        this.renderer.state.setBlendMode(j.blend), e.drawElements(e.TRIANGLES, 6 * j.size, e.UNSIGNED_SHORT, 6 * j.start * 2)
                                    }
                                    this.currentIndex = 0
                                }
                            }, t.prototype.start = function() {
                                this.renderer.bindShader(this.shader), b.default.CAN_UPLOAD_SAME_BUFFER && (this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].bind())
                            }, t.prototype.stop = function() {
                                this.flush()
                            }, t.prototype.destroy = function() {
                                for (var t = 0; t < this.vaoMax; t++) this.vertexBuffers[t] && this.vertexBuffers[t].destroy(), this.vaos[t] && this.vaos[t].destroy();
                                this.indexBuffer && this.indexBuffer.destroy(), this.renderer.off("prerender", this.onPrerender, this), e.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.vertexBuffers = null, this.vaos = null, this.indexBuffer = null, this.indices = null, this.sprites = null;
                                for (var n = 0; n < this.buffers.length; ++n) this.buffers[n].destroy()
                            }, t
                        }(u.default);
                    n.default = O, c.default.registerPlugin("sprite", O)
                }, {
                    "../../renderers/webgl/WebGLRenderer": 83,
                    "../../renderers/webgl/utils/ObjectRenderer": 93,
                    "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 96,
                    "../../settings": 100,
                    "../../utils": 123,
                    "../../utils/createIndicesForQuads": 121,
                    "./BatchBuffer": 104,
                    "./generateMultiTextureShader": 106,
                    "bit-twiddle": 1,
                    "pixi-gl-core": 12
                }],
                106: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        var n = s;
                        n = n.replace(/%count%/gi, t), n = n.replace(/%forloop%/gi, i(t));
                        for (var r = new a.default(e, "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n", n), o = [], u = 0; u < t; u++) o[u] = u;
                        return r.bind(), r.uniforms.uSamplers = o, r
                    }

                    function i(e) {
                        var t = "";
                        t += "\n", t += "\n";
                        for (var n = 0; n < e; n++) n > 0 && (t += "\nelse "), n < e - 1 && (t += "if(textureId == " + n + ".0)"), t += "\n{", t += "\n\tcolor = texture2D(uSamplers[" + n + "], vTextureCoord);", t += "\n}";
                        return t += "\n", t += "\n"
                    }
                    n.__esModule = !0, n.default = r;
                    var o = e("../../Shader"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = (e("path"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureId;", "uniform sampler2D uSamplers[%count%];", "void main(void){", "vec4 color;", "float textureId = floor(vTextureId+0.5);", "%forloop%", "gl_FragColor = color * vColor;", "}"].join("\n"))
                }, {
                    "../../Shader": 43,
                    path: 22
                }],
                107: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../sprites/Sprite"),
                        l = r(u),
                        c = e("../textures/Texture"),
                        h = r(c),
                        d = e("../math"),
                        f = e("../utils"),
                        p = e("../const"),
                        m = e("../settings"),
                        g = r(m),
                        _ = e("./TextStyle"),
                        y = r(_),
                        v = e("./TextMetrics"),
                        b = r(v),
                        x = e("../utils/trimCanvas"),
                        T = r(x),
                        w = {
                            texture: !0,
                            children: !1,
                            baseTexture: !0
                        },
                        S = function(e) {
                            function t(n, r, a) {
                                i(this, t), a = a || document.createElement("canvas"), a.width = 3, a.height = 3;
                                var s = h.default.fromCanvas(a, g.default.SCALE_MODE, "text");
                                s.orig = new d.Rectangle, s.trim = new d.Rectangle;
                                var u = o(this, e.call(this, s));
                                return h.default.addToCache(u._texture, u._texture.baseTexture.textureCacheIds[0]), u.canvas = a, u.context = u.canvas.getContext("2d"), u.resolution = g.default.RESOLUTION, u._text = null, u._style = null, u._styleListener = null, u._font = "", u.text = n, u.style = r, u.localStyleID = -1, u
                            }
                            return a(t, e), t.prototype.updateText = function(e) {
                                var t = this._style;
                                if (this.localStyleID !== t.styleID && (this.dirty = !0, this.localStyleID = t.styleID), this.dirty || !e) {
                                    this._font = this._style.toFontString();
                                    var n = this.context,
                                        r = b.default.measureText(this._text, this._style, this._style.wordWrap, this.canvas),
                                        i = r.width,
                                        o = r.height,
                                        a = r.lines,
                                        s = r.lineHeight,
                                        u = r.lineWidths,
                                        l = r.maxLineWidth,
                                        c = r.fontProperties;
                                    this.canvas.width = Math.ceil((i + 2 * t.padding) * this.resolution), this.canvas.height = Math.ceil((o + 2 * t.padding) * this.resolution), n.scale(this.resolution, this.resolution), n.clearRect(0, 0, this.canvas.width, this.canvas.height), n.font = this._font, n.strokeStyle = t.stroke,
                                        n.lineWidth = t.strokeThickness, n.textBaseline = t.textBaseline, n.lineJoin = t.lineJoin, n.miterLimit = t.miterLimit;
                                    var h = void 0,
                                        d = void 0;
                                    if (t.dropShadow) {
                                        n.fillStyle = t.dropShadowColor, n.globalAlpha = t.dropShadowAlpha, n.shadowBlur = t.dropShadowBlur, t.dropShadowBlur > 0 && (n.shadowColor = t.dropShadowColor);
                                        for (var f = Math.cos(t.dropShadowAngle) * t.dropShadowDistance, p = Math.sin(t.dropShadowAngle) * t.dropShadowDistance, m = 0; m < a.length; m++) h = t.strokeThickness / 2, d = t.strokeThickness / 2 + m * s + c.ascent, "right" === t.align ? h += l - u[m] : "center" === t.align && (h += (l - u[m]) / 2), t.fill && (this.drawLetterSpacing(a[m], h + f + t.padding, d + p + t.padding), t.stroke && t.strokeThickness && (n.strokeStyle = t.dropShadowColor, this.drawLetterSpacing(a[m], h + f + t.padding, d + p + t.padding, !0), n.strokeStyle = t.stroke))
                                    }
                                    n.shadowBlur = 0, n.globalAlpha = 1, n.fillStyle = this._generateFillStyle(t, a);
                                    for (var g = 0; g < a.length; g++) h = t.strokeThickness / 2, d = t.strokeThickness / 2 + g * s + c.ascent, "right" === t.align ? h += l - u[g] : "center" === t.align && (h += (l - u[g]) / 2), t.stroke && t.strokeThickness && this.drawLetterSpacing(a[g], h + t.padding, d + t.padding, !0), t.fill && this.drawLetterSpacing(a[g], h + t.padding, d + t.padding);
                                    this.updateTexture()
                                }
                            }, t.prototype.drawLetterSpacing = function(e, t, n) {
                                var r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                                    i = this._style,
                                    o = i.letterSpacing;
                                if (0 === o) return void(r ? this.context.strokeText(e, t, n) : this.context.fillText(e, t, n));
                                for (var a = String.prototype.split.call(e, ""), s = t, u = 0, l = ""; u < e.length;) l = a[u++], r ? this.context.strokeText(l, s, n) : this.context.fillText(l, s, n), s += this.context.measureText(l).width + o
                            }, t.prototype.updateTexture = function() {
                                var e = this.canvas;
                                if (this._style.trim) {
                                    var t = (0, T.default)(e);
                                    e.width = t.width, e.height = t.height, this.context.putImageData(t.data, 0, 0)
                                }
                                var n = this._texture,
                                    r = this._style,
                                    i = r.trim ? 0 : r.padding,
                                    o = n.baseTexture;
                                o.hasLoaded = !0, o.resolution = this.resolution, o.realWidth = e.width, o.realHeight = e.height, o.width = e.width / this.resolution, o.height = e.height / this.resolution, n.trim.width = n._frame.width = e.width / this.resolution, n.trim.height = n._frame.height = e.height / this.resolution, n.trim.x = -i, n.trim.y = -i, n.orig.width = n._frame.width - 2 * i, n.orig.height = n._frame.height - 2 * i, this._onTextureUpdate(), o.emit("update", o), this.dirty = !1
                            }, t.prototype.renderWebGL = function(t) {
                                this.resolution !== t.resolution && (this.resolution = t.resolution, this.dirty = !0), this.updateText(!0), e.prototype.renderWebGL.call(this, t)
                            }, t.prototype._renderCanvas = function(t) {
                                this.resolution !== t.resolution && (this.resolution = t.resolution, this.dirty = !0), this.updateText(!0), e.prototype._renderCanvas.call(this, t)
                            }, t.prototype.getLocalBounds = function(t) {
                                return this.updateText(!0), e.prototype.getLocalBounds.call(this, t)
                            }, t.prototype._calculateBounds = function() {
                                this.updateText(!0), this.calculateVertices(), this._bounds.addQuad(this.vertexData)
                            }, t.prototype._onStyleChange = function() {
                                this.dirty = !0
                            }, t.prototype._generateFillStyle = function(e, t) {
                                if (!Array.isArray(e.fill)) return e.fill;
                                if (navigator.isCocoonJS) return e.fill[0];
                                var n = void 0,
                                    r = void 0,
                                    i = void 0,
                                    o = void 0,
                                    a = this.canvas.width / this.resolution,
                                    s = this.canvas.height / this.resolution,
                                    u = e.fill.slice(),
                                    l = e.fillGradientStops.slice();
                                if (!l.length)
                                    for (var c = u.length + 1, h = 1; h < c; ++h) l.push(h / c);
                                if (u.unshift(e.fill[0]), l.unshift(0), u.push(e.fill[e.fill.length - 1]), l.push(1), e.fillGradientType === p.TEXT_GRADIENT.LINEAR_VERTICAL) {
                                    n = this.context.createLinearGradient(a / 2, 0, a / 2, s), r = (u.length + 1) * t.length, i = 0;
                                    for (var d = 0; d < t.length; d++) {
                                        i += 1;
                                        for (var f = 0; f < u.length; f++) o = "number" == typeof l[f] ? l[f] / t.length + d / t.length : i / r, n.addColorStop(o, u[f]), i++
                                    }
                                } else {
                                    n = this.context.createLinearGradient(0, s / 2, a, s / 2), r = u.length + 1, i = 1;
                                    for (var m = 0; m < u.length; m++) o = "number" == typeof l[m] ? l[m] : i / r, n.addColorStop(o, u[m]), i++
                                }
                                return n
                            }, t.prototype.destroy = function(t) {
                                "boolean" == typeof t && (t = {
                                    children: t
                                }), t = Object.assign({}, w, t), e.prototype.destroy.call(this, t), this.context = null, this.canvas = null, this._style = null
                            }, s(t, [{
                                key: "width",
                                get: function() {
                                    return this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width
                                },
                                set: function(e) {
                                    this.updateText(!0);
                                    var t = (0, f.sign)(this.scale.x) || 1;
                                    this.scale.x = t * e / this._texture.orig.width, this._width = e
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height
                                },
                                set: function(e) {
                                    this.updateText(!0);
                                    var t = (0, f.sign)(this.scale.y) || 1;
                                    this.scale.y = t * e / this._texture.orig.height, this._height = e
                                }
                            }, {
                                key: "style",
                                get: function() {
                                    return this._style
                                },
                                set: function(e) {
                                    e = e || {}, e instanceof y.default ? this._style = e : this._style = new y.default(e), this.localStyleID = -1, this.dirty = !0
                                }
                            }, {
                                key: "text",
                                get: function() {
                                    return this._text
                                },
                                set: function(e) {
                                    e = String("" === e || null === e || void 0 === e ? " " : e), this._text !== e && (this._text = e, this.dirty = !0)
                                }
                            }]), t
                        }(l.default);
                    n.default = S
                }, {
                    "../const": 45,
                    "../math": 69,
                    "../settings": 100,
                    "../sprites/Sprite": 101,
                    "../textures/Texture": 114,
                    "../utils": 123,
                    "../utils/trimCanvas": 128,
                    "./TextMetrics": 108,
                    "./TextStyle": 109
                }],
                108: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e(t, n, i, o, a, s, u, l, c) {
                            r(this, e), this.text = t, this.style = n, this.width = i, this.height = o, this.lines = a, this.lineWidths = s, this.lineHeight = u, this.maxLineWidth = l, this.fontProperties = c
                        }
                        return e.measureText = function(t, n, r) {
                            var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : e._canvas;
                            r = r || n.wordWrap;
                            var o = n.toFontString(),
                                a = e.measureFont(o),
                                s = i.getContext("2d");
                            s.font = o;
                            for (var u = r ? e.wordWrap(t, n, i) : t, l = u.split(/(?:\r\n|\r|\n)/), c = new Array(l.length), h = 0, d = 0; d < l.length; d++) {
                                var f = s.measureText(l[d]).width + (l[d].length - 1) * n.letterSpacing;
                                c[d] = f, h = Math.max(h, f)
                            }
                            var p = h + n.strokeThickness;
                            n.dropShadow && (p += n.dropShadowDistance);
                            var m = n.lineHeight || a.fontSize + n.strokeThickness,
                                g = Math.max(m, a.fontSize + n.strokeThickness) + (l.length - 1) * m;
                            return n.dropShadow && (g += n.dropShadowDistance), new e(t, n, p, g, l, c, m, h, a)
                        }, e.wordWrap = function(t, n) {
                            for (var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e._canvas, i = r.getContext("2d"), o = "", a = t.split("\n"), s = n.wordWrapWidth, u = {}, l = 0; l < a.length; l++) {
                                for (var c = s, h = a[l].split(" "), d = 0; d < h.length; d++) {
                                    var f = i.measureText(h[d]).width;
                                    if (n.breakWords && f > s)
                                        for (var p = h[d].split(""), m = 0; m < p.length; m++) {
                                            var g = p[m],
                                                _ = u[g];
                                            void 0 === _ && (_ = i.measureText(g).width, u[g] = _), _ > c ? (o += "\n" + g, c = s - _) : (0 === m && (o += " "), o += g, c -= _)
                                        } else {
                                            var y = f + i.measureText(" ").width;
                                            0 === d || y > c ? (d > 0 && (o += "\n"), o += h[d], c = s - f) : (c -= y, o += " " + h[d])
                                        }
                                }
                                l < a.length - 1 && (o += "\n")
                            }
                            return o
                        }, e.measureFont = function(t) {
                            if (e._fonts[t]) return e._fonts[t];
                            var n = {},
                                r = e._canvas,
                                i = e._context;
                            i.font = t;
                            var o = Math.ceil(i.measureText("|MÃâ°q").width),
                                a = Math.ceil(i.measureText("M").width),
                                s = 2 * a;
                            a = 1.4 * a | 0, r.width = o, r.height = s, i.fillStyle = "#f00", i.fillRect(0, 0, o, s), i.font = t, i.textBaseline = "alphabetic", i.fillStyle = "#000", i.fillText("|MÃâ°q", 0, a);
                            var u = i.getImageData(0, 0, o, s).data,
                                l = u.length,
                                c = 4 * o,
                                h = 0,
                                d = 0,
                                f = !1;
                            for (h = 0; h < a; ++h) {
                                for (var p = 0; p < c; p += 4)
                                    if (255 !== u[d + p]) {
                                        f = !0;
                                        break
                                    }
                                if (f) break;
                                d += c
                            }
                            for (n.ascent = a - h, d = l - c, f = !1, h = s; h > a; --h) {
                                for (var m = 0; m < c; m += 4)
                                    if (255 !== u[d + m]) {
                                        f = !0;
                                        break
                                    }
                                if (f) break;
                                d -= c
                            }
                            return n.descent = h - a, n.fontSize = n.ascent + n.descent, e._fonts[t] = n, n
                        }, e
                    }();
                    n.default = i;
                    var o = document.createElement("canvas");
                    o.width = o.height = 10, i._canvas = o, i._context = o.getContext("2d"), i._fonts = {}
                }, {}],
                109: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e) {
                        return "number" == typeof e ? (0, l.hex2string)(e) : ("string" == typeof e && 0 === e.indexOf("0x") && (e = e.replace("0x", "#")), e)
                    }

                    function o(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0; t < e.length; ++t) e[t] = i(e[t]);
                            return e
                        }
                        return i(e)
                    }

                    function a(e, t) {
                        if (!Array.isArray(e) || !Array.isArray(t)) return !1;
                        if (e.length !== t.length) return !1;
                        for (var n = 0; n < e.length; ++n)
                            if (e[n] !== t[n]) return !1;
                        return !0
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../const"),
                        l = e("../utils"),
                        c = {
                            align: "left",
                            breakWords: !1,
                            dropShadow: !1,
                            dropShadowAlpha: 1,
                            dropShadowAngle: Math.PI / 6,
                            dropShadowBlur: 0,
                            dropShadowColor: "black",
                            dropShadowDistance: 5,
                            fill: "black",
                            fillGradientType: u.TEXT_GRADIENT.LINEAR_VERTICAL,
                            fillGradientStops: [],
                            fontFamily: "Arial",
                            fontSize: 26,
                            fontStyle: "normal",
                            fontVariant: "normal",
                            fontWeight: "normal",
                            letterSpacing: 0,
                            lineHeight: 0,
                            lineJoin: "miter",
                            miterLimit: 10,
                            padding: 0,
                            stroke: "black",
                            strokeThickness: 0,
                            textBaseline: "alphabetic",
                            trim: !1,
                            wordWrap: !1,
                            wordWrapWidth: 100
                        },
                        h = function() {
                            function e(t) {
                                r(this, e), this.styleID = 0, Object.assign(this, c, t)
                            }
                            return e.prototype.clone = function() {
                                var t = {};
                                for (var n in c) t[n] = this[n];
                                return new e(t)
                            }, e.prototype.reset = function() {
                                Object.assign(this, c)
                            }, e.prototype.toFontString = function() {
                                var e = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize,
                                    t = this.fontFamily;
                                Array.isArray(this.fontFamily) || (t = this.fontFamily.split(","));
                                for (var n = t.length - 1; n >= 0; n--) {
                                    var r = t[n].trim();
                                    /([\"\'])[^\'\"]+\1/.test(r) || (r = '"' + r + '"'), t[n] = r
                                }
                                return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + e + " " + t.join(",")
                            }, s(e, [{
                                key: "align",
                                get: function() {
                                    return this._align
                                },
                                set: function(e) {
                                    this._align !== e && (this._align = e, this.styleID++)
                                }
                            }, {
                                key: "breakWords",
                                get: function() {
                                    return this._breakWords
                                },
                                set: function(e) {
                                    this._breakWords !== e && (this._breakWords = e, this.styleID++)
                                }
                            }, {
                                key: "dropShadow",
                                get: function() {
                                    return this._dropShadow
                                },
                                set: function(e) {
                                    this._dropShadow !== e && (this._dropShadow = e, this.styleID++)
                                }
                            }, {
                                key: "dropShadowAlpha",
                                get: function() {
                                    return this._dropShadowAlpha
                                },
                                set: function(e) {
                                    this._dropShadowAlpha !== e && (this._dropShadowAlpha = e, this.styleID++)
                                }
                            }, {
                                key: "dropShadowAngle",
                                get: function() {
                                    return this._dropShadowAngle
                                },
                                set: function(e) {
                                    this._dropShadowAngle !== e && (this._dropShadowAngle = e, this.styleID++)
                                }
                            }, {
                                key: "dropShadowBlur",
                                get: function() {
                                    return this._dropShadowBlur
                                },
                                set: function(e) {
                                    this._dropShadowBlur !== e && (this._dropShadowBlur = e, this.styleID++)
                                }
                            }, {
                                key: "dropShadowColor",
                                get: function() {
                                    return this._dropShadowColor
                                },
                                set: function(e) {
                                    var t = o(e);
                                    this._dropShadowColor !== t && (this._dropShadowColor = t, this.styleID++)
                                }
                            }, {
                                key: "dropShadowDistance",
                                get: function() {
                                    return this._dropShadowDistance
                                },
                                set: function(e) {
                                    this._dropShadowDistance !== e && (this._dropShadowDistance = e, this.styleID++)
                                }
                            }, {
                                key: "fill",
                                get: function() {
                                    return this._fill
                                },
                                set: function(e) {
                                    var t = o(e);
                                    this._fill !== t && (this._fill = t, this.styleID++)
                                }
                            }, {
                                key: "fillGradientType",
                                get: function() {
                                    return this._fillGradientType
                                },
                                set: function(e) {
                                    this._fillGradientType !== e && (this._fillGradientType = e, this.styleID++)
                                }
                            }, {
                                key: "fillGradientStops",
                                get: function() {
                                    return this._fillGradientStops
                                },
                                set: function(e) {
                                    a(this._fillGradientStops, e) || (this._fillGradientStops = e, this.styleID++)
                                }
                            }, {
                                key: "fontFamily",
                                get: function() {
                                    return this._fontFamily
                                },
                                set: function(e) {
                                    this.fontFamily !== e && (this._fontFamily = e, this.styleID++)
                                }
                            }, {
                                key: "fontSize",
                                get: function() {
                                    return this._fontSize
                                },
                                set: function(e) {
                                    this._fontSize !== e && (this._fontSize = e, this.styleID++)
                                }
                            }, {
                                key: "fontStyle",
                                get: function() {
                                    return this._fontStyle
                                },
                                set: function(e) {
                                    this._fontStyle !== e && (this._fontStyle = e, this.styleID++)
                                }
                            }, {
                                key: "fontVariant",
                                get: function() {
                                    return this._fontVariant
                                },
                                set: function(e) {
                                    this._fontVariant !== e && (this._fontVariant = e, this.styleID++)
                                }
                            }, {
                                key: "fontWeight",
                                get: function() {
                                    return this._fontWeight
                                },
                                set: function(e) {
                                    this._fontWeight !== e && (this._fontWeight = e, this.styleID++)
                                }
                            }, {
                                key: "letterSpacing",
                                get: function() {
                                    return this._letterSpacing
                                },
                                set: function(e) {
                                    this._letterSpacing !== e && (this._letterSpacing = e, this.styleID++)
                                }
                            }, {
                                key: "lineHeight",
                                get: function() {
                                    return this._lineHeight
                                },
                                set: function(e) {
                                    this._lineHeight !== e && (this._lineHeight = e, this.styleID++)
                                }
                            }, {
                                key: "lineJoin",
                                get: function() {
                                    return this._lineJoin
                                },
                                set: function(e) {
                                    this._lineJoin !== e && (this._lineJoin = e, this.styleID++)
                                }
                            }, {
                                key: "miterLimit",
                                get: function() {
                                    return this._miterLimit
                                },
                                set: function(e) {
                                    this._miterLimit !== e && (this._miterLimit = e, this.styleID++)
                                }
                            }, {
                                key: "padding",
                                get: function() {
                                    return this._padding
                                },
                                set: function(e) {
                                    this._padding !== e && (this._padding = e, this.styleID++)
                                }
                            }, {
                                key: "stroke",
                                get: function() {
                                    return this._stroke
                                },
                                set: function(e) {
                                    var t = o(e);
                                    this._stroke !== t && (this._stroke = t, this.styleID++)
                                }
                            }, {
                                key: "strokeThickness",
                                get: function() {
                                    return this._strokeThickness
                                },
                                set: function(e) {
                                    this._strokeThickness !== e && (this._strokeThickness = e, this.styleID++)
                                }
                            }, {
                                key: "textBaseline",
                                get: function() {
                                    return this._textBaseline
                                },
                                set: function(e) {
                                    this._textBaseline !== e && (this._textBaseline = e, this.styleID++)
                                }
                            }, {
                                key: "trim",
                                get: function() {
                                    return this._trim
                                },
                                set: function(e) {
                                    this._trim !== e && (this._trim = e, this.styleID++)
                                }
                            }, {
                                key: "wordWrap",
                                get: function() {
                                    return this._wordWrap
                                },
                                set: function(e) {
                                    this._wordWrap !== e && (this._wordWrap = e, this.styleID++)
                                }
                            }, {
                                key: "wordWrapWidth",
                                get: function() {
                                    return this._wordWrapWidth
                                },
                                set: function(e) {
                                    this._wordWrapWidth !== e && (this._wordWrapWidth = e, this.styleID++)
                                }
                            }]), e
                        }();
                    n.default = h
                }, {
                    "../const": 45,
                    "../utils": 123
                }],
                110: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("./BaseTexture"),
                        u = r(s),
                        l = e("../settings"),
                        c = r(l),
                        h = function(e) {
                            function t() {
                                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100,
                                    r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
                                    a = arguments[2],
                                    s = arguments[3];
                                i(this, t);
                                var u = o(this, e.call(this, null, a));
                                return u.resolution = s || c.default.RESOLUTION, u.width = n, u.height = r, u.realWidth = u.width * u.resolution, u.realHeight = u.height * u.resolution, u.scaleMode = void 0 !== a ? a : c.default.SCALE_MODE, u.hasLoaded = !0, u._glRenderTargets = {}, u._canvasRenderTarget = null, u.valid = !1, u
                            }
                            return a(t, e), t.prototype.resize = function(e, t) {
                                e === this.width && t === this.height || (this.valid = e > 0 && t > 0, this.width = e, this.height = t, this.realWidth = this.width * this.resolution, this.realHeight = this.height * this.resolution, this.valid && this.emit("update", this))
                            }, t.prototype.destroy = function() {
                                e.prototype.destroy.call(this, !0), this.renderer = null
                            }, t
                        }(u.default);
                    n.default = h
                }, {
                    "../settings": 100,
                    "./BaseTexture": 111
                }],
                111: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                            return typeof e
                        } : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        },
                        u = e("../utils"),
                        l = e("../settings"),
                        c = r(l),
                        h = e("eventemitter3"),
                        d = r(h),
                        f = e("../utils/determineCrossOrigin"),
                        p = r(f),
                        m = e("bit-twiddle"),
                        g = r(m),
                        _ = function(e) {
                            function t(n, r, a) {
                                i(this, t);
                                var s = o(this, e.call(this));
                                return s.uid = (0, u.uid)(), s.touched = 0, s.resolution = a || c.default.RESOLUTION, s.width = 100, s.height = 100, s.realWidth = 100, s.realHeight = 100, s.scaleMode = void 0 !== r ? r : c.default.SCALE_MODE, s.hasLoaded = !1, s.isLoading = !1, s.source = null, s.origSource = null, s.imageType = null, s.sourceScale = 1, s.premultipliedAlpha = !0, s.imageUrl = null, s.isPowerOfTwo = !1, s.mipmap = c.default.MIPMAP_TEXTURES, s.wrapMode = c.default.WRAP_MODE, s._glTextures = {}, s._enabled = 0, s._virtalBoundId = -1, s._destroyed = !1, s.textureCacheIds = [], n && s.loadSource(n), s
                            }
                            return a(t, e), t.prototype.update = function() {
                                "svg" !== this.imageType && (this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height, this._updateDimensions()), this.emit("update", this)
                            }, t.prototype._updateDimensions = function() {
                                this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = g.default.isPow2(this.realWidth) && g.default.isPow2(this.realHeight)
                            }, t.prototype.loadSource = function(e) {
                                var t = this,
                                    n = this.isLoading;
                                this.hasLoaded = !1, this.isLoading = !1, n && this.source && (this.source.onload = null, this.source.onerror = null);
                                var r = !this.source;
                                if (this.source = e, (e.src && e.complete || e.getContext) && e.width && e.height) this._updateImageType(), "svg" === this.imageType ? this._loadSvgSource() : this._sourceLoaded(), r && this.emit("loaded", this);
                                else if (!e.getContext) {
                                    var i = function() {
                                        t.isLoading = !0;
                                        var r = t;
                                        if (e.onload = function() {
                                                if (r._updateImageType(), e.onload = null, e.onerror = null, r.isLoading) {
                                                    if (r.isLoading = !1, r._sourceLoaded(), "svg" === r.imageType) return void r._loadSvgSource();
                                                    r.emit("loaded", r)
                                                }
                                            }, e.onerror = function() {
                                                e.onload = null, e.onerror = null, r.isLoading && (r.isLoading = !1, r.emit("error", r))
                                            }, e.complete && e.src) {
                                            if (e.onload = null, e.onerror = null, "svg" === r.imageType) return r._loadSvgSource(), {
                                                v: void 0
                                            };
                                            t.isLoading = !1, e.width && e.height ? (t._sourceLoaded(), n && t.emit("loaded", t)) : n && t.emit("error", t)
                                        }
                                    }();
                                    if ("object" === (void 0 === i ? "undefined" : s(i))) return i.v
                                }
                            }, t.prototype._updateImageType = function() {
                                if (this.imageUrl) {
                                    var e = (0, u.decomposeDataUri)(this.imageUrl),
                                        t = void 0;
                                    if (e && "image" === e.mediaType) {
                                        var n = e.subType.split("+")[0];
                                        if (!(t = (0, u.getUrlFileExtension)("." + n))) throw new Error("Invalid image type in data URI.")
                                    } else(t = (0, u.getUrlFileExtension)(this.imageUrl)) || (t = "png");
                                    this.imageType = t
                                }
                            }, t.prototype._loadSvgSource = function() {
                                if ("svg" === this.imageType) {
                                    var e = (0, u.decomposeDataUri)(this.imageUrl);
                                    e ? this._loadSvgSourceUsingDataUri(e) : this._loadSvgSourceUsingXhr()
                                }
                            }, t.prototype._loadSvgSourceUsingDataUri = function(e) {
                                var t = void 0;
                                if ("base64" === e.encoding) {
                                    if (!atob) throw new Error("Your browser doesn't support base64 conversions.");
                                    t = atob(e.data)
                                } else t = e.data;
                                this._loadSvgSourceUsingString(t)
                            }, t.prototype._loadSvgSourceUsingXhr = function() {
                                var e = this,
                                    t = new XMLHttpRequest;
                                t.onload = function() {
                                    if (t.readyState !== t.DONE || 200 !== t.status) throw new Error("Failed to load SVG using XHR.");
                                    e._loadSvgSourceUsingString(t.response)
                                }, t.onerror = function() {
                                    return e.emit("error", e)
                                }, t.open("GET", this.imageUrl, !0), t.send()
                            }, t.prototype._loadSvgSourceUsingString = function(e) {
                                var n = (0, u.getSvgSize)(e),
                                    r = n.width,
                                    i = n.height;
                                if (!r || !i) throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
                                this.realWidth = Math.round(r * this.sourceScale), this.realHeight = Math.round(i * this.sourceScale), this._updateDimensions();
                                var o = document.createElement("canvas");
                                o.width = this.realWidth, o.height = this.realHeight, o._pixiId = "canvas_" + (0, u.uid)(), o.getContext("2d").drawImage(this.source, 0, 0, r, i, 0, 0, this.realWidth, this.realHeight), this.origSource = this.source, this.source = o, t.addToCache(this, o._pixiId), this.isLoading = !1, this._sourceLoaded(), this.emit("loaded", this)
                            }, t.prototype._sourceLoaded = function() {
                                this.hasLoaded = !0, this.update()
                            }, t.prototype.destroy = function() {
                                this.imageUrl && (delete u.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = "")), this.source = null, this.dispose(), t.removeFromCache(this), this.textureCacheIds = null, this._destroyed = !0
                            }, t.prototype.dispose = function() {
                                this.emit("dispose", this)
                            }, t.prototype.updateSourceImage = function(e) {
                                this.source.src = e, this.loadSource(this.source)
                            }, t.fromImage = function(e, n, r, i) {
                                var o = u.BaseTextureCache[e];
                                if (!o) {
                                    var a = new Image;
                                    void 0 === n && 0 !== e.indexOf("data:") ? a.crossOrigin = (0, p.default)(e) : n && (a.crossOrigin = "string" == typeof n ? n : "anonymous"), o = new t(a, r), o.imageUrl = e, i && (o.sourceScale = i), o.resolution = (0, u.getResolutionOfUrl)(e), a.src = e, t.addToCache(o, e)
                                }
                                return o
                            }, t.fromCanvas = function(e, n) {
                                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
                                e._pixiId || (e._pixiId = r + "_" + (0, u.uid)());
                                var i = u.BaseTextureCache[e._pixiId];
                                return i || (i = new t(e, n), t.addToCache(i, e._pixiId)), i
                            }, t.from = function(e, n, r) {
                                if ("string" == typeof e) return t.fromImage(e, void 0, n, r);
                                if (e instanceof HTMLImageElement) {
                                    var i = e.src,
                                        o = u.BaseTextureCache[i];
                                    return o || (o = new t(e, n), o.imageUrl = i, r && (o.sourceScale = r), o.resolution = (0, u.getResolutionOfUrl)(i), t.addToCache(o, i)), o
                                }
                                return e instanceof HTMLCanvasElement ? t.fromCanvas(e, n) : e
                            }, t.addToCache = function(e, t) {
                                t && (-1 === e.textureCacheIds.indexOf(t) && e.textureCacheIds.push(t), u.BaseTextureCache[t], u.BaseTextureCache[t] = e)
                            }, t.removeFromCache = function(e) {
                                if ("string" == typeof e) {
                                    var t = u.BaseTextureCache[e];
                                    if (t) {
                                        var n = t.textureCacheIds.indexOf(e);
                                        return n > -1 && t.textureCacheIds.splice(n, 1), delete u.BaseTextureCache[e], t
                                    }
                                } else if (e && e.textureCacheIds) {
                                    for (var r = 0; r < e.textureCacheIds.length; ++r) delete u.BaseTextureCache[e.textureCacheIds[r]];
                                    return e.textureCacheIds.length = 0, e
                                }
                                return null
                            }, t
                        }(d.default);
                    n.default = _
                }, {
                    "../settings": 100,
                    "../utils": 123,
                    "../utils/determineCrossOrigin": 122,
                    "bit-twiddle": 1,
                    eventemitter3: 3
                }],
                112: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("./BaseRenderTexture"),
                        u = r(s),
                        l = e("./Texture"),
                        c = r(l),
                        h = function(e) {
                            function t(n, r) {
                                i(this, t);
                                var a = null;
                                if (!(n instanceof u.default)) {
                                    var s = arguments[1],
                                        l = arguments[2],
                                        c = arguments[3],
                                        h = arguments[4];
                                    a = arguments[0], r = null, n = new u.default(s, l, c, h)
                                }
                                var d = o(this, e.call(this, n, r));
                                return d.legacyRenderer = a, d.valid = !0, d._updateUvs(), d
                            }
                            return a(t, e), t.prototype.resize = function(e, t, n) {
                                this.valid = e > 0 && t > 0, this._frame.width = this.orig.width = e, this._frame.height = this.orig.height = t, n || this.baseTexture.resize(e, t), this._updateUvs()
                            }, t.create = function(e, n, r, i) {
                                return new t(new u.default(e, n, r, i))
                            }, t
                        }(c.default);
                    n.default = h
                }, {
                    "./BaseRenderTexture": 110,
                    "./Texture": 114
                }],
                113: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = e("../"),
                        a = e("../utils"),
                        s = function() {
                            function e(t, n) {
                                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                                r(this, e), this.baseTexture = t, this.textures = {}, this.data = n, this.resolution = this._updateResolution(i || this.baseTexture.imageUrl), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null
                            }
                            return i(e, null, [{
                                key: "BATCH_SIZE",
                                get: function() {
                                    return 1e3
                                }
                            }]), e.prototype._updateResolution = function(e) {
                                var t = this.data.meta.scale,
                                    n = (0, a.getResolutionOfUrl)(e, null);
                                return null === n && (n = void 0 !== t ? parseFloat(t) : 1), 1 !== n && (this.baseTexture.resolution = n, this.baseTexture.update()), n
                            }, e.prototype.parse = function(t) {
                                this._batchIndex = 0, this._callback = t, this._frameKeys.length <= e.BATCH_SIZE ? (this._processFrames(0), this._parseComplete()) : this._nextBatch()
                            }, e.prototype._processFrames = function(t) {
                                for (var n = t, r = e.BATCH_SIZE; n - t < r && n < this._frameKeys.length;) {
                                    var i = this._frameKeys[n],
                                        a = this._frames[i].frame;
                                    if (a) {
                                        var s = null,
                                            u = null,
                                            l = new o.Rectangle(0, 0, this._frames[i].sourceSize.w / this.resolution, this._frames[i].sourceSize.h / this.resolution);
                                        s = this._frames[i].rotated ? new o.Rectangle(a.x / this.resolution, a.y / this.resolution, a.h / this.resolution, a.w / this.resolution) : new o.Rectangle(a.x / this.resolution, a.y / this.resolution, a.w / this.resolution, a.h / this.resolution), this._frames[i].trimmed && (u = new o.Rectangle(this._frames[i].spriteSourceSize.x / this.resolution, this._frames[i].spriteSourceSize.y / this.resolution, a.w / this.resolution, a.h / this.resolution)), this.textures[i] = new o.Texture(this.baseTexture, s, l, u, this._frames[i].rotated ? 2 : 0), o.Texture.addToCache(this.textures[i], i)
                                    }
                                    n++
                                }
                            }, e.prototype._parseComplete = function() {
                                var e = this._callback;
                                this._callback = null, this._batchIndex = 0, e.call(this, this.textures)
                            }, e.prototype._nextBatch = function() {
                                var t = this;
                                this._processFrames(this._batchIndex * e.BATCH_SIZE), this._batchIndex++, setTimeout(function() {
                                    t._batchIndex * e.BATCH_SIZE < t._frameKeys.length ? t._nextBatch() : t._parseComplete()
                                }, 0)
                            }, e.prototype.destroy = function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                                for (var t in this.textures) this.textures[t].destroy();
                                this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, e && this.baseTexture.destroy(), this.baseTexture = null
                            }, e
                        }();
                    n.default = s
                }, {
                    "../": 64,
                    "../utils": 123
                }],
                114: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }

                    function s(e) {
                        e.destroy = function() {}, e.on = function() {}, e.once = function() {}, e.emit = function() {}
                    }
                    n.__esModule = !0;
                    var u = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        l = e("./BaseTexture"),
                        c = r(l),
                        h = e("./VideoBaseTexture"),
                        d = r(h),
                        f = e("./TextureUvs"),
                        p = r(f),
                        m = e("eventemitter3"),
                        g = r(m),
                        _ = e("../math"),
                        y = e("../utils"),
                        v = e("../settings"),
                        b = r(v),
                        x = function(e) {
                            function t(n, r, a, s, u) {
                                i(this, t);
                                var l = o(this, e.call(this));
                                if (l.noFrame = !1, r || (l.noFrame = !0, r = new _.Rectangle(0, 0, 1, 1)), n instanceof t && (n = n.baseTexture), l.baseTexture = n, l._frame = r, l.trim = s, l.valid = !1, l.requiresUpdate = !1, l._uvs = null, l.orig = a || r, l._rotate = Number(u || 0), !0 === u) l._rotate = 2;
                                else if (l._rotate % 2 != 0) throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
                                return n.hasLoaded ? (l.noFrame && (r = new _.Rectangle(0, 0, n.width, n.height), n.on("update", l.onBaseTextureUpdated, l)), l.frame = r) : n.once("loaded", l.onBaseTextureLoaded, l), l._updateID = 0, l.transform = null, l.textureCacheIds = [], l
                            }
                            return a(t, e), t.prototype.update = function() {
                                this.baseTexture.update()
                            }, t.prototype.onBaseTextureLoaded = function(e) {
                                this._updateID++, this.noFrame ? this.frame = new _.Rectangle(0, 0, e.width, e.height) : this.frame = this._frame, this.baseTexture.on("update", this.onBaseTextureUpdated, this), this.emit("update", this)
                            }, t.prototype.onBaseTextureUpdated = function(e) {
                                this._updateID++, this._frame.width = e.width, this._frame.height = e.height, this.emit("update", this)
                            }, t.prototype.destroy = function(e) {
                                this.baseTexture && (e && (y.TextureCache[this.baseTexture.imageUrl] && t.removeFromCache(this.baseTexture.imageUrl), this.baseTexture.destroy()), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture.off("loaded", this.onBaseTextureLoaded, this), this.baseTexture = null), this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = !1, t.removeFromCache(this), this.textureCacheIds = null
                            }, t.prototype.clone = function() {
                                return new t(this.baseTexture, this.frame, this.orig, this.trim, this.rotate)
                            }, t.prototype._updateUvs = function() {
                                this._uvs || (this._uvs = new p.default), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++
                            }, t.fromImage = function(e, n, r, i) {
                                var o = y.TextureCache[e];
                                return o || (o = new t(c.default.fromImage(e, n, r, i)), t.addToCache(o, e)), o
                            }, t.fromFrame = function(e) {
                                var t = y.TextureCache[e];
                                if (!t) throw new Error('The frameId "' + e + '" does not exist in the texture cache');
                                return t
                            }, t.fromCanvas = function(e, n) {
                                var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
                                return new t(c.default.fromCanvas(e, n, r))
                            }, t.fromVideo = function(e, n) {
                                return "string" == typeof e ? t.fromVideoUrl(e, n) : new t(d.default.fromVideo(e, n))
                            }, t.fromVideoUrl = function(e, n) {
                                return new t(d.default.fromUrl(e, n))
                            }, t.from = function(e) {
                                if ("string" == typeof e) {
                                    var n = y.TextureCache[e];
                                    if (!n) {
                                        return null !== e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) ? t.fromVideoUrl(e) : t.fromImage(e)
                                    }
                                    return n
                                }
                                return e instanceof HTMLImageElement ? new t(c.default.from(e)) : e instanceof HTMLCanvasElement ? t.fromCanvas(e, b.default.SCALE_MODE, "HTMLCanvasElement") : e instanceof HTMLVideoElement ? t.fromVideo(e) : e instanceof c.default ? new t(e) : e
                            }, t.fromLoader = function(e, n, r) {
                                var i = new c.default(e, void 0, (0, y.getResolutionOfUrl)(n)),
                                    o = new t(i);
                                return i.imageUrl = n, r || (r = n), c.default.addToCache(o.baseTexture, r), t.addToCache(o, r), r !== n && (c.default.addToCache(o.baseTexture, n), t.addToCache(o, n)), o
                            }, t.addToCache = function(e, t) {
                                t && (-1 === e.textureCacheIds.indexOf(t) && e.textureCacheIds.push(t), y.TextureCache[t], y.TextureCache[t] = e)
                            }, t.removeFromCache = function(e) {
                                if ("string" == typeof e) {
                                    var t = y.TextureCache[e];
                                    if (t) {
                                        var n = t.textureCacheIds.indexOf(e);
                                        return n > -1 && t.textureCacheIds.splice(n, 1), delete y.TextureCache[e], t
                                    }
                                } else if (e && e.textureCacheIds) {
                                    for (var r = 0; r < e.textureCacheIds.length; ++r) delete y.TextureCache[e.textureCacheIds[r]];
                                    return e.textureCacheIds.length = 0, e
                                }
                                return null
                            }, u(t, [{
                                key: "frame",
                                get: function() {
                                    return this._frame
                                },
                                set: function(e) {
                                    if (this._frame = e, this.noFrame = !1, e.x + e.width > this.baseTexture.width || e.y + e.height > this.baseTexture.height) throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: " + e.x + " + " + e.width + " > " + this.baseTexture.width + " Y: " + e.y + " + " + e.height + " > " + this.baseTexture.height);
                                    this.valid = e && e.width && e.height && this.baseTexture.hasLoaded, this.trim || this.rotate || (this.orig = e), this.valid && this._updateUvs()
                                }
                            }, {
                                key: "rotate",
                                get: function() {
                                    return this._rotate
                                },
                                set: function(e) {
                                    this._rotate = e, this.valid && this._updateUvs()
                                }
                            }, {
                                key: "width",
                                get: function() {
                                    return this.orig.width
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return this.orig.height
                                }
                            }]), t
                        }(g.default);
                    n.default = x, x.EMPTY = new x(new c.default), s(x.EMPTY), s(x.EMPTY.baseTexture), x.WHITE = function() {
                        var e = document.createElement("canvas");
                        e.width = 10, e.height = 10;
                        var t = e.getContext("2d");
                        return t.fillStyle = "white", t.fillRect(0, 0, 10, 10), new x(new c.default(e))
                    }(), s(x.WHITE), s(x.WHITE.baseTexture)
                }, {
                    "../math": 69,
                    "../settings": 100,
                    "../utils": 123,
                    "./BaseTexture": 111,
                    "./TextureUvs": 115,
                    "./VideoBaseTexture": 116,
                    eventemitter3: 3
                }],
                115: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../math/GroupD8"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = function() {
                            function e() {
                                r(this, e), this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsUint32 = new Uint32Array(4)
                            }
                            return e.prototype.set = function(e, t, n) {
                                var r = t.width,
                                    i = t.height;
                                if (n) {
                                    var a = e.width / 2 / r,
                                        s = e.height / 2 / i,
                                        u = e.x / r + a,
                                        l = e.y / i + s;
                                    n = o.default.add(n, o.default.NW), this.x0 = u + a * o.default.uX(n), this.y0 = l + s * o.default.uY(n), n = o.default.add(n, 2), this.x1 = u + a * o.default.uX(n), this.y1 = l + s * o.default.uY(n), n = o.default.add(n, 2), this.x2 = u + a * o.default.uX(n), this.y2 = l + s * o.default.uY(n),
                                        n = o.default.add(n, 2), this.x3 = u + a * o.default.uX(n), this.y3 = l + s * o.default.uY(n)
                                } else this.x0 = e.x / r, this.y0 = e.y / i, this.x1 = (e.x + e.width) / r, this.y1 = e.y / i, this.x2 = (e.x + e.width) / r, this.y2 = (e.y + e.height) / i, this.x3 = e.x / r, this.y3 = (e.y + e.height) / i;
                                this.uvsUint32[0] = (65535 * this.y0 & 65535) << 16 | 65535 * this.x0 & 65535, this.uvsUint32[1] = (65535 * this.y1 & 65535) << 16 | 65535 * this.x1 & 65535, this.uvsUint32[2] = (65535 * this.y2 & 65535) << 16 | 65535 * this.x2 & 65535, this.uvsUint32[3] = (65535 * this.y3 & 65535) << 16 | 65535 * this.x3 & 65535
                            }, e
                        }();
                    n.default = a
                }, {
                    "../math/GroupD8": 65
                }],
                116: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }

                    function a(e, t) {
                        t || (t = "video/" + e.substr(e.lastIndexOf(".") + 1));
                        var n = document.createElement("source");
                        return n.src = e, n.type = t, n
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("./BaseTexture"),
                        l = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(u),
                        c = e("../utils"),
                        h = e("../ticker"),
                        d = e("../const"),
                        f = function(e) {
                            function t(n, o) {
                                if (r(this, t), !n) throw new Error("No video source element specified.");
                                (n.readyState === n.HAVE_ENOUGH_DATA || n.readyState === n.HAVE_FUTURE_DATA) && n.width && n.height && (n.complete = !0);
                                var a = i(this, e.call(this, n, o));
                                return a.width = n.videoWidth, a.height = n.videoHeight, a._autoUpdate = !0, a._isAutoUpdating = !1, a.autoPlay = !0, a.update = a.update.bind(a), a._onCanPlay = a._onCanPlay.bind(a), n.addEventListener("play", a._onPlayStart.bind(a)), n.addEventListener("pause", a._onPlayStop.bind(a)), a.hasLoaded = !1, a.__loaded = !1, a._isSourceReady() ? a._onCanPlay() : (n.addEventListener("canplay", a._onCanPlay), n.addEventListener("canplaythrough", a._onCanPlay)), a
                            }
                            return o(t, e), t.prototype._isSourcePlaying = function() {
                                var e = this.source;
                                return e.currentTime > 0 && !1 === e.paused && !1 === e.ended && e.readyState > 2
                            }, t.prototype._isSourceReady = function() {
                                return 3 === this.source.readyState || 4 === this.source.readyState
                            }, t.prototype._onPlayStart = function() {
                                this.hasLoaded || this._onCanPlay(), !this._isAutoUpdating && this.autoUpdate && (h.shared.add(this.update, this, d.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0)
                            }, t.prototype._onPlayStop = function() {
                                this._isAutoUpdating && (h.shared.remove(this.update, this), this._isAutoUpdating = !1)
                            }, t.prototype._onCanPlay = function() {
                                this.hasLoaded = !0, this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.__loaded || (this.__loaded = !0, this.emit("loaded", this)), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.source.play())
                            }, t.prototype.destroy = function() {
                                this._isAutoUpdating && h.shared.remove(this.update, this), this.source && this.source._pixiId && (l.default.removeFromCache(this.source._pixiId), delete this.source._pixiId), e.prototype.destroy.call(this)
                            }, t.fromVideo = function(e, n) {
                                e._pixiId || (e._pixiId = "video_" + (0, c.uid)());
                                var r = c.BaseTextureCache[e._pixiId];
                                return r || (r = new t(e, n), l.default.addToCache(r, e._pixiId)), r
                            }, t.fromUrl = function(e, n) {
                                var r = document.createElement("video");
                                if (r.setAttribute("webkit-playsinline", ""), r.setAttribute("playsinline", ""), Array.isArray(e))
                                    for (var i = 0; i < e.length; ++i) r.appendChild(a(e[i].src || e[i], e[i].mime));
                                else r.appendChild(a(e.src || e, e.mime));
                                return r.load(), t.fromVideo(r, n)
                            }, s(t, [{
                                key: "autoUpdate",
                                get: function() {
                                    return this._autoUpdate
                                },
                                set: function(e) {
                                    e !== this._autoUpdate && (this._autoUpdate = e, !this._autoUpdate && this._isAutoUpdating ? (h.shared.remove(this.update, this), this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (h.shared.add(this.update, this, d.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0))
                                }
                            }]), t
                        }(l.default);
                    n.default = f, f.fromUrls = f.fromUrl
                }, {
                    "../const": 45,
                    "../ticker": 119,
                    "../utils": 123,
                    "./BaseTexture": 111
                }],
                117: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        a = e("../settings"),
                        s = r(a),
                        u = e("../const"),
                        l = e("./TickerListener"),
                        c = r(l),
                        h = function() {
                            function e() {
                                var t = this;
                                i(this, e), this._head = new c.default(null, null, 1 / 0), this._requestId = null, this._maxElapsedMS = 100, this.autoStart = !1, this.deltaTime = 1, this.elapsedMS = 1 / s.default.TARGET_FPMS, this.lastTime = 0, this.speed = 1, this.started = !1, this._tick = function(e) {
                                    t._requestId = null, t.started && (t.update(e), t.started && null === t._requestId && t._head.next && (t._requestId = requestAnimationFrame(t._tick)))
                                }
                            }
                            return e.prototype._requestIfNeeded = function() {
                                null === this._requestId && this._head.next && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick))
                            }, e.prototype._cancelIfNeeded = function() {
                                null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null)
                            }, e.prototype._startIfPossible = function() {
                                this.started ? this._requestIfNeeded() : this.autoStart && this.start()
                            }, e.prototype.add = function(e, t) {
                                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u.UPDATE_PRIORITY.NORMAL;
                                return this._addListener(new c.default(e, t, n))
                            }, e.prototype.addOnce = function(e, t) {
                                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : u.UPDATE_PRIORITY.NORMAL;
                                return this._addListener(new c.default(e, t, n, !0))
                            }, e.prototype._addListener = function(e) {
                                var t = this._head.next,
                                    n = this._head;
                                if (t) {
                                    for (; t;) {
                                        if (e.priority > t.priority) {
                                            e.connect(n);
                                            break
                                        }
                                        n = t, t = t.next
                                    }
                                    e.previous || e.connect(n)
                                } else e.connect(n);
                                return this._startIfPossible(), this
                            }, e.prototype.remove = function(e, t) {
                                for (var n = this._head.next; n;) n = n.match(e, t) ? n.destroy() : n.next;
                                return this._head.next || this._cancelIfNeeded(), this
                            }, e.prototype.start = function() {
                                this.started || (this.started = !0, this._requestIfNeeded())
                            }, e.prototype.stop = function() {
                                this.started && (this.started = !1, this._cancelIfNeeded())
                            }, e.prototype.destroy = function() {
                                this.stop();
                                for (var e = this._head.next; e;) e = e.destroy(!0);
                                this._head.destroy(), this._head = null
                            }, e.prototype.update = function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : performance.now(),
                                    t = void 0;
                                if (e > this.lastTime) {
                                    t = this.elapsedMS = e - this.lastTime, t > this._maxElapsedMS && (t = this._maxElapsedMS), this.deltaTime = t * s.default.TARGET_FPMS * this.speed;
                                    for (var n = this._head, r = n.next; r;) r = r.emit(this.deltaTime);
                                    n.next || this._cancelIfNeeded()
                                } else this.deltaTime = this.elapsedMS = 0;
                                this.lastTime = e
                            }, o(e, [{
                                key: "FPS",
                                get: function() {
                                    return 1e3 / this.elapsedMS
                                }
                            }, {
                                key: "minFPS",
                                get: function() {
                                    return 1e3 / this._maxElapsedMS
                                },
                                set: function(e) {
                                    var t = Math.min(Math.max(0, e) / 1e3, s.default.TARGET_FPMS);
                                    this._maxElapsedMS = 1 / t
                                }
                            }]), e
                        }();
                    n.default = h
                }, {
                    "../const": 45,
                    "../settings": 100,
                    "./TickerListener": 118
                }],
                118: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e(t) {
                            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                                i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                            r(this, e), this.fn = t, this.context = n, this.priority = i, this.once = o, this.next = null, this.previous = null, this._destroyed = !1
                        }
                        return e.prototype.match = function(e, t) {
                            return t = t || null, this.fn === e && this.context === t
                        }, e.prototype.emit = function(e) {
                            this.fn && (this.context ? this.fn.call(this.context, e) : this.fn(e));
                            var t = this.next;
                            return this.once && this.destroy(!0), this._destroyed && (this.next = null), t
                        }, e.prototype.connect = function(e) {
                            this.previous = e, e.next && (e.next.previous = this), this.next = e.next, e.next = this
                        }, e.prototype.destroy = function() {
                            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                            this._destroyed = !0, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous);
                            var t = this.previous;
                            return this.next = e ? null : t, this.previous = null, t
                        }, e
                    }();
                    n.default = i
                }, {}],
                119: [function(e, t, n) {
                    "use strict";
                    n.__esModule = !0, n.Ticker = n.shared = void 0;
                    var r = e("./Ticker"),
                        i = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(r),
                        o = new i.default;
                    o.autoStart = !0, o.destroy = function() {}, n.shared = o, n.Ticker = i.default
                }, {
                    "./Ticker": 117
                }],
                120: [function(e, t, n) {
                    "use strict";

                    function r() {
                        return !(!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform))
                    }
                    n.__esModule = !0, n.default = r
                }, {}],
                121: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        for (var t = 6 * e, n = new Uint16Array(t), r = 0, i = 0; r < t; r += 6, i += 4) n[r + 0] = i + 0, n[r + 1] = i + 1, n[r + 2] = i + 2, n[r + 3] = i + 0, n[r + 4] = i + 2, n[r + 5] = i + 3;
                        return n
                    }
                    n.__esModule = !0, n.default = r
                }, {}],
                122: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location;
                        if (0 === e.indexOf("data:")) return "";
                        t = t || window.location, a || (a = document.createElement("a")), a.href = e, e = o.default.parse(a.href);
                        var n = !e.port && "" === t.port || e.port === t.port;
                        return e.hostname === t.hostname && n && e.protocol === t.protocol ? "" : "anonymous"
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("url"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i),
                        a = void 0
                }, {
                    url: 28
                }],
                123: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        if (e && e.__esModule) return e;
                        var t = {};
                        if (null != e)
                            for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                        return t.default = e, t
                    }

                    function i(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function o() {
                        return ++F
                    }

                    function a(e, t) {
                        return t = t || [], t[0] = (e >> 16 & 255) / 255, t[1] = (e >> 8 & 255) / 255, t[2] = (255 & e) / 255, t
                    }

                    function s(e) {
                        return e = e.toString(16), "#" + (e = "000000".substr(0, 6 - e.length) + e)
                    }

                    function u(e) {
                        return (255 * e[0] << 16) + (255 * e[1] << 8) + (255 * e[2] | 0)
                    }

                    function l(e, t) {
                        var n = E.default.RETINA_PREFIX.exec(e);
                        return n ? parseFloat(n[1]) : void 0 !== t ? t : 1
                    }

                    function c(e) {
                        var t = w.DATA_URI.exec(e);
                        if (t) return {
                            mediaType: t[1] ? t[1].toLowerCase() : void 0,
                            subType: t[2] ? t[2].toLowerCase() : void 0,
                            encoding: t[3] ? t[3].toLowerCase() : void 0,
                            data: t[4]
                        }
                    }

                    function h(e) {
                        var t = w.URL_FILE_EXTENSION.exec(e);
                        if (t) return t[1].toLowerCase()
                    }

                    function d(e) {
                        var t = w.SVG_SIZE.exec(e),
                            n = {};
                        return t && (n[t[1]] = Math.round(parseFloat(t[3])), n[t[5]] = Math.round(parseFloat(t[7]))), n
                    }

                    function f() {
                        j = !0
                    }

                    function p(e) {
                        if (!j) {
                            if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
                                var t = ["\n %c %c %c Pixi.js " + w.VERSION + " - â° " + e + " â°  %c  %c  http://www.pixijs.com/  %c %c â¥%câ¥%câ¥ \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                                window.console.log.apply(console, t)
                            } else window.console && window.console.log("Pixi.js " + w.VERSION + " - " + e + " - http://www.pixijs.com/");
                            j = !0
                        }
                    }

                    function m() {
                        var e = {
                            stencil: !0,
                            failIfMajorPerformanceCaveat: !0
                        };
                        try {
                            if (!window.WebGLRenderingContext) return !1;
                            var t = document.createElement("canvas"),
                                n = t.getContext("webgl", e) || t.getContext("experimental-webgl", e),
                                r = !(!n || !n.getContextAttributes().stencil);
                            if (n) {
                                var i = n.getExtension("WEBGL_lose_context");
                                i && i.loseContext()
                            }
                            return n = null, r
                        } catch (e) {
                            return !1
                        }
                    }

                    function g(e) {
                        return 0 === e ? 0 : e < 0 ? -1 : 1
                    }

                    function _() {
                        var e = void 0;
                        for (e in G) G[e].destroy();
                        for (e in U) U[e].destroy()
                    }

                    function y() {
                        var e = void 0;
                        for (e in G) delete G[e];
                        for (e in U) delete U[e]
                    }

                    function v(e, t) {
                        return X[t ? 1 : 0][e]
                    }

                    function b(e, t) {
                        if (1 === t) return (255 * t << 24) + e;
                        if (0 === t) return 0;
                        var n = e >> 16 & 255,
                            r = e >> 8 & 255,
                            i = 255 & e;
                        return n = n * t + .5 | 0, r = r * t + .5 | 0, i = i * t + .5 | 0, (255 * t << 24) + (n << 16) + (r << 8) + i
                    }

                    function x(e, t, n, r) {
                        return n = n || new Float32Array(4), r || void 0 === r ? (n[0] = e[0] * t, n[1] = e[1] * t, n[2] = e[2] * t) : (n[0] = e[0], n[1] = e[1], n[2] = e[2]), n[3] = t, n
                    }

                    function T(e, t, n, r) {
                        return n = n || new Float32Array(4), n[0] = (e >> 16 & 255) / 255, n[1] = (e >> 8 & 255) / 255, n[2] = (255 & e) / 255, (r || void 0 === r) && (n[0] *= t, n[1] *= t, n[2] *= t), n[3] = t, n
                    }
                    n.__esModule = !0, n.premultiplyBlendMode = n.BaseTextureCache = n.TextureCache = n.mixins = n.pluginTarget = n.EventEmitter = n.removeItems = n.isMobile = void 0, n.uid = o, n.hex2rgb = a, n.hex2string = s, n.rgb2hex = u, n.getResolutionOfUrl = l, n.decomposeDataUri = c, n.getUrlFileExtension = h, n.getSvgSize = d, n.skipHello = f, n.sayHello = p, n.isWebGLSupported = m, n.sign = g, n.destroyTextureCache = _, n.clearTextureCache = y, n.correctBlendMode = v, n.premultiplyTint = b, n.premultiplyRgba = x, n.premultiplyTintToRgba = T;
                    var w = e("../const"),
                        S = e("../settings"),
                        E = i(S),
                        C = e("eventemitter3"),
                        P = i(C),
                        O = e("./pluginTarget"),
                        A = i(O),
                        M = e("./mixin"),
                        I = r(M),
                        R = e("ismobilejs"),
                        D = r(R),
                        L = e("remove-array-items"),
                        k = i(L),
                        B = e("./mapPremultipliedBlendModes"),
                        N = i(B),
                        F = 0,
                        j = !1;
                    n.isMobile = D, n.removeItems = k.default, n.EventEmitter = P.default, n.pluginTarget = A.default, n.mixins = I;
                    var G = n.TextureCache = Object.create(null),
                        U = n.BaseTextureCache = Object.create(null),
                        X = n.premultiplyBlendMode = (0, N.default)()
                }, {
                    "../const": 45,
                    "../settings": 100,
                    "./mapPremultipliedBlendModes": 124,
                    "./mixin": 126,
                    "./pluginTarget": 127,
                    eventemitter3: 3,
                    ismobilejs: 4,
                    "remove-array-items": 30
                }],
                124: [function(e, t, n) {
                    "use strict";

                    function r() {
                        for (var e = [], t = [], n = 0; n < 32; n++) e[n] = n, t[n] = n;
                        e[i.BLEND_MODES.NORMAL_NPM] = i.BLEND_MODES.NORMAL, e[i.BLEND_MODES.ADD_NPM] = i.BLEND_MODES.ADD, e[i.BLEND_MODES.SCREEN_NPM] = i.BLEND_MODES.SCREEN, t[i.BLEND_MODES.NORMAL] = i.BLEND_MODES.NORMAL_NPM, t[i.BLEND_MODES.ADD] = i.BLEND_MODES.ADD_NPM, t[i.BLEND_MODES.SCREEN] = i.BLEND_MODES.SCREEN_NPM;
                        var r = [];
                        return r.push(t), r.push(e), r
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("../const")
                }, {
                    "../const": 45
                }],
                125: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return o.default.tablet || o.default.phone ? 4 : e
                    }
                    n.__esModule = !0, n.default = r;
                    var i = e("ismobilejs"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i)
                }, {
                    ismobilejs: 4
                }],
                126: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (e && t)
                            for (var n = Object.keys(t), r = 0; r < n.length; ++r) {
                                var i = n[r];
                                Object.defineProperty(e, i, Object.getOwnPropertyDescriptor(t, i))
                            }
                    }

                    function i(e, t) {
                        a.push(e, t)
                    }

                    function o() {
                        for (var e = 0; e < a.length; e += 2) r(a[e], a[e + 1]);
                        a.length = 0
                    }
                    n.__esModule = !0, n.mixin = r, n.delayMixin = i, n.performMixins = o;
                    var a = []
                }, {}],
                127: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        e.__plugins = {}, e.registerPlugin = function(t, n) {
                            e.__plugins[t] = n
                        }, e.prototype.initPlugins = function() {
                            this.plugins = this.plugins || {};
                            for (var t in e.__plugins) this.plugins[t] = new e.__plugins[t](this)
                        }, e.prototype.destroyPlugins = function() {
                            for (var e in this.plugins) this.plugins[e].destroy(), this.plugins[e] = null;
                            this.plugins = null
                        }
                    }
                    n.__esModule = !0, n.default = {
                        mixin: function(e) {
                            r(e)
                        }
                    }
                }, {}],
                128: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        var t = e.width,
                            n = e.height,
                            r = e.getContext("2d"),
                            i = r.getImageData(0, 0, t, n),
                            o = i.data,
                            a = o.length,
                            s = {
                                top: null,
                                left: null,
                                right: null,
                                bottom: null
                            },
                            u = void 0,
                            l = void 0,
                            c = void 0;
                        for (u = 0; u < a; u += 4) 0 !== o[u + 3] && (l = u / 4 % t, c = ~~(u / 4 / t), null === s.top && (s.top = c), null === s.left ? s.left = l : l < s.left && (s.left = l), null === s.right ? s.right = l + 1 : s.right < l && (s.right = l + 1), null === s.bottom ? s.bottom = c : s.bottom < c && (s.bottom = c));
                        return t = s.right - s.left, n = s.bottom - s.top + 1, {
                            height: n,
                            width: t,
                            data: r.getImageData(s.left, s.top, t, n)
                        }
                    }
                    n.__esModule = !0, n.default = r
                }, {}],
                129: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        var t = (new Error).stack;
                        void 0 === t || (t = t.split("\n").splice(3).join("\n"), console.groupCollapsed)
                    }

                    function i(e) {
                        var t = e.mesh,
                            n = e.particles,
                            i = e.extras,
                            o = e.filters,
                            a = e.prepare,
                            s = e.loaders,
                            u = e.interaction;
                        Object.defineProperties(e, {
                            SpriteBatch: {
                                get: function() {
                                    throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")
                                }
                            },
                            AssetLoader: {
                                get: function() {
                                    throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")
                                }
                            },
                            Stage: {
                                get: function() {
                                    return r("You do not need to use a PIXI Stage any more, you can simply render any container."), e.Container
                                }
                            },
                            DisplayObjectContainer: {
                                get: function() {
                                    return r("DisplayObjectContainer has been shortened to Container, please use Container from now on."), e.Container
                                }
                            },
                            Strip: {
                                get: function() {
                                    return r("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."), t.Mesh
                                }
                            },
                            Rope: {
                                get: function() {
                                    return r("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."), t.Rope
                                }
                            },
                            ParticleContainer: {
                                get: function() {
                                    return r("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."), n.ParticleContainer
                                }
                            },
                            MovieClip: {
                                get: function() {
                                    return r("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."), i.AnimatedSprite
                                }
                            },
                            TilingSprite: {
                                get: function() {
                                    return r("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."), i.TilingSprite
                                }
                            },
                            BitmapText: {
                                get: function() {
                                    return r("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."), i.BitmapText
                                }
                            },
                            blendModes: {
                                get: function() {
                                    return r("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."), e.BLEND_MODES
                                }
                            },
                            scaleModes: {
                                get: function() {
                                    return r("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."), e.SCALE_MODES
                                }
                            },
                            BaseTextureCache: {
                                get: function() {
                                    return r("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."), e.utils.BaseTextureCache
                                }
                            },
                            TextureCache: {
                                get: function() {
                                    return r("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."), e.utils.TextureCache
                                }
                            },
                            math: {
                                get: function() {
                                    return r("The math namespace is deprecated, please access members already accessible on PIXI."), e
                                }
                            },
                            AbstractFilter: {
                                get: function() {
                                    return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"), e.Filter
                                }
                            },
                            TransformManual: {
                                get: function() {
                                    return r("TransformManual has been renamed to TransformBase, please update your pixi-spine"), e.TransformBase
                                }
                            },
                            TARGET_FPMS: {
                                get: function() {
                                    return r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), e.settings.TARGET_FPMS
                                },
                                set: function(t) {
                                    r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), e.settings.TARGET_FPMS = t
                                }
                            },
                            FILTER_RESOLUTION: {
                                get: function() {
                                    return r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), e.settings.FILTER_RESOLUTION
                                },
                                set: function(t) {
                                    r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), e.settings.FILTER_RESOLUTION = t
                                }
                            },
                            RESOLUTION: {
                                get: function() {
                                    return r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), e.settings.RESOLUTION
                                },
                                set: function(t) {
                                    r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), e.settings.RESOLUTION = t
                                }
                            },
                            MIPMAP_TEXTURES: {
                                get: function() {
                                    return r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), e.settings.MIPMAP_TEXTURES
                                },
                                set: function(t) {
                                    r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), e.settings.MIPMAP_TEXTURES = t
                                }
                            },
                            SPRITE_BATCH_SIZE: {
                                get: function() {
                                    return r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), e.settings.SPRITE_BATCH_SIZE
                                },
                                set: function(t) {
                                    r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), e.settings.SPRITE_BATCH_SIZE = t
                                }
                            },
                            SPRITE_MAX_TEXTURES: {
                                get: function() {
                                    return r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), e.settings.SPRITE_MAX_TEXTURES
                                },
                                set: function(t) {
                                    r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), e.settings.SPRITE_MAX_TEXTURES = t
                                }
                            },
                            RETINA_PREFIX: {
                                get: function() {
                                    return r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), e.settings.RETINA_PREFIX
                                },
                                set: function(t) {
                                    r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), e.settings.RETINA_PREFIX = t
                                }
                            },
                            DEFAULT_RENDER_OPTIONS: {
                                get: function() {
                                    return r("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"), e.settings.RENDER_OPTIONS
                                }
                            }
                        });
                        for (var l = [{
                                parent: "TRANSFORM_MODE",
                                target: "TRANSFORM_MODE"
                            }, {
                                parent: "GC_MODES",
                                target: "GC_MODE"
                            }, {
                                parent: "WRAP_MODES",
                                target: "WRAP_MODE"
                            }, {
                                parent: "SCALE_MODES",
                                target: "SCALE_MODE"
                            }, {
                                parent: "PRECISION",
                                target: "PRECISION_FRAGMENT"
                            }], c = 0; c < l.length; c++) ! function(t) {
                            var n = l[t];
                            Object.defineProperty(e[n.parent], "DEFAULT", {
                                get: function() {
                                    return r("PIXI." + n.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + n.target), e.settings[n.target]
                                },
                                set: function(t) {
                                    r("PIXI." + n.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + n.target), e.settings[n.target] = t
                                }
                            })
                        }(c);
                        Object.defineProperties(e.settings, {
                            PRECISION: {
                                get: function() {
                                    return r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), e.settings.PRECISION_FRAGMENT
                                },
                                set: function(t) {
                                    r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), e.settings.PRECISION_FRAGMENT = t
                                }
                            }
                        }), i.AnimatedSprite && Object.defineProperties(i, {
                            MovieClip: {
                                get: function() {
                                    return r("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."), i.AnimatedSprite
                                }
                            }
                        }), e.DisplayObject.prototype.generateTexture = function(e, t, n) {
                            return r("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"), e.generateTexture(this, t, n)
                        }, e.Graphics.prototype.generateTexture = function(e, t) {
                            return r("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"), this.generateCanvasTexture(e, t)
                        }, e.RenderTexture.prototype.render = function(e, t, n, i) {
                            this.legacyRenderer.render(e, this, n, t, !i), r("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")
                        }, e.RenderTexture.prototype.getImage = function(e) {
                            return r("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"), this.legacyRenderer.extract.image(e)
                        }, e.RenderTexture.prototype.getBase64 = function(e) {
                            return r("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"), this.legacyRenderer.extract.base64(e)
                        }, e.RenderTexture.prototype.getCanvas = function(e) {
                            return r("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"), this.legacyRenderer.extract.canvas(e)
                        }, e.RenderTexture.prototype.getPixels = function(e) {
                            return r("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"), this.legacyRenderer.pixels(e)
                        }, e.Sprite.prototype.setTexture = function(e) {
                            this.texture = e, r("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")
                        }, i.BitmapText && (i.BitmapText.prototype.setText = function(e) {
                            this.text = e, r("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")
                        }), e.Text.prototype.setText = function(e) {
                            this.text = e, r("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")
                        }, e.Text.calculateFontProperties = function(t) {
                            return r("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"), e.TextMetrics.measureFont(t)
                        }, Object.defineProperties(e.Text, {
                            fontPropertiesCache: {
                                get: function() {
                                    return r("Text.fontPropertiesCache is deprecated"), e.TextMetrics._fonts
                                }
                            },
                            fontPropertiesCanvas: {
                                get: function() {
                                    return r("Text.fontPropertiesCanvas is deprecated"), e.TextMetrics._canvas
                                }
                            },
                            fontPropertiesContext: {
                                get: function() {
                                    return r("Text.fontPropertiesContext is deprecated"), e.TextMetrics._context
                                }
                            }
                        }), e.Text.prototype.setStyle = function(e) {
                            this.style = e, r("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")
                        }, e.Text.prototype.determineFontProperties = function(t) {
                            return r("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"), e.TextMetrics.measureFont(t)
                        }, e.Text.getFontStyle = function(t) {
                            return r("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"), t = t || {}, t instanceof e.TextStyle || (t = new e.TextStyle(t)), t.toFontString()
                        }, Object.defineProperties(e.TextStyle.prototype, {
                            font: {
                                get: function() {
                                    r("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");
                                    var e = "number" == typeof this._fontSize ? this._fontSize + "px" : this._fontSize;
                                    return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + e + " " + this._fontFamily
                                },
                                set: function(e) {
                                    r("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"), e.indexOf("italic") > 1 ? this._fontStyle = "italic" : e.indexOf("oblique") > -1 ? this._fontStyle = "oblique" : this._fontStyle = "normal", e.indexOf("small-caps") > -1 ? this._fontVariant = "small-caps" : this._fontVariant = "normal";
                                    var t = e.split(" "),
                                        n = -1;
                                    this._fontSize = 26;
                                    for (var i = 0; i < t.length; ++i)
                                        if (t[i].match(/(px|pt|em|%)/)) {
                                            n = i, this._fontSize = t[i];
                                            break
                                        }
                                    this._fontWeight = "normal";
                                    for (var o = 0; o < n; ++o)
                                        if (t[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) {
                                            this._fontWeight = t[o];
                                            break
                                        }
                                    if (n > -1 && n < t.length - 1) {
                                        this._fontFamily = "";
                                        for (var a = n + 1; a < t.length; ++a) this._fontFamily += t[a] + " ";
                                        this._fontFamily = this._fontFamily.slice(0, -1)
                                    } else this._fontFamily = "Arial";
                                    this.styleID++
                                }
                            }
                        }), e.Texture.prototype.setFrame = function(e) {
                            this.frame = e, r("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")
                        }, e.Texture.addTextureToCache = function(t, n) {
                            e.Texture.addToCache(t, n), r("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")
                        }, e.Texture.removeTextureFromCache = function(t) {
                            return r("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"), e.BaseTexture.removeFromCache(t), e.Texture.removeFromCache(t)
                        }, Object.defineProperties(o, {
                            AbstractFilter: {
                                get: function() {
                                    return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"), e.AbstractFilter
                                }
                            },
                            SpriteMaskFilter: {
                                get: function() {
                                    return r("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."), e.SpriteMaskFilter
                                }
                            }
                        }), e.utils.uuid = function() {
                            return r("utils.uuid() is deprecated, please use utils.uid() from now on."), e.utils.uid()
                        }, e.utils.canUseNewCanvasBlendModes = function() {
                            return r("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"), e.CanvasTinter.canUseMultiply
                        };
                        var h = !0;
                        Object.defineProperty(e.utils, "_saidHello", {
                            set: function(e) {
                                e && (r("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"), this.skipHello()), h = e
                            },
                            get: function() {
                                return h
                            }
                        }), a.BasePrepare && (a.BasePrepare.prototype.register = function(e, t) {
                            return r("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"), e && this.registerFindHook(e), t && this.registerUploadHook(t), this
                        }), a.canvas && Object.defineProperty(a.canvas, "UPLOADS_PER_FRAME", {
                            set: function() {
                                r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                            },
                            get: function() {
                                return r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN
                            }
                        }), a.webgl && Object.defineProperty(a.webgl, "UPLOADS_PER_FRAME", {
                            set: function() {
                                r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                            },
                            get: function() {
                                return r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN
                            }
                        }), s.Loader && function() {
                            var e = s.Resource,
                                t = s.Loader;
                            Object.defineProperties(e.prototype, {
                                isJson: {
                                    get: function() {
                                        return r("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."), this.type === e.TYPE.JSON
                                    }
                                },
                                isXml: {
                                    get: function() {
                                        return r("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."), this.type === e.TYPE.XML
                                    }
                                },
                                isImage: {
                                    get: function() {
                                        return r("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."), this.type === e.TYPE.IMAGE
                                    }
                                },
                                isAudio: {
                                    get: function() {
                                        return r("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."), this.type === e.TYPE.AUDIO
                                    }
                                },
                                isVideo: {
                                    get: function() {
                                        return r("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."), this.type === e.TYPE.VIDEO
                                    }
                                }
                            }), Object.defineProperties(t.prototype, {
                                before: {
                                    get: function() {
                                        return r("The before() method is deprecated, please use pre()."), this.pre
                                    }
                                },
                                after: {
                                    get: function() {
                                        return r("The after() method is deprecated, please use use()."), this.use
                                    }
                                }
                            })
                        }(), u.interactiveTarget && Object.defineProperty(u.interactiveTarget, "defaultCursor", {
                            set: function(e) {
                                r("Property defaultCursor has been replaced with 'cursor'. "), this.cursor = e
                            },
                            get: function() {
                                return r("Property defaultCursor has been replaced with 'cursor'. "), this.cursor
                            }
                        }), u.InteractionManager && (Object.defineProperty(u.InteractionManager, "defaultCursorStyle", {
                            set: function(e) {
                                r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles.default = e
                            },
                            get: function() {
                                return r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles.default
                            }
                        }), Object.defineProperty(u.InteractionManager, "currentCursorStyle", {
                            set: function(e) {
                                r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode = e
                            },
                            get: function() {
                                return r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode
                            }
                        }))
                    }
                    n.__esModule = !0, n.default = i
                }, {}],
                130: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../core"),
                        o = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(i),
                        a = new o.Rectangle,
                        s = function() {
                            function e(t) {
                                r(this, e), this.renderer = t, t.extract = this
                            }
                            return e.prototype.image = function(e) {
                                var t = new Image;
                                return t.src = this.base64(e), t
                            }, e.prototype.base64 = function(e) {
                                return this.canvas(e).toDataURL()
                            }, e.prototype.canvas = function(e) {
                                var t = this.renderer,
                                    n = void 0,
                                    r = void 0,
                                    i = void 0,
                                    s = void 0;
                                e && (s = e instanceof o.RenderTexture ? e : t.generateTexture(e)), s ? (n = s.baseTexture._canvasRenderTarget.context, r = s.baseTexture._canvasRenderTarget.resolution, i = s.frame) : (n = t.rootContext, i = a, i.width = this.renderer.width, i.height = this.renderer.height);
                                var u = i.width * r,
                                    l = i.height * r,
                                    c = new o.CanvasRenderTarget(u, l),
                                    h = n.getImageData(i.x * r, i.y * r, u, l);
                                return c.context.putImageData(h, 0, 0), c.canvas
                            }, e.prototype.pixels = function(e) {
                                var t = this.renderer,
                                    n = void 0,
                                    r = void 0,
                                    i = void 0,
                                    s = void 0;
                                return e && (s = e instanceof o.RenderTexture ? e : t.generateTexture(e)), s ? (n = s.baseTexture._canvasRenderTarget.context, r = s.baseTexture._canvasRenderTarget.resolution, i = s.frame) : (n = t.rootContext, i = a, i.width = t.width, i.height = t.height), n.getImageData(0, 0, i.width * r, i.height * r).data
                            }, e.prototype.destroy = function() {
                                this.renderer.extract = null, this.renderer = null
                            }, e
                        }();
                    n.default = s, o.CanvasRenderer.registerPlugin("extract", s)
                }, {
                    "../../core": 64
                }],
                131: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./webgl/WebGLExtract");
                    Object.defineProperty(n, "webgl", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./canvas/CanvasExtract");
                    Object.defineProperty(n, "canvas", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    })
                }, {
                    "./canvas/CanvasExtract": 130,
                    "./webgl/WebGLExtract": 132
                }],
                132: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../core"),
                        o = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(i),
                        a = new o.Rectangle,
                        s = function() {
                            function e(t) {
                                r(this, e), this.renderer = t, t.extract = this
                            }
                            return e.prototype.image = function(e) {
                                var t = new Image;
                                return t.src = this.base64(e), t
                            }, e.prototype.base64 = function(e) {
                                return this.canvas(e).toDataURL()
                            }, e.prototype.canvas = function(e) {
                                var t = this.renderer,
                                    n = void 0,
                                    r = void 0,
                                    i = void 0,
                                    s = !1,
                                    u = void 0;
                                e && (u = e instanceof o.RenderTexture ? e : this.renderer.generateTexture(e)), u ? (n = u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], r = n.resolution, i = u.frame, s = !1) : (n = this.renderer.rootRenderTarget, r = n.resolution, s = !0, i = a, i.width = n.size.width, i.height = n.size.height);
                                var l = i.width * r,
                                    c = i.height * r,
                                    h = new o.CanvasRenderTarget(l, c);
                                if (n) {
                                    t.bindRenderTarget(n);
                                    var d = new Uint8Array(4 * l * c),
                                        f = t.gl;
                                    f.readPixels(i.x * r, i.y * r, l, c, f.RGBA, f.UNSIGNED_BYTE, d);
                                    var p = h.context.getImageData(0, 0, l, c);
                                    p.data.set(d), h.context.putImageData(p, 0, 0), s && (h.context.scale(1, -1), h.context.drawImage(h.canvas, 0, -c))
                                }
                                return h.canvas
                            }, e.prototype.pixels = function(e) {
                                var t = this.renderer,
                                    n = void 0,
                                    r = void 0,
                                    i = void 0,
                                    s = void 0;
                                e && (s = e instanceof o.RenderTexture ? e : this.renderer.generateTexture(e)), s ? (n = s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], r = n.resolution, i = s.frame) : (n = this.renderer.rootRenderTarget, r = n.resolution, i = a, i.width = n.size.width, i.height = n.size.height);
                                var u = i.width * r,
                                    l = i.height * r,
                                    c = new Uint8Array(4 * u * l);
                                if (n) {
                                    t.bindRenderTarget(n);
                                    var h = t.gl;
                                    h.readPixels(i.x * r, i.y * r, u, l, h.RGBA, h.UNSIGNED_BYTE, c)
                                }
                                return c
                            }, e.prototype.destroy = function() {
                                this.renderer.extract = null, this.renderer = null
                            }, e
                        }();
                    n.default = s, o.WebGLRenderer.registerPlugin("extract", s)
                }, {
                    "../../core": 64
                }],
                133: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = function(e) {
                            function t(n, o) {
                                r(this, t);
                                var a = i(this, e.call(this, n[0] instanceof u.Texture ? n[0] : n[0].texture));
                                return a._textures = null, a._durations = null, a.textures = n, a._autoUpdate = !1 !== o, a.animationSpeed = 1, a.loop = !0, a.onComplete = null, a.onFrameChange = null, a.onLoop = null, a._currentTime = 0, a.playing = !1, a
                            }
                            return o(t, e), t.prototype.stop = function() {
                                this.playing && (this.playing = !1, this._autoUpdate && u.ticker.shared.remove(this.update, this))
                            }, t.prototype.play = function() {
                                this.playing || (this.playing = !0, this._autoUpdate && u.ticker.shared.add(this.update, this, u.UPDATE_PRIORITY.HIGH))
                            }, t.prototype.gotoAndStop = function(e) {
                                this.stop();
                                var t = this.currentFrame;
                                this._currentTime = e, t !== this.currentFrame && this.updateTexture()
                            }, t.prototype.gotoAndPlay = function(e) {
                                var t = this.currentFrame;
                                this._currentTime = e, t !== this.currentFrame && this.updateTexture(), this.play()
                            }, t.prototype.update = function(e) {
                                var t = this.animationSpeed * e,
                                    n = this.currentFrame;
                                if (null !== this._durations) {
                                    var r = this._currentTime % 1 * this._durations[this.currentFrame];
                                    for (r += t / 60 * 1e3; r < 0;) this._currentTime--, r += this._durations[this.currentFrame];
                                    var i = Math.sign(this.animationSpeed * e);
                                    for (this._currentTime = Math.floor(this._currentTime); r >= this._durations[this.currentFrame];) r -= this._durations[this.currentFrame] * i, this._currentTime += i;
                                    this._currentTime += r / this._durations[this.currentFrame]
                                } else this._currentTime += t;
                                this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : n !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < n ? this.onLoop() : this.animationSpeed < 0 && this.currentFrame > n && this.onLoop()), this.updateTexture())
                            }, t.prototype.updateTexture = function() {
                                this._texture = this._textures[this.currentFrame], this._textureID = -1, this.onFrameChange && this.onFrameChange(this.currentFrame)
                            }, t.prototype.destroy = function(t) {
                                this.stop(), e.prototype.destroy.call(this, t)
                            }, t.fromFrames = function(e) {
                                for (var n = [], r = 0; r < e.length; ++r) n.push(u.Texture.fromFrame(e[r]));
                                return new t(n)
                            }, t.fromImages = function(e) {
                                for (var n = [], r = 0; r < e.length; ++r) n.push(u.Texture.fromImage(e[r]));
                                return new t(n)
                            }, a(t, [{
                                key: "totalFrames",
                                get: function() {
                                    return this._textures.length
                                }
                            }, {
                                key: "textures",
                                get: function() {
                                    return this._textures
                                },
                                set: function(e) {
                                    if (e[0] instanceof u.Texture) this._textures = e, this._durations = null;
                                    else {
                                        this._textures = [], this._durations = [];
                                        for (var t = 0; t < e.length; t++) this._textures.push(e[t].texture), this._durations.push(e[t].time)
                                    }
                                    this.gotoAndStop(0), this.updateTexture()
                                }
                            }, {
                                key: "currentFrame",
                                get: function() {
                                    var e = Math.floor(this._currentTime) % this._textures.length;
                                    return e < 0 && (e += this._textures.length), e
                                }
                            }]), t
                        }(u.Sprite);
                    n.default = l
                }, {
                    "../core": 64
                }],
                134: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../core"),
                        l = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(u),
                        c = e("../core/math/ObservablePoint"),
                        h = r(c),
                        d = e("../core/settings"),
                        f = r(d),
                        p = function(e) {
                            function t(n) {
                                var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                i(this, t);
                                var a = o(this, e.call(this));
                                return a._textWidth = 0, a._textHeight = 0, a._glyphs = [], a._font = {
                                    tint: void 0 !== r.tint ? r.tint : 16777215,
                                    align: r.align || "left",
                                    name: null,
                                    size: 0
                                }, a.font = r.font, a._text = n, a._maxWidth = 0, a._maxLineHeight = 0, a._anchor = new h.default(function() {
                                    a.dirty = !0
                                }, a, 0, 0), a.dirty = !1, a.updateText(), a
                            }
                            return a(t, e), t.prototype.updateText = function() {
                                for (var e = t.fonts[this._font.name], n = this._font.size / e.size, r = new l.Point, i = [], o = [], a = null, s = 0, u = 0, c = 0, h = -1, d = 0, f = 0, p = 0, m = 0; m < this.text.length; m++) {
                                    var g = this.text.charCodeAt(m);
                                    if (/(\s)/.test(this.text.charAt(m)) && (h = m, d = s), /(?:\r\n|\r|\n)/.test(this.text.charAt(m))) o.push(s), u = Math.max(u, s), c++, r.x = 0, r.y += e.lineHeight, a = null;
                                    else if (-1 !== h && this._maxWidth > 0 && r.x * n > this._maxWidth) l.utils.removeItems(i, h - f, m - h), m = h, h = -1, ++f, o.push(d), u = Math.max(u, d), c++, r.x = 0, r.y += e.lineHeight, a = null;
                                    else {
                                        var _ = e.chars[g];
                                        _ && (a && _.kerning[a] && (r.x += _.kerning[a]), i.push({
                                            texture: _.texture,
                                            line: c,
                                            charCode: g,
                                            position: new l.Point(r.x + _.xOffset, r.y + _.yOffset)
                                        }), s = r.x + (_.texture.width + _.xOffset), r.x += _.xAdvance, p = Math.max(p, _.yOffset + _.texture.height), a = g)
                                    }
                                }
                                o.push(s), u = Math.max(u, s);
                                for (var y = [], v = 0; v <= c; v++) {
                                    var b = 0;
                                    "right" === this._font.align ? b = u - o[v] : "center" === this._font.align && (b = (u - o[v]) / 2), y.push(b)
                                }
                                for (var x = i.length, T = this.tint, w = 0; w < x; w++) {
                                    var S = this._glyphs[w];
                                    S ? S.texture = i[w].texture : (S = new l.Sprite(i[w].texture), this._glyphs.push(S)), S.position.x = (i[w].position.x + y[i[w].line]) * n, S.position.y = i[w].position.y * n, S.scale.x = S.scale.y = n, S.tint = T, S.parent || this.addChild(S)
                                }
                                for (var E = x; E < this._glyphs.length; ++E) this.removeChild(this._glyphs[E]);
                                if (this._textWidth = u * n, this._textHeight = (r.y + e.lineHeight) * n, 0 !== this.anchor.x || 0 !== this.anchor.y)
                                    for (var C = 0; C < x; C++) this._glyphs[C].x -= this._textWidth * this.anchor.x, this._glyphs[C].y -= this._textHeight * this.anchor.y;
                                this._maxLineHeight = p * n
                            }, t.prototype.updateTransform = function() {
                                this.validate(), this.containerUpdateTransform()
                            }, t.prototype.getLocalBounds = function() {
                                return this.validate(), e.prototype.getLocalBounds.call(this)
                            }, t.prototype.validate = function() {
                                this.dirty && (this.updateText(), this.dirty = !1)
                            }, t.registerFont = function(e, n) {
                                var r = {},
                                    i = e.getElementsByTagName("info")[0],
                                    o = e.getElementsByTagName("common")[0],
                                    a = n.baseTexture.resolution || f.default.RESOLUTION;
                                r.font = i.getAttribute("face"), r.size = parseInt(i.getAttribute("size"), 10), r.lineHeight = parseInt(o.getAttribute("lineHeight"), 10) / a, r.chars = {};
                                for (var s = e.getElementsByTagName("char"), u = 0; u < s.length; u++) {
                                    var c = s[u],
                                        h = parseInt(c.getAttribute("id"), 10),
                                        d = new l.Rectangle(parseInt(c.getAttribute("x"), 10) / a + n.frame.x / a, parseInt(c.getAttribute("y"), 10) / a + n.frame.y / a, parseInt(c.getAttribute("width"), 10) / a, parseInt(c.getAttribute("height"), 10) / a);
                                    r.chars[h] = {
                                        xOffset: parseInt(c.getAttribute("xoffset"), 10) / a,
                                        yOffset: parseInt(c.getAttribute("yoffset"), 10) / a,
                                        xAdvance: parseInt(c.getAttribute("xadvance"), 10) / a,
                                        kerning: {},
                                        texture: new l.Texture(n.baseTexture, d)
                                    }
                                }
                                for (var p = e.getElementsByTagName("kerning"), m = 0; m < p.length; m++) {
                                    var g = p[m],
                                        _ = parseInt(g.getAttribute("first"), 10) / a,
                                        y = parseInt(g.getAttribute("second"), 10) / a,
                                        v = parseInt(g.getAttribute("amount"), 10) / a;
                                    r.chars[y] && (r.chars[y].kerning[_] = v)
                                }
                                return t.fonts[r.font] = r, r
                            }, s(t, [{
                                key: "tint",
                                get: function() {
                                    return this._font.tint
                                },
                                set: function(e) {
                                    this._font.tint = "number" == typeof e && e >= 0 ? e : 16777215, this.dirty = !0
                                }
                            }, {
                                key: "align",
                                get: function() {
                                    return this._font.align
                                },
                                set: function(e) {
                                    this._font.align = e || "left", this.dirty = !0
                                }
                            }, {
                                key: "anchor",
                                get: function() {
                                    return this._anchor
                                },
                                set: function(e) {
                                    "number" == typeof e ? this._anchor.set(e) : this._anchor.copy(e)
                                }
                            }, {
                                key: "font",
                                get: function() {
                                    return this._font
                                },
                                set: function(e) {
                                    e && ("string" == typeof e ? (e = e.split(" "), this._font.name = 1 === e.length ? e[0] : e.slice(1).join(" "), this._font.size = e.length >= 2 ? parseInt(e[0], 10) : t.fonts[this._font.name].size) : (this._font.name = e.name, this._font.size = "number" == typeof e.size ? e.size : parseInt(e.size, 10)), this.dirty = !0)
                                }
                            }, {
                                key: "text",
                                get: function() {
                                    return this._text
                                },
                                set: function(e) {
                                    e = e.toString() || " ", this._text !== e && (this._text = e, this.dirty = !0)
                                }
                            }, {
                                key: "maxWidth",
                                get: function() {
                                    return this._maxWidth
                                },
                                set: function(e) {
                                    this._maxWidth !== e && (this._maxWidth = e, this.dirty = !0)
                                }
                            }, {
                                key: "maxLineHeight",
                                get: function() {
                                    return this.validate(), this._maxLineHeight
                                }
                            }, {
                                key: "textWidth",
                                get: function() {
                                    return this.validate(), this._textWidth
                                }
                            }, {
                                key: "textHeight",
                                get: function() {
                                    return this.validate(), this._textHeight
                                }
                            }]), t
                        }(l.Container);
                    n.default = p, p.fonts = {}
                }, {
                    "../core": 64,
                    "../core/math/ObservablePoint": 67,
                    "../core/settings": 100
                }],
                135: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = e("../core/math/Matrix"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = new a.default,
                        u = function() {
                            function e(t, n) {
                                r(this, e), this._texture = t, this.mapCoord = new a.default, this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._lastTextureID = -1, this.clampOffset = 0, this.clampMargin = void 0 === n ? .5 : n
                            }
                            return e.prototype.multiplyUvs = function(e, t) {
                                void 0 === t && (t = e);
                                for (var n = this.mapCoord, r = 0; r < e.length; r += 2) {
                                    var i = e[r],
                                        o = e[r + 1];
                                    t[r] = i * n.a + o * n.c + n.tx, t[r + 1] = i * n.b + o * n.d + n.ty
                                }
                                return t
                            }, e.prototype.update = function(e) {
                                var t = this._texture;
                                if (!t || !t.valid) return !1;
                                if (!e && this._lastTextureID === t._updateID) return !1;
                                this._lastTextureID = t._updateID;
                                var n = t._uvs;
                                this.mapCoord.set(n.x1 - n.x0, n.y1 - n.y0, n.x3 - n.x0, n.y3 - n.y0, n.x0, n.y0);
                                var r = t.orig,
                                    i = t.trim;
                                i && (s.set(r.width / i.width, 0, 0, r.height / i.height, -i.x / i.width, -i.y / i.height), this.mapCoord.append(s));
                                var o = t.baseTexture,
                                    a = this.uClampFrame,
                                    u = this.clampMargin / o.resolution,
                                    l = this.clampOffset;
                                return a[0] = (t._frame.x + u + l) / o.width, a[1] = (t._frame.y + u + l) / o.height, a[2] = (t._frame.x + t._frame.width - u + l) / o.width, a[3] = (t._frame.y + t._frame.height - u + l) / o.height, this.uClampOffset[0] = l / o.realWidth, this.uClampOffset[1] = l / o.realHeight, !0
                            }, i(e, [{
                                key: "texture",
                                get: function() {
                                    return this._texture
                                },
                                set: function(e) {
                                    this._texture = e, this._lastTextureID = -1
                                }
                            }]), e
                        }();
                    n.default = u
                }, {
                    "../core/math/Matrix": 66
                }],
                136: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../core"),
                        l = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(u),
                        c = e("../core/sprites/canvas/CanvasTinter"),
                        h = r(c),
                        d = e("./TextureTransform"),
                        f = r(d),
                        p = new l.Point,
                        m = function(e) {
                            function t(n) {
                                var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
                                    a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;
                                i(this, t);
                                var s = o(this, e.call(this, n));
                                return s.tileTransform = new l.TransformStatic, s._width = r, s._height = a, s._canvasPattern = null, s.uvTransform = n.transform || new f.default(n), s.pluginName = "tilingSprite", s.uvRespectAnchor = !1, s
                            }
                            return a(t, e), t.prototype._onTextureUpdate = function() {
                                this.uvTransform && (this.uvTransform.texture = this._texture)
                            }, t.prototype._renderWebGL = function(e) {
                                var t = this._texture;
                                t && t.valid && (this.tileTransform.updateLocalTransform(), this.uvTransform.update(), e.setObjectRenderer(e.plugins[this.pluginName]), e.plugins[this.pluginName].render(this))
                            }, t.prototype._renderCanvas = function(e) {
                                var t = this._texture;
                                if (t.baseTexture.hasLoaded) {
                                    var n = e.context,
                                        r = this.worldTransform,
                                        i = e.resolution,
                                        o = t.baseTexture,
                                        a = o.resolution,
                                        s = this.tilePosition.x / this.tileScale.x % t._frame.width * a,
                                        u = this.tilePosition.y / this.tileScale.y % t._frame.height * a;
                                    if (!this._canvasPattern) {
                                        var c = new l.CanvasRenderTarget(t._frame.width, t._frame.height, a);
                                        16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint, this.tintedTexture = h.default.getTintedTexture(this, this.tint)), c.context.drawImage(this.tintedTexture, 0, 0)) : c.context.drawImage(o.source, -t._frame.x * a, -t._frame.y * a), this._canvasPattern = c.context.createPattern(c.canvas, "repeat")
                                    }
                                    n.globalAlpha = this.worldAlpha, n.setTransform(r.a * i, r.b * i, r.c * i, r.d * i, r.tx * i, r.ty * i), e.setBlendMode(this.blendMode), n.fillStyle = this._canvasPattern, n.scale(this.tileScale.x / a, this.tileScale.y / a);
                                    var d = this.anchor.x * -this._width,
                                        f = this.anchor.y * -this._height;
                                    this.uvRespectAnchor ? (n.translate(s, u), n.fillRect(-s + d, -u + f, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a)) : (n.translate(s + d, u + f), n.fillRect(-s, -u, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a))
                                }
                            }, t.prototype._calculateBounds = function() {
                                var e = this._width * -this._anchor._x,
                                    t = this._height * -this._anchor._y,
                                    n = this._width * (1 - this._anchor._x),
                                    r = this._height * (1 - this._anchor._y);
                                this._bounds.addFrame(this.transform, e, t, n, r)
                            }, t.prototype.getLocalBounds = function(t) {
                                return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._x), t || (this._localBoundsRect || (this._localBoundsRect = new l.Rectangle), t = this._localBoundsRect), this._bounds.getRectangle(t)) : e.prototype.getLocalBounds.call(this, t)
                            }, t.prototype.containsPoint = function(e) {
                                this.worldTransform.applyInverse(e, p);
                                var t = this._width,
                                    n = this._height,
                                    r = -t * this.anchor._x;
                                if (p.x >= r && p.x < r + t) {
                                    var i = -n * this.anchor._y;
                                    if (p.y >= i && p.y < i + n) return !0
                                }
                                return !1
                            }, t.prototype.destroy = function(t) {
                                e.prototype.destroy.call(this, t), this.tileTransform = null, this.uvTransform = null
                            }, t.from = function(e, n, r) {
                                return new t(l.Texture.from(e), n, r)
                            }, t.fromFrame = function(e, n, r) {
                                var i = l.utils.TextureCache[e];
                                if (!i) throw new Error('The frameId "' + e + '" does not exist in the texture cache ' + this);
                                return new t(i, n, r)
                            }, t.fromImage = function(e, n, r, i, o) {
                                return new t(l.Texture.fromImage(e, i, o), n, r)
                            }, s(t, [{
                                key: "clampMargin",
                                get: function() {
                                    return this.uvTransform.clampMargin
                                },
                                set: function(e) {
                                    this.uvTransform.clampMargin = e, this.uvTransform.update(!0)
                                }
                            }, {
                                key: "tileScale",
                                get: function() {
                                    return this.tileTransform.scale
                                },
                                set: function(e) {
                                    this.tileTransform.scale.copy(e)
                                }
                            }, {
                                key: "tilePosition",
                                get: function() {
                                    return this.tileTransform.position
                                },
                                set: function(e) {
                                    this.tileTransform.position.copy(e)
                                }
                            }, {
                                key: "width",
                                get: function() {
                                    return this._width
                                },
                                set: function(e) {
                                    this._width = e
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return this._height
                                },
                                set: function(e) {
                                    this._height = e
                                }
                            }]), t
                        }(l.Sprite);
                    n.default = m
                }, {
                    "../core": 64,
                    "../core/sprites/canvas/CanvasTinter": 103,
                    "./TextureTransform": 135
                }],
                137: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    var o = e("../core"),
                        a = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(o),
                        s = e("../core/textures/Texture"),
                        u = r(s),
                        l = e("../core/textures/BaseTexture"),
                        c = r(l),
                        h = e("../core/utils"),
                        d = a.DisplayObject,
                        f = new a.Matrix;
                    d.prototype._cacheAsBitmap = !1, d.prototype._cacheData = !1;
                    var p = function e() {
                        i(this, e), this.textureCacheId = null, this.originalRenderWebGL = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalHitTest = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.sprite = null
                    };
                    Object.defineProperties(d.prototype, {
                        cacheAsBitmap: {
                            get: function() {
                                return this._cacheAsBitmap
                            },
                            set: function(e) {
                                if (this._cacheAsBitmap !== e) {
                                    this._cacheAsBitmap = e;
                                    var t = void 0;
                                    e ? (this._cacheData || (this._cacheData = new p), t = this._cacheData, t.originalRenderWebGL = this.renderWebGL, t.originalRenderCanvas = this.renderCanvas, t.originalUpdateTransform = this.updateTransform, t.originalCalculateBounds = this._calculateBounds, t.originalGetLocalBounds = this.getLocalBounds, t.originalDestroy = this.destroy, t.originalContainsPoint = this.containsPoint, t.originalMask = this._mask, t.originalFilterArea = this.filterArea, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (t = this._cacheData, t.sprite && this._destroyCachedDisplayObject(), this.renderWebGL = t.originalRenderWebGL, this.renderCanvas = t.originalRenderCanvas, this._calculateBounds = t.originalCalculateBounds, this.getLocalBounds = t.originalGetLocalBounds, this.destroy = t.originalDestroy, this.updateTransform = t.originalUpdateTransform, this.containsPoint = t.originalContainsPoint, this._mask = t.originalMask, this.filterArea = t.originalFilterArea)
                                }
                            }
                        }
                    }), d.prototype._renderCachedWebGL = function(e) {
                        !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(e), this._cacheData.sprite._transformID = -1, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderWebGL(e))
                    }, d.prototype._initCachedDisplayObject = function(e) {
                        if (!this._cacheData || !this._cacheData.sprite) {
                            var t = this.alpha;
                            this.alpha = 1, e.currentRenderer.flush();
                            var n = this.getLocalBounds().clone();
                            if (this._filters) {
                                var r = this._filters[0].padding;
                                n.pad(r)
                            }
                            var i = e._activeRenderTarget,
                                o = e.filterManager.filterStack,
                                s = a.RenderTexture.create(0 | n.width, 0 | n.height),
                                l = "cacheAsBitmap_" + (0, h.uid)();
                            this._cacheData.textureCacheId = l, c.default.addToCache(s.baseTexture, l), u.default.addToCache(s, l);
                            var d = f;
                            d.tx = -n.x, d.ty = -n.y, this.transform.worldTransform.identity(), this.renderWebGL = this._cacheData.originalRenderWebGL, e.render(this, s, !0, d, !0), e.bindRenderTarget(i), e.filterManager.filterStack = o, this.renderWebGL = this._renderCachedWebGL, this.updateTransform = this.displayObjectUpdateTransform, this._mask = null, this.filterArea = null;
                            var p = new a.Sprite(s);
                            p.transform.worldTransform = this.transform.worldTransform, p.anchor.x = -n.x / n.width, p.anchor.y = -n.y / n.height, p.alpha = t, p._bounds = this._bounds, this._calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._cacheData.sprite = p, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = e._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = p.containsPoint.bind(p)
                        }
                    }, d.prototype._renderCachedCanvas = function(e) {
                        !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(e), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite.renderCanvas(e))
                    }, d.prototype._initCachedDisplayObjectCanvas = function(e) {
                        if (!this._cacheData || !this._cacheData.sprite) {
                            var t = this.getLocalBounds(),
                                n = this.alpha;
                            this.alpha = 1;
                            var r = e.context,
                                i = a.RenderTexture.create(0 | t.width, 0 | t.height),
                                o = "cacheAsBitmap_" + (0, h.uid)();
                            this._cacheData.textureCacheId = o, c.default.addToCache(i.baseTexture, o), u.default.addToCache(i, o);
                            var s = f;
                            this.transform.localTransform.copy(s), s.invert(), s.tx -= t.x, s.ty -= t.y, this.renderCanvas = this._cacheData.originalRenderCanvas, e.render(this, i, !0, s, !1), e.context = r, this.renderCanvas = this._renderCachedCanvas, this._calculateBounds = this._calculateCachedBounds, this._mask = null, this.filterArea = null;
                            var l = new a.Sprite(i);
                            l.transform.worldTransform = this.transform.worldTransform, l.anchor.x = -t.x / t.width, l.anchor.y = -t.y / t.height, l._bounds = this._bounds, l.alpha = n, this.parent ? this.updateTransform() : (this.parent = e._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.updateTransform = this.displayObjectUpdateTransform, this._cacheData.sprite = l, this.containsPoint = l.containsPoint.bind(l)
                        }
                    }, d.prototype._calculateCachedBounds = function() {
                        this._cacheData.sprite._calculateBounds()
                    }, d.prototype._getCachedLocalBounds = function() {
                        return this._cacheData.sprite.getLocalBounds()
                    }, d.prototype._destroyCachedDisplayObject = function() {
                        this._cacheData.sprite._texture.destroy(!0), this._cacheData.sprite = null, c.default.removeFromCache(this._cacheData.textureCacheId), u.default.removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null
                    }, d.prototype._cacheAsBitmapDestroy = function(e) {
                        this.cacheAsBitmap = !1, this.destroy(e)
                    }
                }, {
                    "../core": 64,
                    "../core/textures/BaseTexture": 111,
                    "../core/textures/Texture": 114,
                    "../core/utils": 123
                }],
                138: [function(e, t, n) {
                    "use strict";
                    var r = e("../core"),
                        i = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(r);
                    i.DisplayObject.prototype.name = null, i.Container.prototype.getChildByName = function(e) {
                        for (var t = 0; t < this.children.length; t++)
                            if (this.children[t].name === e) return this.children[t];
                        return null
                    }
                }, {
                    "../core": 64
                }],
                139: [function(e, t, n) {
                    "use strict";
                    var r = e("../core"),
                        i = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(r);
                    i.DisplayObject.prototype.getGlobalPosition = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new i.Point,
                            t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return this.parent ? this.parent.toGlobal(this.position, e, t) : (e.x = this.position.x, e.y = this.position.y), e
                    }
                }, {
                    "../core": 64
                }],
                140: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0, n.BitmapText = n.TilingSpriteRenderer = n.TilingSprite = n.TextureTransform = n.AnimatedSprite = void 0;
                    var i = e("./AnimatedSprite");
                    Object.defineProperty(n, "AnimatedSprite", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./TextureTransform");
                    Object.defineProperty(n, "TextureTransform", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    });
                    var a = e("./TilingSprite");
                    Object.defineProperty(n, "TilingSprite", {
                        enumerable: !0,
                        get: function() {
                            return r(a).default
                        }
                    });
                    var s = e("./webgl/TilingSpriteRenderer");
                    Object.defineProperty(n, "TilingSpriteRenderer", {
                        enumerable: !0,
                        get: function() {
                            return r(s).default
                        }
                    });
                    var u = e("./BitmapText");
                    Object.defineProperty(n, "BitmapText", {
                        enumerable: !0,
                        get: function() {
                            return r(u).default
                        }
                    }), e("./cacheAsBitmap"), e("./getChildByName"), e("./getGlobalPosition")
                }, {
                    "./AnimatedSprite": 133,
                    "./BitmapText": 134,
                    "./TextureTransform": 135,
                    "./TilingSprite": 136,
                    "./cacheAsBitmap": 137,
                    "./getChildByName": 138,
                    "./getGlobalPosition": 139,
                    "./webgl/TilingSpriteRenderer": 141
                }],
                141: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("../../core"),
                        s = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(a),
                        u = e("../../core/const"),
                        l = (e("path"), new s.Matrix),
                        c = function(e) {
                            function t(n) {
                                r(this, t);
                                var o = i(this, e.call(this, n));
                                return o.shader = null, o.simpleShader = null, o.quad = null, o
                            }
                            return o(t, e), t.prototype.onContextChange = function() {
                                var e = this.renderer.gl;
                                this.shader = new s.Shader(e, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"), this.simpleShader = new s.Shader(e, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"), this.renderer.bindVao(null), this.quad = new s.Quad(e, this.renderer.state.attribState), this.quad.initVao(this.shader)
                            }, t.prototype.render = function(e) {
                                var t = this.renderer,
                                    n = this.quad;
                                t.bindVao(n.vao);
                                var r = n.vertices;
                                r[0] = r[6] = e._width * -e.anchor.x, r[1] = r[3] = e._height * -e.anchor.y, r[2] = r[4] = e._width * (1 - e.anchor.x), r[5] = r[7] = e._height * (1 - e.anchor.y), e.uvRespectAnchor && (r = n.uvs, r[0] = r[6] = -e.anchor.x, r[1] = r[3] = -e.anchor.y, r[2] = r[4] = 1 - e.anchor.x, r[5] = r[7] = 1 - e.anchor.y), n.upload();
                                var i = e._texture,
                                    o = i.baseTexture,
                                    a = e.tileTransform.localTransform,
                                    c = e.uvTransform,
                                    h = o.isPowerOfTwo && i.frame.width === o.width && i.frame.height === o.height;
                                h && (o._glTextures[t.CONTEXT_UID] ? h = o.wrapMode !== u.WRAP_MODES.CLAMP : o.wrapMode === u.WRAP_MODES.CLAMP && (o.wrapMode = u.WRAP_MODES.REPEAT));
                                var d = h ? this.simpleShader : this.shader;
                                t.bindShader(d);
                                var f = i.width,
                                    p = i.height,
                                    m = e._width,
                                    g = e._height;
                                l.set(a.a * f / m, a.b * f / g, a.c * p / m, a.d * p / g, a.tx / m, a.ty / g), l.invert(), h ? l.prepend(c.mapCoord) : (d.uniforms.uMapCoord = c.mapCoord.toArray(!0), d.uniforms.uClampFrame = c.uClampFrame, d.uniforms.uClampOffset = c.uClampOffset), d.uniforms.uTransform = l.toArray(!0), d.uniforms.uColor = s.utils.premultiplyTintToRgba(e.tint, e.worldAlpha, d.uniforms.uColor, o.premultipliedAlpha), d.uniforms.translationMatrix = e.transform.worldTransform.toArray(!0), d.uniforms.uSampler = t.bindTexture(i), t.setBlendMode(s.utils.correctBlendMode(e.blendMode, o.premultipliedAlpha)), n.vao.draw(this.renderer.gl.TRIANGLES, 6, 0)
                            }, t
                        }(s.ObjectRenderer);
                    n.default = c, s.WebGLRenderer.registerPlugin("tilingSprite", c)
                }, {
                    "../../core": 64,
                    "../../core/const": 45,
                    path: 22
                }],
                142: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../../core"),
                        l = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(u),
                        c = e("./BlurXFilter"),
                        h = r(c),
                        d = e("./BlurYFilter"),
                        f = r(d),
                        p = function(e) {
                            function t(n, r, a, s) {
                                i(this, t);
                                var u = o(this, e.call(this));
                                return u.blurXFilter = new h.default(n, r, a, s), u.blurYFilter = new f.default(n, r, a, s), u.padding = 0, u.resolution = a || l.settings.RESOLUTION, u.quality = r || 4, u.blur = n || 8, u
                            }
                            return a(t, e), t.prototype.apply = function(e, t, n) {
                                var r = e.getRenderTarget(!0);
                                this.blurXFilter.apply(e, t, r, !0),
                                    this.blurYFilter.apply(e, r, n, !1), e.returnRenderTarget(r)
                            }, s(t, [{
                                key: "blur",
                                get: function() {
                                    return this.blurXFilter.blur
                                },
                                set: function(e) {
                                    this.blurXFilter.blur = this.blurYFilter.blur = e, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                                }
                            }, {
                                key: "quality",
                                get: function() {
                                    return this.blurXFilter.quality
                                },
                                set: function(e) {
                                    this.blurXFilter.quality = this.blurYFilter.quality = e
                                }
                            }, {
                                key: "blurX",
                                get: function() {
                                    return this.blurXFilter.blur
                                },
                                set: function(e) {
                                    this.blurXFilter.blur = e, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                                }
                            }, {
                                key: "blurY",
                                get: function() {
                                    return this.blurYFilter.blur
                                },
                                set: function(e) {
                                    this.blurYFilter.blur = e, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                                }
                            }]), t
                        }(l.Filter);
                    n.default = p
                }, {
                    "../../core": 64,
                    "./BlurXFilter": 143,
                    "./BlurYFilter": 144
                }],
                143: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../../core"),
                        l = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(u),
                        c = e("./generateBlurVertSource"),
                        h = r(c),
                        d = e("./generateBlurFragSource"),
                        f = r(d),
                        p = e("./getMaxBlurKernelSize"),
                        m = r(p),
                        g = function(e) {
                            function t(n, r, a, s) {
                                i(this, t), s = s || 5;
                                var u = (0, h.default)(s, !0),
                                    c = (0, f.default)(s),
                                    d = o(this, e.call(this, u, c));
                                return d.resolution = a || l.settings.RESOLUTION, d._quality = 0, d.quality = r || 4, d.strength = n || 8, d.firstRun = !0, d
                            }
                            return a(t, e), t.prototype.apply = function(e, t, n, r) {
                                if (this.firstRun) {
                                    var i = e.renderer.gl,
                                        o = (0, m.default)(i);
                                    this.vertexSrc = (0, h.default)(o, !0), this.fragmentSrc = (0, f.default)(o), this.firstRun = !1
                                }
                                if (this.uniforms.strength = 1 / n.size.width * (n.size.width / t.size.width), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) e.applyFilter(this, t, n, r);
                                else {
                                    for (var a = e.getRenderTarget(!0), s = t, u = a, l = 0; l < this.passes - 1; l++) {
                                        e.applyFilter(this, s, u, !0);
                                        var c = u;
                                        u = s, s = c
                                    }
                                    e.applyFilter(this, s, n, r), e.returnRenderTarget(a)
                                }
                            }, s(t, [{
                                key: "blur",
                                get: function() {
                                    return this.strength
                                },
                                set: function(e) {
                                    this.padding = 2 * Math.abs(e), this.strength = e
                                }
                            }, {
                                key: "quality",
                                get: function() {
                                    return this._quality
                                },
                                set: function(e) {
                                    this._quality = e, this.passes = e
                                }
                            }]), t
                        }(l.Filter);
                    n.default = g
                }, {
                    "../../core": 64,
                    "./generateBlurFragSource": 145,
                    "./generateBlurVertSource": 146,
                    "./getMaxBlurKernelSize": 147
                }],
                144: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        u = e("../../core"),
                        l = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(u),
                        c = e("./generateBlurVertSource"),
                        h = r(c),
                        d = e("./generateBlurFragSource"),
                        f = r(d),
                        p = e("./getMaxBlurKernelSize"),
                        m = r(p),
                        g = function(e) {
                            function t(n, r, a, s) {
                                i(this, t), s = s || 5;
                                var u = (0, h.default)(s, !1),
                                    c = (0, f.default)(s),
                                    d = o(this, e.call(this, u, c));
                                return d.resolution = a || l.settings.RESOLUTION, d._quality = 0, d.quality = r || 4, d.strength = n || 8, d.firstRun = !0, d
                            }
                            return a(t, e), t.prototype.apply = function(e, t, n, r) {
                                if (this.firstRun) {
                                    var i = e.renderer.gl,
                                        o = (0, m.default)(i);
                                    this.vertexSrc = (0, h.default)(o, !1), this.fragmentSrc = (0, f.default)(o), this.firstRun = !1
                                }
                                if (this.uniforms.strength = 1 / n.size.height * (n.size.height / t.size.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) e.applyFilter(this, t, n, r);
                                else {
                                    for (var a = e.getRenderTarget(!0), s = t, u = a, l = 0; l < this.passes - 1; l++) {
                                        e.applyFilter(this, s, u, !0);
                                        var c = u;
                                        u = s, s = c
                                    }
                                    e.applyFilter(this, s, n, r), e.returnRenderTarget(a)
                                }
                            }, s(t, [{
                                key: "blur",
                                get: function() {
                                    return this.strength
                                },
                                set: function(e) {
                                    this.padding = 2 * Math.abs(e), this.strength = e
                                }
                            }, {
                                key: "quality",
                                get: function() {
                                    return this._quality
                                },
                                set: function(e) {
                                    this._quality = e, this.passes = e
                                }
                            }]), t
                        }(l.Filter);
                    n.default = g
                }, {
                    "../../core": 64,
                    "./generateBlurFragSource": 145,
                    "./generateBlurVertSource": 146,
                    "./getMaxBlurKernelSize": 147
                }],
                145: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        for (var t = i[e], n = t.length, r = o, a = "", s = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;", u = void 0, l = 0; l < e; l++) {
                            var c = s.replace("%index%", l);
                            u = l, l >= n && (u = e - l - 1), c = c.replace("%value%", t[u]), a += c, a += "\n"
                        }
                        return r = r.replace("%blur%", a), r = r.replace("%size%", e)
                    }
                    n.__esModule = !0, n.default = r;
                    var i = {
                            5: [.153388, .221461, .250301],
                            7: [.071303, .131514, .189879, .214607],
                            9: [.028532, .067234, .124009, .179044, .20236],
                            11: [.0093, .028002, .065984, .121703, .175713, .198596],
                            13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
                            15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
                        },
                        o = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n")
                }, {}],
                146: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        var n = Math.ceil(e / 2),
                            r = i,
                            o = "",
                            a = void 0;
                        a = t ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
                        for (var s = 0; s < e; s++) {
                            var u = a.replace("%index%", s);
                            u = u.replace("%sampleIndex%", s - (n - 1) + ".0"), o += u, o += "\n"
                        }
                        return r = r.replace("%blur%", o), r = r.replace("%size%", e)
                    }
                    n.__esModule = !0, n.default = r;
                    var i = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform float strength;", "uniform mat3 projectionMatrix;", "varying vec2 vBlurTexCoords[%size%];", "void main(void)", "{", "gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);", "%blur%", "}"].join("\n")
                }, {}],
                147: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        for (var t = e.getParameter(e.MAX_VARYING_VECTORS), n = 15; n > t;) n -= 2;
                        return n
                    }
                    n.__esModule = !0, n.default = r
                }, {}],
                148: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = (e("path"), function(e) {
                            function t() {
                                r(this, t);
                                var n = i(this, e.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));
                                return n.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], n.alpha = 1, n
                            }
                            return o(t, e), t.prototype._loadMatrix = function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                                    n = e;
                                t && (this._multiply(n, this.uniforms.m, e), n = this._colorMatrix(n)), this.uniforms.m = n
                            }, t.prototype._multiply = function(e, t, n) {
                                return e[0] = t[0] * n[0] + t[1] * n[5] + t[2] * n[10] + t[3] * n[15], e[1] = t[0] * n[1] + t[1] * n[6] + t[2] * n[11] + t[3] * n[16], e[2] = t[0] * n[2] + t[1] * n[7] + t[2] * n[12] + t[3] * n[17], e[3] = t[0] * n[3] + t[1] * n[8] + t[2] * n[13] + t[3] * n[18], e[4] = t[0] * n[4] + t[1] * n[9] + t[2] * n[14] + t[3] * n[19] + t[4], e[5] = t[5] * n[0] + t[6] * n[5] + t[7] * n[10] + t[8] * n[15], e[6] = t[5] * n[1] + t[6] * n[6] + t[7] * n[11] + t[8] * n[16], e[7] = t[5] * n[2] + t[6] * n[7] + t[7] * n[12] + t[8] * n[17], e[8] = t[5] * n[3] + t[6] * n[8] + t[7] * n[13] + t[8] * n[18], e[9] = t[5] * n[4] + t[6] * n[9] + t[7] * n[14] + t[8] * n[19] + t[9], e[10] = t[10] * n[0] + t[11] * n[5] + t[12] * n[10] + t[13] * n[15], e[11] = t[10] * n[1] + t[11] * n[6] + t[12] * n[11] + t[13] * n[16], e[12] = t[10] * n[2] + t[11] * n[7] + t[12] * n[12] + t[13] * n[17], e[13] = t[10] * n[3] + t[11] * n[8] + t[12] * n[13] + t[13] * n[18], e[14] = t[10] * n[4] + t[11] * n[9] + t[12] * n[14] + t[13] * n[19] + t[14], e[15] = t[15] * n[0] + t[16] * n[5] + t[17] * n[10] + t[18] * n[15], e[16] = t[15] * n[1] + t[16] * n[6] + t[17] * n[11] + t[18] * n[16], e[17] = t[15] * n[2] + t[16] * n[7] + t[17] * n[12] + t[18] * n[17], e[18] = t[15] * n[3] + t[16] * n[8] + t[17] * n[13] + t[18] * n[18], e[19] = t[15] * n[4] + t[16] * n[9] + t[17] * n[14] + t[18] * n[19] + t[19], e
                            }, t.prototype._colorMatrix = function(e) {
                                var t = new Float32Array(e);
                                return t[4] /= 255, t[9] /= 255, t[14] /= 255, t[19] /= 255, t
                            }, t.prototype.brightness = function(e, t) {
                                var n = [e, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, e, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(n, t)
                            }, t.prototype.greyscale = function(e, t) {
                                var n = [e, e, e, 0, 0, e, e, e, 0, 0, e, e, e, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(n, t)
                            }, t.prototype.blackAndWhite = function(e) {
                                var t = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.hue = function(e, t) {
                                e = (e || 0) / 180 * Math.PI;
                                var n = Math.cos(e),
                                    r = Math.sin(e),
                                    i = Math.sqrt,
                                    o = 1 / 3,
                                    a = i(o),
                                    s = n + (1 - n) * o,
                                    u = o * (1 - n) - a * r,
                                    l = o * (1 - n) + a * r,
                                    c = o * (1 - n) + a * r,
                                    h = n + o * (1 - n),
                                    d = o * (1 - n) - a * r,
                                    f = o * (1 - n) - a * r,
                                    p = o * (1 - n) + a * r,
                                    m = n + o * (1 - n),
                                    g = [s, u, l, 0, 0, c, h, d, 0, 0, f, p, m, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(g, t)
                            }, t.prototype.contrast = function(e, t) {
                                var n = (e || 0) + 1,
                                    r = -128 * (n - 1),
                                    i = [n, 0, 0, 0, r, 0, n, 0, 0, r, 0, 0, n, 0, r, 0, 0, 0, 1, 0];
                                this._loadMatrix(i, t)
                            }, t.prototype.saturate = function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    t = arguments[1],
                                    n = 2 * e / 3 + 1,
                                    r = -.5 * (n - 1),
                                    i = [n, r, r, 0, 0, r, n, r, 0, 0, r, r, n, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(i, t)
                            }, t.prototype.desaturate = function() {
                                this.saturate(-1)
                            }, t.prototype.negative = function(e) {
                                var t = [0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.sepia = function(e) {
                                var t = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.technicolor = function(e) {
                                var t = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.polaroid = function(e) {
                                var t = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.toBGR = function(e) {
                                var t = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.kodachrome = function(e) {
                                var t = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.browni = function(e) {
                                var t = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.vintage = function(e) {
                                var t = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.colorTone = function(e, t, n, r, i) {
                                e = e || .2, t = t || .15, n = n || 16770432, r = r || 3375104;
                                var o = (n >> 16 & 255) / 255,
                                    a = (n >> 8 & 255) / 255,
                                    s = (255 & n) / 255,
                                    u = (r >> 16 & 255) / 255,
                                    l = (r >> 8 & 255) / 255,
                                    c = (255 & r) / 255,
                                    h = [.3, .59, .11, 0, 0, o, a, s, e, 0, u, l, c, t, 0, o - u, a - l, s - c, 0, 0];
                                this._loadMatrix(h, i)
                            }, t.prototype.night = function(e, t) {
                                e = e || .1;
                                var n = [-2 * e, -e, 0, 0, 0, -e, 0, e, 0, 0, 0, e, 2 * e, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(n, t)
                            }, t.prototype.predator = function(e, t) {
                                var n = [11.224130630493164 * e, -4.794486999511719 * e, -2.8746118545532227 * e, 0 * e, .40342438220977783 * e, -3.6330697536468506 * e, 9.193157196044922 * e, -2.951810836791992 * e, 0 * e, -1.316135048866272 * e, -3.2184197902679443 * e, -4.2375030517578125 * e, 7.476448059082031 * e, 0 * e, .8044459223747253 * e, 0, 0, 0, 1, 0];
                                this._loadMatrix(n, t)
                            }, t.prototype.lsd = function(e) {
                                var t = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, e)
                            }, t.prototype.reset = function() {
                                var e = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, !1)
                            }, a(t, [{
                                key: "matrix",
                                get: function() {
                                    return this.uniforms.m
                                },
                                set: function(e) {
                                    this.uniforms.m = e
                                }
                            }, {
                                key: "alpha",
                                get: function() {
                                    return this.uniforms.uAlpha
                                },
                                set: function(e) {
                                    this.uniforms.uAlpha = e
                                }
                            }]), t
                        }(u.Filter));
                    n.default = l, l.prototype.grayscale = l.prototype.greyscale
                }, {
                    "../../core": 64,
                    path: 22
                }],
                149: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = (e("path"), function(e) {
                            function t(n, o) {
                                r(this, t);
                                var a = new u.Matrix;
                                n.renderable = !1;
                                var s = i(this, e.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));
                                return s.maskSprite = n, s.maskMatrix = a, s.uniforms.mapSampler = n._texture, s.uniforms.filterMatrix = a, s.uniforms.scale = {
                                    x: 1,
                                    y: 1
                                }, null !== o && void 0 !== o || (o = 20), s.scale = new u.Point(o, o), s
                            }
                            return o(t, e), t.prototype.apply = function(e, t, n) {
                                var r = 1 / n.destinationFrame.width * (n.size.width / t.size.width);
                                this.uniforms.filterMatrix = e.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x * r, this.uniforms.scale.y = this.scale.y * r, e.applyFilter(this, t, n)
                            }, a(t, [{
                                key: "map",
                                get: function() {
                                    return this.uniforms.mapSampler
                                },
                                set: function(e) {
                                    this.uniforms.mapSampler = e
                                }
                            }]), t
                        }(u.Filter));
                    n.default = l
                }, {
                    "../../core": 64,
                    path: 22
                }],
                150: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("../../core"),
                        s = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(a),
                        u = (e("path"), function(e) {
                            function t() {
                                return r(this, t), i(this, e.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}", 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))
                            }
                            return o(t, e), t
                        }(s.Filter));
                    n.default = u
                }, {
                    "../../core": 64,
                    path: 22
                }],
                151: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./fxaa/FXAAFilter");
                    Object.defineProperty(n, "FXAAFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./noise/NoiseFilter");
                    Object.defineProperty(n, "NoiseFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    });
                    var a = e("./displacement/DisplacementFilter");
                    Object.defineProperty(n, "DisplacementFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(a).default
                        }
                    });
                    var s = e("./blur/BlurFilter");
                    Object.defineProperty(n, "BlurFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(s).default
                        }
                    });
                    var u = e("./blur/BlurXFilter");
                    Object.defineProperty(n, "BlurXFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(u).default
                        }
                    });
                    var l = e("./blur/BlurYFilter");
                    Object.defineProperty(n, "BlurYFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(l).default
                        }
                    });
                    var c = e("./colormatrix/ColorMatrixFilter");
                    Object.defineProperty(n, "ColorMatrixFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(c).default
                        }
                    });
                    var h = e("./void/VoidFilter");
                    Object.defineProperty(n, "VoidFilter", {
                        enumerable: !0,
                        get: function() {
                            return r(h).default
                        }
                    })
                }, {
                    "./blur/BlurFilter": 142,
                    "./blur/BlurXFilter": 143,
                    "./blur/BlurYFilter": 144,
                    "./colormatrix/ColorMatrixFilter": 148,
                    "./displacement/DisplacementFilter": 149,
                    "./fxaa/FXAAFilter": 150,
                    "./noise/NoiseFilter": 152,
                    "./void/VoidFilter": 153
                }],
                152: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = (e("path"), function(e) {
                            function t() {
                                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5,
                                    o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Math.random();
                                r(this, t);
                                var a = i(this, e.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));
                                return a.noise = n, a.seed = o, a
                            }
                            return o(t, e), a(t, [{
                                key: "noise",
                                get: function() {
                                    return this.uniforms.uNoise
                                },
                                set: function(e) {
                                    this.uniforms.uNoise = e
                                }
                            }, {
                                key: "seed",
                                get: function() {
                                    return this.uniforms.uSeed
                                },
                                set: function(e) {
                                    this.uniforms.uSeed = e
                                }
                            }]), t
                        }(u.Filter));
                    n.default = l
                }, {
                    "../../core": 64,
                    path: 22
                }],
                153: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("../../core"),
                        s = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(a),
                        u = (e("path"), function(e) {
                            function t() {
                                r(this, t);
                                var n = i(this, e.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));
                                return n.glShaderKey = "void", n
                            }
                            return o(t, e), t
                        }(s.Filter));
                    n.default = u
                }, {
                    "../../core": 64,
                    path: 22
                }],
                154: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = e("../core"),
                        a = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(o),
                        s = function() {
                            function e() {
                                r(this, e), this.global = new a.Point, this.target = null, this.originalEvent = null, this.identifier = null, this.isPrimary = !1, this.button = 0, this.buttons = 0, this.width = 0, this.height = 0, this.tiltX = 0, this.tiltY = 0, this.pointerType = null, this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0
                            }
                            return e.prototype.getLocalPosition = function(e, t, n) {
                                return e.worldTransform.applyInverse(n || this.global, t)
                            }, e.prototype._copyEvent = function(e) {
                                e.isPrimary && (this.isPrimary = !0), this.button = e.button, this.buttons = e.buttons, this.width = e.width, this.height = e.height, this.tiltX = e.tiltX, this.tiltY = e.tiltY, this.pointerType = e.pointerType, this.pressure = e.pressure, this.rotationAngle = e.rotationAngle, this.twist = e.twist || 0, this.tangentialPressure = e.tangentialPressure || 0
                            }, e.prototype._reset = function() {
                                this.isPrimary = !1
                            }, i(e, [{
                                key: "pointerId",
                                get: function() {
                                    return this.identifier
                                }
                            }]), e
                        }();
                    n.default = s
                }, {
                    "../core": 64
                }],
                155: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e() {
                            r(this, e), this.stopped = !1, this.target = null, this.currentTarget = null, this.type = null, this.data = null
                        }
                        return e.prototype.stopPropagation = function() {
                            this.stopped = !0
                        }, e.prototype._reset = function() {
                            this.stopped = !1, this.currentTarget = null, this.target = null
                        }, e
                    }();
                    n.default = i
                }, {}],
                156: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                            return typeof e
                        } : function(e) {
                            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                        },
                        u = e("../core"),
                        l = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(u),
                        c = e("./InteractionData"),
                        h = r(c),
                        d = e("./InteractionEvent"),
                        f = r(d),
                        p = e("./InteractionTrackingData"),
                        m = r(p),
                        g = e("eventemitter3"),
                        _ = r(g),
                        y = e("./interactiveTarget"),
                        v = r(y);
                    l.utils.mixins.delayMixin(l.DisplayObject.prototype, v.default);
                    var b = "MOUSE",
                        x = {
                            target: null,
                            data: {
                                global: null
                            }
                        },
                        T = function(e) {
                            function t(n, r) {
                                i(this, t);
                                var a = o(this, e.call(this));
                                return r = r || {}, a.renderer = n, a.autoPreventDefault = void 0 === r.autoPreventDefault || r.autoPreventDefault, a.interactionFrequency = r.interactionFrequency || 10, a.mouse = new h.default, a.mouse.identifier = b, a.mouse.global.set(-999999), a.activeInteractionData = {}, a.activeInteractionData[b] = a.mouse, a.interactionDataPool = [], a.eventData = new f.default, a.interactionDOMElement = null, a.moveWhenInside = !1, a.eventsAdded = !1, a.mouseOverRenderer = !1, a.supportsTouchEvents = "ontouchstart" in window, a.supportsPointerEvents = !!window.PointerEvent, a.onPointerUp = a.onPointerUp.bind(a), a.processPointerUp = a.processPointerUp.bind(a), a.onPointerCancel = a.onPointerCancel.bind(a), a.processPointerCancel = a.processPointerCancel.bind(a), a.onPointerDown = a.onPointerDown.bind(a), a.processPointerDown = a.processPointerDown.bind(a), a.onPointerMove = a.onPointerMove.bind(a), a.processPointerMove = a.processPointerMove.bind(a), a.onPointerOut = a.onPointerOut.bind(a), a.processPointerOverOut = a.processPointerOverOut.bind(a), a.onPointerOver = a.onPointerOver.bind(a), a.cursorStyles = {
                                    default: "inherit",
                                    pointer: "pointer"
                                }, a.currentCursorMode = null, a.cursor = null, a._tempPoint = new l.Point, a.resolution = 1, a.setTargetElement(a.renderer.view, a.renderer.resolution), a
                            }
                            return a(t, e), t.prototype.hitTest = function(e, t) {
                                return x.target = null, x.data.global = e, t || (t = this.renderer._lastObjectRendered), this.processInteractive(x, t, null, !0), x.target
                            }, t.prototype.setTargetElement = function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                                this.removeEvents(), this.interactionDOMElement = e, this.resolution = t, this.addEvents()
                            }, t.prototype.addEvents = function() {
                                this.interactionDOMElement && (l.ticker.shared.add(this.update, this, l.UPDATE_PRIORITY.INTERACTION), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] = "none") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0), window.addEventListener("pointercancel", this.onPointerCancel, !0), window.addEventListener("pointerup", this.onPointerUp, !0)) : (window.document.addEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, !0), window.addEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0)), this.eventsAdded = !0)
                            }, t.prototype.removeEvents = function() {
                                this.interactionDOMElement && (l.ticker.shared.remove(this.update, this), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = "") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0), window.removeEventListener("pointercancel", this.onPointerCancel, !0), window.removeEventListener("pointerup", this.onPointerUp, !0)) : (window.document.removeEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, !0), window.removeEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0)), this.interactionDOMElement = null, this.eventsAdded = !1)
                            }, t.prototype.update = function(e) {
                                if (this._deltaTime += e, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) {
                                    if (this.didMove) return void(this.didMove = !1);
                                    this.cursor = null;
                                    for (var t in this.activeInteractionData)
                                        if (this.activeInteractionData.hasOwnProperty(t)) {
                                            var n = this.activeInteractionData[t];
                                            if (n.originalEvent && "touch" !== n.pointerType) {
                                                var r = this.configureInteractionEventForDOMEvent(this.eventData, n.originalEvent, n);
                                                this.processInteractive(r, this.renderer._lastObjectRendered, this.processPointerOverOut, !0)
                                            }
                                        }
                                    this.setCursorMode(this.cursor)
                                }
                            }, t.prototype.setCursorMode = function(e) {
                                if (e = e || "default", this.currentCursorMode !== e) {
                                    this.currentCursorMode = e;
                                    var t = this.cursorStyles[e];
                                    if (t) switch (void 0 === t ? "undefined" : s(t)) {
                                        case "string":
                                            this.interactionDOMElement.style.cursor = t;
                                            break;
                                        case "function":
                                            t(e);
                                            break;
                                        case "object":
                                            Object.assign(this.interactionDOMElement.style, t)
                                    } else "string" != typeof e || Object.prototype.hasOwnProperty.call(this.cursorStyles, e) || (this.interactionDOMElement.style.cursor = e)
                                }
                            }, t.prototype.dispatchEvent = function(e, t, n) {
                                n.stopped || (n.currentTarget = e, n.type = t, e.emit(t, n), e[t] && e[t](n))
                            }, t.prototype.mapPositionToPoint = function(e, t, n) {
                                var r = void 0;
                                r = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
                                    x: 0,
                                    y: 0,
                                    width: 0,
                                    height: 0
                                };
                                var i = navigator.isCocoonJS ? this.resolution : 1 / this.resolution;
                                e.x = (t - r.left) * (this.interactionDOMElement.width / r.width) * i, e.y = (n - r.top) * (this.interactionDOMElement.height / r.height) * i
                            }, t.prototype.processInteractive = function(e, t, n, r, i) {
                                if (!t || !t.visible) return !1;
                                var o = e.data.global;
                                i = t.interactive || i;
                                var a = !1,
                                    s = i;
                                if (t.hitArea ? s = !1 : r && t._mask && (t._mask.containsPoint(o) || (r = !1)), t.interactiveChildren && t.children)
                                    for (var u = t.children, l = u.length - 1; l >= 0; l--) {
                                        var c = u[l],
                                            h = this.processInteractive(e, c, n, r, s);
                                        if (h) {
                                            if (!c.parent) continue;
                                            s = !1, h && (e.target && (r = !1), a = !0)
                                        }
                                    }
                                return i && (r && !e.target && (t.hitArea ? (t.worldTransform.applyInverse(o, this._tempPoint), t.hitArea.contains(this._tempPoint.x, this._tempPoint.y) && (a = !0)) : t.containsPoint && t.containsPoint(o) && (a = !0)), t.interactive && (a && !e.target && (e.target = t), n && n(e, t, !!a))), a
                            }, t.prototype.onPointerDown = function(e) {
                                if (!this.supportsTouchEvents || "touch" !== e.pointerType) {
                                    var t = this.normalizeToPointerData(e);
                                    this.autoPreventDefault && t[0].isNormalized && e.preventDefault();
                                    for (var n = t.length, r = 0; r < n; r++) {
                                        var i = t[r],
                                            o = this.getInteractionDataForPointerId(i),
                                            a = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                                        if (a.data.originalEvent = e, this.processInteractive(a, this.renderer._lastObjectRendered, this.processPointerDown, !0), this.emit("pointerdown", a), "touch" === i.pointerType) this.emit("touchstart", a);
                                        else if ("mouse" === i.pointerType || "pen" === i.pointerType) {
                                            var s = 2 === i.button;
                                            this.emit(s ? "rightdown" : "mousedown", this.eventData)
                                        }
                                    }
                                }
                            }, t.prototype.processPointerDown = function(e, t, n) {
                                var r = e.data,
                                    i = e.data.identifier;
                                if (n)
                                    if (t.trackedPointers[i] || (t.trackedPointers[i] = new m.default(i)), this.dispatchEvent(t, "pointerdown", e), "touch" === r.pointerType) this.dispatchEvent(t, "touchstart", e);
                                    else if ("mouse" === r.pointerType || "pen" === r.pointerType) {
                                    var o = 2 === r.button;
                                    o ? t.trackedPointers[i].rightDown = !0 : t.trackedPointers[i].leftDown = !0, this.dispatchEvent(t, o ? "rightdown" : "mousedown", e)
                                }
                            }, t.prototype.onPointerComplete = function(e, t, n) {
                                for (var r = this.normalizeToPointerData(e), i = r.length, o = e.target !== this.interactionDOMElement ? "outside" : "", a = 0; a < i; a++) {
                                    var s = r[a],
                                        u = this.getInteractionDataForPointerId(s),
                                        l = this.configureInteractionEventForDOMEvent(this.eventData, s, u);
                                    if (l.data.originalEvent = e, this.processInteractive(l, this.renderer._lastObjectRendered, n, t || !o), this.emit(t ? "pointercancel" : "pointerup" + o, l), "mouse" === s.pointerType || "pen" === s.pointerType) {
                                        var c = 2 === s.button;
                                        this.emit(c ? "rightup" + o : "mouseup" + o, l)
                                    } else "touch" === s.pointerType && (this.emit(t ? "touchcancel" : "touchend" + o, l), this.releaseInteractionDataForPointerId(s.pointerId, u))
                                }
                            }, t.prototype.onPointerCancel = function(e) {
                                this.supportsTouchEvents && "touch" === e.pointerType || this.onPointerComplete(e, !0, this.processPointerCancel)
                            }, t.prototype.processPointerCancel = function(e, t) {
                                var n = e.data,
                                    r = e.data.identifier;
                                void 0 !== t.trackedPointers[r] && (delete t.trackedPointers[r], this.dispatchEvent(t, "pointercancel", e), "touch" === n.pointerType && this.dispatchEvent(t, "touchcancel", e))
                            }, t.prototype.onPointerUp = function(e) {
                                this.supportsTouchEvents && "touch" === e.pointerType || this.onPointerComplete(e, !1, this.processPointerUp)
                            }, t.prototype.processPointerUp = function(e, t, n) {
                                var r = e.data,
                                    i = e.data.identifier,
                                    o = t.trackedPointers[i],
                                    a = "touch" === r.pointerType;
                                if ("mouse" === r.pointerType || "pen" === r.pointerType) {
                                    var s = 2 === r.button,
                                        u = m.default.FLAGS,
                                        l = s ? u.RIGHT_DOWN : u.LEFT_DOWN,
                                        c = void 0 !== o && o.flags & l;
                                    n ? (this.dispatchEvent(t, s ? "rightup" : "mouseup", e), c && this.dispatchEvent(t, s ? "rightclick" : "click", e)) : c && this.dispatchEvent(t, s ? "rightupoutside" : "mouseupoutside", e), o && (s ? o.rightDown = !1 : o.leftDown = !1)
                                }
                                n ? (this.dispatchEvent(t, "pointerup", e), a && this.dispatchEvent(t, "touchend", e), o && (this.dispatchEvent(t, "pointertap", e), a && (this.dispatchEvent(t, "tap", e), o.over = !1))) : o && (this.dispatchEvent(t, "pointerupoutside", e), a && this.dispatchEvent(t, "touchendoutside", e)), o && o.none && delete t.trackedPointers[i]
                            }, t.prototype.onPointerMove = function(e) {
                                if (!this.supportsTouchEvents || "touch" !== e.pointerType) {
                                    var t = this.normalizeToPointerData(e);
                                    "mouse" === t[0].pointerType && (this.didMove = !0, this.cursor = null);
                                    for (var n = t.length, r = 0; r < n; r++) {
                                        var i = t[r],
                                            o = this.getInteractionDataForPointerId(i),
                                            a = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
                                        a.data.originalEvent = e;
                                        var s = "touch" !== i.pointerType || this.moveWhenInside;
                                        this.processInteractive(a, this.renderer._lastObjectRendered, this.processPointerMove, s), this.emit("pointermove", a), "touch" === i.pointerType && this.emit("touchmove", a), "mouse" !== i.pointerType && "pen" !== i.pointerType || this.emit("mousemove", a)
                                    }
                                    "mouse" === t[0].pointerType && this.setCursorMode(this.cursor)
                                }
                            }, t.prototype.processPointerMove = function(e, t, n) {
                                var r = e.data,
                                    i = "touch" === r.pointerType,
                                    o = "mouse" === r.pointerType || "pen" === r.pointerType;
                                o && this.processPointerOverOut(e, t, n), this.moveWhenInside && !n || (this.dispatchEvent(t, "pointermove", e), i && this.dispatchEvent(t, "touchmove", e), o && this.dispatchEvent(t, "mousemove", e))
                            }, t.prototype.onPointerOut = function(e) {
                                if (!this.supportsTouchEvents || "touch" !== e.pointerType) {
                                    var t = this.normalizeToPointerData(e),
                                        n = t[0];
                                    "mouse" === n.pointerType && (this.mouseOverRenderer = !1, this.setCursorMode(null));
                                    var r = this.getInteractionDataForPointerId(n),
                                        i = this.configureInteractionEventForDOMEvent(this.eventData, n, r);
                                    i.data.originalEvent = n, this.processInteractive(i, this.renderer._lastObjectRendered, this.processPointerOverOut, !1), this.emit("pointerout", i), "mouse" === n.pointerType || "pen" === n.pointerType ? this.emit("mouseout", i) : this.releaseInteractionDataForPointerId(r.identifier)
                                }
                            }, t.prototype.processPointerOverOut = function(e, t, n) {
                                var r = e.data,
                                    i = e.data.identifier,
                                    o = "mouse" === r.pointerType || "pen" === r.pointerType,
                                    a = t.trackedPointers[i];
                                n && !a && (a = t.trackedPointers[i] = new m.default(i)), void 0 !== a && (n && this.mouseOverRenderer ? (a.over || (a.over = !0, this.dispatchEvent(t, "pointerover", e), o && this.dispatchEvent(t, "mouseover", e)), o && null === this.cursor && (this.cursor = t.cursor)) : a.over && (a.over = !1, this.dispatchEvent(t, "pointerout", this.eventData), o && this.dispatchEvent(t, "mouseout", e), a.none && delete t.trackedPointers[i]))
                            }, t.prototype.onPointerOver = function(e) {
                                var t = this.normalizeToPointerData(e),
                                    n = t[0],
                                    r = this.getInteractionDataForPointerId(n),
                                    i = this.configureInteractionEventForDOMEvent(this.eventData, n, r);
                                i.data.originalEvent = n, "mouse" === n.pointerType && (this.mouseOverRenderer = !0), this.emit("pointerover", i), "mouse" !== n.pointerType && "pen" !== n.pointerType || this.emit("mouseover", i)
                            }, t.prototype.getInteractionDataForPointerId = function(e) {
                                var t = e.pointerId,
                                    n = void 0;
                                return t === b || "mouse" === e.pointerType ? n = this.mouse : this.activeInteractionData[t] ? n = this.activeInteractionData[t] : (n = this.interactionDataPool.pop() || new h.default, n.identifier = t, this.activeInteractionData[t] = n), n._copyEvent(e), n
                            }, t.prototype.releaseInteractionDataForPointerId = function(e) {
                                var t = this.activeInteractionData[e];
                                t && (delete this.activeInteractionData[e], t._reset(), this.interactionDataPool.push(t))
                            }, t.prototype.configureInteractionEventForDOMEvent = function(e, t, n) {
                                return e.data = n, this.mapPositionToPoint(n.global, t.clientX, t.clientY), navigator.isCocoonJS && "touch" === t.pointerType && (n.global.x = n.global.x / this.resolution, n.global.y = n.global.y / this.resolution), "touch" === t.pointerType && (t.globalX = n.global.x, t.globalY = n.global.y), n.originalEvent = t, e._reset(), e
                            }, t.prototype.normalizeToPointerData = function(e) {
                                var t = [];
                                if (this.supportsTouchEvents && e instanceof TouchEvent)
                                    for (var n = 0, r = e.changedTouches.length; n < r; n++) {
                                        var i = e.changedTouches[n];
                                        void 0 === i.button && (i.button = e.touches.length ? 1 : 0), void 0 === i.buttons && (i.buttons = e.touches.length ? 1 : 0), void 0 === i.isPrimary && (i.isPrimary = 1 === e.touches.length && "touchstart" === e.type), void 0 === i.width && (i.width = i.radiusX || 1), void 0 === i.height && (i.height = i.radiusY || 1), void 0 === i.tiltX && (i.tiltX = 0), void 0 === i.tiltY && (i.tiltY = 0), void 0 === i.pointerType && (i.pointerType = "touch"), void 0 === i.pointerId && (i.pointerId = i.identifier || 0), void 0 === i.pressure && (i.pressure = i.force || .5), i.twist = 0, i.tangentialPressure = 0, void 0 === i.layerX && (i.layerX = i.offsetX = i.clientX), void 0 === i.layerY && (i.layerY = i.offsetY = i.clientY), i.isNormalized = !0, t.push(i)
                                    } else !(e instanceof MouseEvent) || this.supportsPointerEvents && e instanceof window.PointerEvent ? t.push(e) : (void 0 === e.isPrimary && (e.isPrimary = !0), void 0 === e.width && (e.width = 1), void 0 === e.height && (e.height = 1), void 0 === e.tiltX && (e.tiltX = 0), void 0 === e.tiltY && (e.tiltY = 0), void 0 === e.pointerType && (e.pointerType = "mouse"), void 0 === e.pointerId && (e.pointerId = b), void 0 === e.pressure && (e.pressure = .5), e.twist = 0, e.tangentialPressure = 0, e.isNormalized = !0, t.push(e));
                                return t
                            }, t.prototype.destroy = function() {
                                this.removeEvents(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null, this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this._tempPoint = null
                            }, t
                        }(_.default);
                    n.default = T, l.WebGLRenderer.registerPlugin("interaction", T), l.CanvasRenderer.registerPlugin("interaction", T)
                }, {
                    "../core": 64,
                    "./InteractionData": 154,
                    "./InteractionEvent": 155,
                    "./InteractionTrackingData": 157,
                    "./interactiveTarget": 159,
                    eventemitter3: 3
                }],
                157: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        o = function() {
                            function e(t) {
                                r(this, e), this._pointerId = t, this._flags = e.FLAGS.NONE
                            }
                            return e.prototype._doSet = function(e, t) {
                                this._flags = t ? this._flags | e : this._flags & ~e
                            }, i(e, [{
                                key: "pointerId",
                                get: function() {
                                    return this._pointerId
                                }
                            }, {
                                key: "flags",
                                get: function() {
                                    return this._flags
                                },
                                set: function(e) {
                                    this._flags = e
                                }
                            }, {
                                key: "none",
                                get: function() {
                                    return this._flags === this.constructor.FLAGS.NONE
                                }
                            }, {
                                key: "over",
                                get: function() {
                                    return 0 != (this._flags & this.constructor.FLAGS.OVER)
                                },
                                set: function(e) {
                                    this._doSet(this.constructor.FLAGS.OVER, e)
                                }
                            }, {
                                key: "rightDown",
                                get: function() {
                                    return 0 != (this._flags & this.constructor.FLAGS.RIGHT_DOWN)
                                },
                                set: function(e) {
                                    this._doSet(this.constructor.FLAGS.RIGHT_DOWN, e)
                                }
                            }, {
                                key: "leftDown",
                                get: function() {
                                    return 0 != (this._flags & this.constructor.FLAGS.LEFT_DOWN)
                                },
                                set: function(e) {
                                    this._doSet(this.constructor.FLAGS.LEFT_DOWN, e)
                                }
                            }]), e
                        }();
                    n.default = o, o.FLAGS = Object.freeze({
                        NONE: 0,
                        OVER: 1,
                        LEFT_DOWN: 2,
                        RIGHT_DOWN: 4
                    })
                }, {}],
                158: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./InteractionData");
                    Object.defineProperty(n, "InteractionData", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./InteractionManager");
                    Object.defineProperty(n, "InteractionManager", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    });
                    var a = e("./interactiveTarget");
                    Object.defineProperty(n, "interactiveTarget", {
                        enumerable: !0,
                        get: function() {
                            return r(a).default
                        }
                    })
                }, {
                    "./InteractionData": 154,
                    "./InteractionManager": 156,
                    "./interactiveTarget": 159
                }],
                159: [function(e, t, n) {
                    "use strict";
                    n.__esModule = !0, n.default = {
                        interactive: !1,
                        interactiveChildren: !0,
                        hitArea: null,
                        get buttonMode() {
                            return "pointer" === this.cursor
                        },
                        set buttonMode(e) {
                            e ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null)
                        },
                        cursor: null,
                        get trackedPointers() {
                            return void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers
                        },
                        _trackedPointers: void 0
                    }
                }, {}],
                160: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        e.bitmapFont = u.BitmapText.registerFont(e.data, t)
                    }
                    n.__esModule = !0, n.parse = r, n.default = function() {
                        return function(e, t) {
                            if (!e.data || e.type !== s.Resource.TYPE.XML) return void t();
                            if (0 === e.data.getElementsByTagName("page").length || 0 === e.data.getElementsByTagName("info").length || null === e.data.getElementsByTagName("info")[0].getAttribute("face")) return void t();
                            var n = e.isDataUrl ? "" : o.dirname(e.url);
                            e.isDataUrl && ("." === n && (n = ""), this.baseUrl && n && "/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (n += "/")), (n = n.replace(this.baseUrl, "")) && "/" !== n.charAt(n.length - 1) && (n += "/");
                            var i = n + e.data.getElementsByTagName("page")[0].getAttribute("file");
                            if (a.utils.TextureCache[i]) r(e, a.utils.TextureCache[i]), t();
                            else {
                                var u = {
                                    crossOrigin: e.crossOrigin,
                                    loadType: s.Resource.LOAD_TYPE.IMAGE,
                                    metadata: e.metadata.imageMetadata,
                                    parentResource: e
                                };
                                this.add(e.name + "_image", i, u, function(n) {
                                    r(e, n.texture), t()
                                })
                            }
                        }
                    };
                    var i = e("path"),
                        o = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(i),
                        a = e("../core"),
                        s = e("resource-loader"),
                        u = e("../extras")
                }, {
                    "../core": 64,
                    "../extras": 140,
                    path: 22,
                    "resource-loader": 35
                }],
                161: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0, n.shared = n.Resource = n.textureParser = n.getResourcePath = n.spritesheetParser = n.parseBitmapFontData = n.bitmapFontParser = n.Loader = void 0;
                    var i = e("./bitmapFontParser");
                    Object.defineProperty(n, "bitmapFontParser", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    }), Object.defineProperty(n, "parseBitmapFontData", {
                        enumerable: !0,
                        get: function() {
                            return i.parse
                        }
                    });
                    var o = e("./spritesheetParser");
                    Object.defineProperty(n, "spritesheetParser", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    }), Object.defineProperty(n, "getResourcePath", {
                        enumerable: !0,
                        get: function() {
                            return o.getResourcePath
                        }
                    });
                    var a = e("./textureParser");
                    Object.defineProperty(n, "textureParser", {
                        enumerable: !0,
                        get: function() {
                            return r(a).default
                        }
                    });
                    var s = e("resource-loader");
                    Object.defineProperty(n, "Resource", {
                        enumerable: !0,
                        get: function() {
                            return s.Resource
                        }
                    });
                    var u = e("../core/Application"),
                        l = r(u),
                        c = e("./loader"),
                        h = r(c);
                    n.Loader = h.default;
                    var d = new h.default;
                    d.destroy = function() {}, n.shared = d;
                    var f = l.default.prototype;
                    f._loader = null, Object.defineProperty(f, "loader", {
                        get: function() {
                            if (!this._loader) {
                                var e = this._options.sharedLoader;
                                this._loader = e ? d : new h.default
                            }
                            return this._loader
                        }
                    }), f._parentDestroy = f.destroy, f.destroy = function(e) {
                        this._loader && (this._loader.destroy(), this._loader = null), this._parentDestroy(e)
                    }
                }, {
                    "../core/Application": 42,
                    "./bitmapFontParser": 160,
                    "./loader": 162,
                    "./spritesheetParser": 163,
                    "./textureParser": 164,
                    "resource-loader": 35
                }],
                162: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("resource-loader"),
                        u = r(s),
                        l = e("resource-loader/lib/middlewares/parsing/blob"),
                        c = e("eventemitter3"),
                        h = r(c),
                        d = e("./textureParser"),
                        f = r(d),
                        p = e("./spritesheetParser"),
                        m = r(p),
                        g = e("./bitmapFontParser"),
                        _ = r(g),
                        y = function(e) {
                            function t(n, r) {
                                i(this, t);
                                var a = o(this, e.call(this, n, r));
                                h.default.call(a);
                                for (var s = 0; s < t._pixiMiddleware.length; ++s) a.use(t._pixiMiddleware[s]());
                                return a.onStart.add(function(e) {
                                    return a.emit("start", e)
                                }), a.onProgress.add(function(e, t) {
                                    return a.emit("progress", e, t)
                                }), a.onError.add(function(e, t, n) {
                                    return a.emit("error", e, t, n)
                                }), a.onLoad.add(function(e, t) {
                                    return a.emit("load", e, t)
                                }), a.onComplete.add(function(e, t) {
                                    return a.emit("complete", e, t)
                                }), a
                            }
                            return a(t, e), t.addPixiMiddleware = function(e) {
                                t._pixiMiddleware.push(e)
                            }, t.prototype.destroy = function() {
                                this.removeAllListeners(), this.reset()
                            }, t
                        }(u.default);
                    n.default = y;
                    for (var v in h.default.prototype) y.prototype[v] = h.default.prototype[v];
                    y._pixiMiddleware = [l.blobMiddlewareFactory, f.default, m.default, _.default];
                    var b = u.default.Resource;
                    b.setExtensionXhrType("fnt", b.XHR_RESPONSE_TYPE.DOCUMENT)
                }, {
                    "./bitmapFontParser": 160,
                    "./spritesheetParser": 163,
                    "./textureParser": 164,
                    eventemitter3: 3,
                    "resource-loader": 35,
                    "resource-loader/lib/middlewares/parsing/blob": 36
                }],
                163: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        return e.isDataUrl ? e.data.meta.image : a.default.resolve(e.url.replace(t, ""), e.data.meta.image)
                    }
                    n.__esModule = !0, n.default = function() {
                        return function(e, t) {
                            var n = e.name + "_image";
                            if (!e.data || e.type !== i.Resource.TYPE.JSON || !e.data.frames || this.resources[n]) return void t();
                            var o = {
                                    crossOrigin: e.crossOrigin,
                                    loadType: i.Resource.LOAD_TYPE.IMAGE,
                                    metadata: e.metadata.imageMetadata,
                                    parentResource: e
                                },
                                a = r(e, this.baseUrl);
                            this.add(n, a, o, function(n) {
                                var r = new s.Spritesheet(n.texture.baseTexture, e.data, e.url);
                                r.parse(function() {
                                    e.spritesheet = r, e.textures = r.textures, t()
                                })
                            })
                        }
                    }, n.getResourcePath = r;
                    var i = e("resource-loader"),
                        o = e("url"),
                        a = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(o),
                        s = e("../core")
                }, {
                    "../core": 64,
                    "resource-loader": 35,
                    url: 28
                }],
                164: [function(e, t, n) {
                    "use strict";
                    n.__esModule = !0, n.default = function() {
                        return function(e, t) {
                            e.data && e.type === r.Resource.TYPE.IMAGE && (e.texture = o.default.fromLoader(e.data, e.url, e.name)), t()
                        }
                    };
                    var r = e("resource-loader"),
                        i = e("../core/textures/Texture"),
                        o = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(i)
                }, {
                    "../core/textures/Texture": 114,
                    "resource-loader": 35
                }],
                165: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = e("../extras/TextureTransform"),
                        c = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(l),
                        h = new u.Point,
                        d = new u.Polygon,
                        f = function(e) {
                            function t(n, o, a, s, l) {
                                r(this, t);
                                var h = i(this, e.call(this));
                                return h._texture = n, h.uvs = a || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), h.vertices = o || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), h.indices = s || new Uint16Array([0, 1, 3, 2]), h.dirty = 0, h.indexDirty = 0, h.blendMode = u.BLEND_MODES.NORMAL, h.canvasPadding = 0, h.drawMode = l || t.DRAW_MODES.TRIANGLE_MESH, h.shader = null, h.tintRgb = new Float32Array([1, 1, 1]), h._glDatas = {}, h._uvTransform = new c.default(n), h.uploadUvTransform = !1, h.pluginName = "mesh", h
                            }
                            return o(t, e), t.prototype._renderWebGL = function(e) {
                                this.refresh(), e.setObjectRenderer(e.plugins[this.pluginName]), e.plugins[this.pluginName].render(this)
                            }, t.prototype._renderCanvas = function(e) {
                                this.refresh(), e.plugins[this.pluginName].render(this)
                            }, t.prototype._onTextureUpdate = function() {
                                this._uvTransform.texture = this._texture, this.refresh()
                            }, t.prototype.multiplyUvs = function() {
                                this.uploadUvTransform || this._uvTransform.multiplyUvs(this.uvs)
                            }, t.prototype.refresh = function(e) {
                                this._uvTransform.update(e) && this._refresh()
                            }, t.prototype._refresh = function() {}, t.prototype._calculateBounds = function() {
                                this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length)
                            }, t.prototype.containsPoint = function(e) {
                                if (!this.getBounds().contains(e.x, e.y)) return !1;
                                this.worldTransform.applyInverse(e, h);
                                for (var n = this.vertices, r = d.points, i = this.indices, o = this.indices.length, a = this.drawMode === t.DRAW_MODES.TRIANGLES ? 3 : 1, s = 0; s + 2 < o; s += a) {
                                    var u = 2 * i[s],
                                        l = 2 * i[s + 1],
                                        c = 2 * i[s + 2];
                                    if (r[0] = n[u], r[1] = n[u + 1], r[2] = n[l], r[3] = n[l + 1], r[4] = n[c], r[5] = n[c + 1], d.contains(h.x, h.y)) return !0
                                }
                                return !1
                            }, a(t, [{
                                key: "texture",
                                get: function() {
                                    return this._texture
                                },
                                set: function(e) {
                                    this._texture !== e && (this._texture = e, e && (e.baseTexture.hasLoaded ? this._onTextureUpdate() : e.once("update", this._onTextureUpdate, this)))
                                }
                            }, {
                                key: "tint",
                                get: function() {
                                    return u.utils.rgb2hex(this.tintRgb)
                                },
                                set: function(e) {
                                    this.tintRgb = u.utils.hex2rgb(e, this.tintRgb)
                                }
                            }]), t
                        }(u.Container);
                    n.default = f, f.DRAW_MODES = {
                        TRIANGLE_MESH: 0,
                        TRIANGLES: 1
                    }
                }, {
                    "../core": 64,
                    "../extras/TextureTransform": 135
                }],
                166: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("./Plane"),
                        u = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(s),
                        l = 10,
                        c = function(e) {
                            function t(n, o, a, s, u) {
                                r(this, t);
                                var c = i(this, e.call(this, n, 4, 4));
                                return c._origWidth = n.orig.width, c._origHeight = n.orig.height, c._width = c._origWidth, c._height = c._origHeight, c.leftWidth = void 0 !== o ? o : l, c.rightWidth = void 0 !== s ? s : l, c.topHeight = void 0 !== a ? a : l, c.bottomHeight = void 0 !== u ? u : l, c.refresh(!0), c
                            }
                            return o(t, e), t.prototype.updateHorizontalVertices = function() {
                                var e = this.vertices;
                                e[9] = e[11] = e[13] = e[15] = this._topHeight, e[17] = e[19] = e[21] = e[23] = this._height - this._bottomHeight, e[25] = e[27] = e[29] = e[31] = this._height
                            }, t.prototype.updateVerticalVertices = function() {
                                var e = this.vertices;
                                e[2] = e[10] = e[18] = e[26] = this._leftWidth, e[4] = e[12] = e[20] = e[28] = this._width - this._rightWidth, e[6] = e[14] = e[22] = e[30] = this._width
                            }, t.prototype._renderCanvas = function(e) {
                                var t = e.context;
                                t.globalAlpha = this.worldAlpha;
                                var n = this.worldTransform,
                                    r = e.resolution;
                                e.roundPixels ? t.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r | 0, n.ty * r | 0) : t.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r, n.ty * r);
                                var i = this._texture.baseTexture,
                                    o = i.source,
                                    a = i.width,
                                    s = i.height;
                                this.drawSegment(t, o, a, s, 0, 1, 10, 11), this.drawSegment(t, o, a, s, 2, 3, 12, 13), this.drawSegment(t, o, a, s, 4, 5, 14, 15), this.drawSegment(t, o, a, s, 8, 9, 18, 19), this.drawSegment(t, o, a, s, 10, 11, 20, 21), this.drawSegment(t, o, a, s, 12, 13, 22, 23), this.drawSegment(t, o, a, s, 16, 17, 26, 27), this.drawSegment(t, o, a, s, 18, 19, 28, 29), this.drawSegment(t, o, a, s, 20, 21, 30, 31)
                            }, t.prototype.drawSegment = function(e, t, n, r, i, o, a, s) {
                                var u = this.uvs,
                                    l = this.vertices,
                                    c = (u[a] - u[i]) * n,
                                    h = (u[s] - u[o]) * r,
                                    d = l[a] - l[i],
                                    f = l[s] - l[o];
                                c < 1 && (c = 1), h < 1 && (h = 1), d < 1 && (d = 1), f < 1 && (f = 1), e.drawImage(t, u[i] * n, u[o] * r, c, h, l[i], l[o], d, f)
                            }, t.prototype._refresh = function() {
                                e.prototype._refresh.call(this);
                                var t = this.uvs,
                                    n = this._texture;
                                this._origWidth = n.orig.width, this._origHeight = n.orig.height;
                                var r = 1 / this._origWidth,
                                    i = 1 / this._origHeight;
                                t[0] = t[8] = t[16] = t[24] = 0, t[1] = t[3] = t[5] = t[7] = 0, t[6] = t[14] = t[22] = t[30] = 1, t[25] = t[27] = t[29] = t[31] = 1, t[2] = t[10] = t[18] = t[26] = r * this._leftWidth, t[4] = t[12] = t[20] = t[28] = 1 - r * this._rightWidth, t[9] = t[11] = t[13] = t[15] = i * this._topHeight, t[17] = t[19] = t[21] = t[23] = 1 - i * this._bottomHeight, this.updateHorizontalVertices(), this.updateVerticalVertices(), this.dirty = !0, this.multiplyUvs()
                            }, a(t, [{
                                key: "width",
                                get: function() {
                                    return this._width
                                },
                                set: function(e) {
                                    this._width = e, this._refresh()
                                }
                            }, {
                                key: "height",
                                get: function() {
                                    return this._height
                                },
                                set: function(e) {
                                    this._height = e, this._refresh()
                                }
                            }, {
                                key: "leftWidth",
                                get: function() {
                                    return this._leftWidth
                                },
                                set: function(e) {
                                    this._leftWidth = e, this._refresh()
                                }
                            }, {
                                key: "rightWidth",
                                get: function() {
                                    return this._rightWidth
                                },
                                set: function(e) {
                                    this._rightWidth = e, this._refresh()
                                }
                            }, {
                                key: "topHeight",
                                get: function() {
                                    return this._topHeight
                                },
                                set: function(e) {
                                    this._topHeight = e, this._refresh()
                                }
                            }, {
                                key: "bottomHeight",
                                get: function() {
                                    return this._bottomHeight
                                },
                                set: function(e) {
                                    this._bottomHeight = e, this._refresh()
                                }
                            }]), t
                        }(u.default);
                    n.default = c
                }, {
                    "./Plane": 167
                }],
                167: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("./Mesh"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = function(e) {
                            function t(n, o, a) {
                                r(this, t);
                                var u = i(this, e.call(this, n));
                                return u._ready = !0, u.verticesX = o || 10, u.verticesY = a || 10, u.drawMode = s.default.DRAW_MODES.TRIANGLES, u.refresh(), u
                            }
                            return o(t, e), t.prototype._refresh = function() {
                                for (var e = this._texture, t = this.verticesX * this.verticesY, n = [], r = [], i = [], o = [], a = this.verticesX - 1, s = this.verticesY - 1, u = e.width / a, l = e.height / s, c = 0; c < t; c++) {
                                    var h = c % this.verticesX,
                                        d = c / this.verticesX | 0;
                                    n.push(h * u, d * l), i.push(h / a, d / s)
                                }
                                for (var f = a * s, p = 0; p < f; p++) {
                                    var m = p % a,
                                        g = p / a | 0,
                                        _ = g * this.verticesX + m,
                                        y = g * this.verticesX + m + 1,
                                        v = (g + 1) * this.verticesX + m,
                                        b = (g + 1) * this.verticesX + m + 1;
                                    o.push(_, y, v), o.push(y, b, v)
                                }
                                this.vertices = new Float32Array(n), this.uvs = new Float32Array(i), this.colors = new Float32Array(r), this.indices = new Uint16Array(o), this.indexDirty = !0, this.multiplyUvs()
                            }, t.prototype._onTextureUpdate = function() {
                                s.default.prototype._onTextureUpdate.call(this), this._ready && this.refresh()
                            }, t
                        }(s.default);
                    n.default = u
                }, {
                    "./Mesh": 165
                }],
                168: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("./Mesh"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = function(e) {
                            function t(n, o) {
                                r(this, t);
                                var a = i(this, e.call(this, n));
                                return a.points = o, a.vertices = new Float32Array(4 * o.length), a.uvs = new Float32Array(4 * o.length), a.colors = new Float32Array(2 * o.length), a.indices = new Uint16Array(2 * o.length), a.autoUpdate = !0, a.refresh(), a
                            }
                            return o(t, e), t.prototype._refresh = function() {
                                var e = this.points;
                                if (!(e.length < 1) && this._texture._uvs) {
                                    this.vertices.length / 4 !== e.length && (this.vertices = new Float32Array(4 * e.length), this.uvs = new Float32Array(4 * e.length), this.colors = new Float32Array(2 * e.length), this.indices = new Uint16Array(2 * e.length));
                                    var t = this.uvs,
                                        n = this.indices,
                                        r = this.colors;
                                    t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 1, r[0] = 1, r[1] = 1, n[0] = 0, n[1] = 1;
                                    for (var i = e.length, o = 1; o < i; o++) {
                                        var a = 4 * o,
                                            s = o / (i - 1);
                                        t[a] = s, t[a + 1] = 0, t[a + 2] = s, t[a + 3] = 1, a = 2 * o, r[a] = 1, r[a + 1] = 1, a = 2 * o, n[a] = a, n[a + 1] = a + 1
                                    }
                                    this.dirty++, this.indexDirty++, this.multiplyUvs(), this.refreshVertices()
                                }
                            }, t.prototype.refreshVertices = function() {
                                var e = this.points;
                                if (!(e.length < 1))
                                    for (var t = e[0], n = void 0, r = 0, i = 0, o = this.vertices, a = e.length, s = 0; s < a; s++) {
                                        var u = e[s],
                                            l = 4 * s;
                                        n = s < e.length - 1 ? e[s + 1] : u, i = -(n.x - t.x), r = n.y - t.y;
                                        var c = 10 * (1 - s / (a - 1));
                                        c > 1 && (c = 1);
                                        var h = Math.sqrt(r * r + i * i),
                                            d = this._texture.height / 2;
                                        r /= h, i /= h, r *= d, i *= d, o[l] = u.x + r, o[l + 1] = u.y + i, o[l + 2] = u.x - r, o[l + 3] = u.y - i, t = u
                                    }
                            }, t.prototype.updateTransform = function() {
                                this.autoUpdate && this.refreshVertices(), this.containerUpdateTransform()
                            }, t
                        }(s.default);
                    n.default = u
                }, {
                    "./Mesh": 165
                }],
                169: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = e("../../core"),
                        o = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(i),
                        a = e("../Mesh"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = function() {
                            function e(t) {
                                r(this, e), this.renderer = t
                            }
                            return e.prototype.render = function(e) {
                                var t = this.renderer,
                                    n = t.context,
                                    r = e.worldTransform,
                                    i = t.resolution;
                                t.roundPixels ? n.setTransform(r.a * i, r.b * i, r.c * i, r.d * i, r.tx * i | 0, r.ty * i | 0) : n.setTransform(r.a * i, r.b * i, r.c * i, r.d * i, r.tx * i, r.ty * i), t.setBlendMode(e.blendMode), e.drawMode === s.default.DRAW_MODES.TRIANGLE_MESH ? this._renderTriangleMesh(e) : this._renderTriangles(e)
                            }, e.prototype._renderTriangleMesh = function(e) {
                                for (var t = e.vertices.length / 2, n = 0; n < t - 2; n++) {
                                    var r = 2 * n;
                                    this._renderDrawTriangle(e, r, r + 2, r + 4)
                                }
                            }, e.prototype._renderTriangles = function(e) {
                                for (var t = e.indices, n = t.length, r = 0; r < n; r += 3) {
                                    var i = 2 * t[r],
                                        o = 2 * t[r + 1],
                                        a = 2 * t[r + 2];
                                    this._renderDrawTriangle(e, i, o, a)
                                }
                            }, e.prototype._renderDrawTriangle = function(e, t, n, r) {
                                var i = this.renderer.context,
                                    o = e.uvs,
                                    a = e.vertices,
                                    s = e._texture;
                                if (s.valid) {
                                    var u = s.baseTexture,
                                        l = u.source,
                                        c = u.width,
                                        h = u.height,
                                        d = void 0,
                                        f = void 0,
                                        p = void 0,
                                        m = void 0,
                                        g = void 0,
                                        _ = void 0;
                                    if (e.uploadUvTransform) {
                                        var y = e._uvTransform.mapCoord;
                                        d = (o[t] * y.a + o[t + 1] * y.c + y.tx) * u.width, f = (o[n] * y.a + o[n + 1] * y.c + y.tx) * u.width, p = (o[r] * y.a + o[r + 1] * y.c + y.tx) * u.width, m = (o[t] * y.b + o[t + 1] * y.d + y.ty) * u.height, g = (o[n] * y.b + o[n + 1] * y.d + y.ty) * u.height, _ = (o[r] * y.b + o[r + 1] * y.d + y.ty) * u.height
                                    } else d = o[t] * u.width, f = o[n] * u.width, p = o[r] * u.width, m = o[t + 1] * u.height, g = o[n + 1] * u.height, _ = o[r + 1] * u.height;
                                    var v = a[t],
                                        b = a[n],
                                        x = a[r],
                                        T = a[t + 1],
                                        w = a[n + 1],
                                        S = a[r + 1];
                                    if (e.canvasPadding > 0) {
                                        var E = e.canvasPadding / e.worldTransform.a,
                                            C = e.canvasPadding / e.worldTransform.d,
                                            P = (v + b + x) / 3,
                                            O = (T + w + S) / 3,
                                            A = v - P,
                                            M = T - O,
                                            I = Math.sqrt(A * A + M * M);
                                        v = P + A / I * (I + E), T = O + M / I * (I + C), A = b - P, M = w - O, I = Math.sqrt(A * A + M * M), b = P + A / I * (I + E), w = O + M / I * (I + C), A = x - P, M = S - O, I = Math.sqrt(A * A + M * M), x = P + A / I * (I + E), S = O + M / I * (I + C)
                                    }
                                    i.save(), i.beginPath(), i.moveTo(v, T), i.lineTo(b, w), i.lineTo(x, S), i.closePath(), i.clip();
                                    var R = d * g + m * p + f * _ - g * p - m * f - d * _,
                                        D = v * g + m * x + b * _ - g * x - m * b - v * _,
                                        L = d * b + v * p + f * x - b * p - v * f - d * x,
                                        k = d * g * x + m * b * p + v * f * _ - v * g * p - m * f * x - d * b * _,
                                        B = T * g + m * S + w * _ - g * S - m * w - T * _,
                                        N = d * w + T * p + f * S - w * p - T * f - d * S,
                                        F = d * g * S + m * w * p + T * f * _ - T * g * p - m * f * S - d * w * _;
                                    i.transform(D / R, B / R, L / R, N / R, k / R, F / R), i.drawImage(l, 0, 0, c * u.resolution, h * u.resolution, 0, 0, c, h), i.restore()
                                }
                            }, e.prototype.renderMeshFlat = function(e) {
                                var t = this.renderer.context,
                                    n = e.vertices,
                                    r = n.length / 2;
                                t.beginPath();
                                for (var i = 1; i < r - 2; ++i) {
                                    var o = 2 * i,
                                        a = n[o],
                                        s = n[o + 1],
                                        u = n[o + 2],
                                        l = n[o + 3],
                                        c = n[o + 4],
                                        h = n[o + 5];
                                    t.moveTo(a, s), t.lineTo(u, l), t.lineTo(c, h)
                                }
                                t.fillStyle = "#FF0000", t.fill(), t.closePath()
                            }, e.prototype.destroy = function() {
                                this.renderer = null
                            }, e
                        }();
                    n.default = u, o.CanvasRenderer.registerPlugin("mesh", u)
                }, {
                    "../../core": 64,
                    "../Mesh": 165
                }],
                170: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./Mesh");
                    Object.defineProperty(n, "Mesh", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./webgl/MeshRenderer");
                    Object.defineProperty(n, "MeshRenderer", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    });
                    var a = e("./canvas/CanvasMeshRenderer");
                    Object.defineProperty(n, "CanvasMeshRenderer", {
                        enumerable: !0,
                        get: function() {
                            return r(a).default
                        }
                    });
                    var s = e("./Plane");
                    Object.defineProperty(n, "Plane", {
                        enumerable: !0,
                        get: function() {
                            return r(s).default
                        }
                    });
                    var u = e("./NineSlicePlane");
                    Object.defineProperty(n, "NineSlicePlane", {
                        enumerable: !0,
                        get: function() {
                            return r(u).default
                        }
                    });
                    var l = e("./Rope");
                    Object.defineProperty(n, "Rope", {
                        enumerable: !0,
                        get: function() {
                            return r(l).default
                        }
                    })
                }, {
                    "./Mesh": 165,
                    "./NineSlicePlane": 166,
                    "./Plane": 167,
                    "./Rope": 168,
                    "./canvas/CanvasMeshRenderer": 169,
                    "./webgl/MeshRenderer": 171
                }],
                171: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("../../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = e("pixi-gl-core"),
                        c = r(l),
                        h = e("../Mesh"),
                        d = r(h),
                        f = (e("path"), u.Matrix.IDENTITY),
                        p = function(e) {
                            function t(n) {
                                i(this, t);
                                var r = o(this, e.call(this, n));
                                return r.shader = null, r
                            }
                            return a(t, e), t.prototype.onContextChange = function() {
                                var e = this.renderer.gl;
                                this.shader = new u.Shader(e, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")
                            }, t.prototype.render = function(e) {
                                var t = this.renderer,
                                    n = t.gl,
                                    r = e._texture;
                                if (r.valid) {
                                    var i = e._glDatas[t.CONTEXT_UID];
                                    i || (t.bindVao(null), i = {
                                        shader: this.shader,
                                        vertexBuffer: c.default.GLBuffer.createVertexBuffer(n, e.vertices, n.STREAM_DRAW),
                                        uvBuffer: c.default.GLBuffer.createVertexBuffer(n, e.uvs, n.STREAM_DRAW),
                                        indexBuffer: c.default.GLBuffer.createIndexBuffer(n, e.indices, n.STATIC_DRAW),
                                        vao: null,
                                        dirty: e.dirty,
                                        indexDirty: e.indexDirty
                                    }, i.vao = new c.default.VertexArrayObject(n).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer, i.shader.attributes.aVertexPosition, n.FLOAT, !1, 8, 0).addAttribute(i.uvBuffer, i.shader.attributes.aTextureCoord, n.FLOAT, !1, 8, 0), e._glDatas[t.CONTEXT_UID] = i), t.bindVao(i.vao), e.dirty !== i.dirty && (i.dirty = e.dirty, i.uvBuffer.upload(e.uvs)), e.indexDirty !== i.indexDirty && (i.indexDirty = e.indexDirty, i.indexBuffer.upload(e.indices)), i.vertexBuffer.upload(e.vertices), t.bindShader(i.shader), i.shader.uniforms.uSampler = t.bindTexture(r), t.state.setBlendMode(u.utils.correctBlendMode(e.blendMode, r.baseTexture.premultipliedAlpha)), i.shader.uniforms.uTransform && (e.uploadUvTransform ? i.shader.uniforms.uTransform = e._uvTransform.mapCoord.toArray(!0) : i.shader.uniforms.uTransform = f.toArray(!0)), i.shader.uniforms.translationMatrix = e.worldTransform.toArray(!0), i.shader.uniforms.uColor = u.utils.premultiplyRgba(e.tintRgb, e.worldAlpha, i.shader.uniforms.uColor, r.baseTexture.premultipliedAlpha);
                                    var o = e.drawMode === d.default.DRAW_MODES.TRIANGLE_MESH ? n.TRIANGLE_STRIP : n.TRIANGLES;
                                    i.vao.draw(o, e.indices.length, 0)
                                }
                            }, t
                        }(u.ObjectRenderer);
                    n.default = p, u.WebGLRenderer.registerPlugin("mesh", p)
                }, {
                    "../../core": 64,
                    "../Mesh": 165,
                    path: 22,
                    "pixi-gl-core": 12
                }],
                172: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                                }
                            }
                            return function(t, n, r) {
                                return n && e(t.prototype, n), r && e(t, r), t
                            }
                        }(),
                        s = e("../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = e("../core/utils"),
                        c = function(e) {
                            function t() {
                                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1500,
                                    o = arguments[1],
                                    a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16384;
                                r(this, t);
                                var s = i(this, e.call(this));
                                return a > 16384 && (a = 16384), a > n && (a = n), s._properties = [!1, !0, !1, !1, !1], s._maxSize = n, s._batchSize = a, s._glBuffers = {}, s._bufferToUpdate = 0, s.interactiveChildren = !1, s.blendMode = u.BLEND_MODES.NORMAL, s.roundPixels = !0, s.baseTexture = null, s.setProperties(o), s._tint = 0, s.tintRgb = new Float32Array(4), s.tint = 16777215, s
                            }
                            return o(t, e), t.prototype.setProperties = function(e) {
                                e && (this._properties[0] = "scale" in e ? !!e.scale : this._properties[0], this._properties[1] = "position" in e ? !!e.position : this._properties[1], this._properties[2] = "rotation" in e ? !!e.rotation : this._properties[2], this._properties[3] = "uvs" in e ? !!e.uvs : this._properties[3], this._properties[4] = "alpha" in e ? !!e.alpha : this._properties[4])
                            }, t.prototype.updateTransform = function() {
                                this.displayObjectUpdateTransform()
                            }, t.prototype.renderWebGL = function(e) {
                                var t = this;
                                this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.hasLoaded || this.baseTexture.once("update", function() {
                                    return t.onChildrenChange(0)
                                })), e.setObjectRenderer(e.plugins.particle), e.plugins.particle.render(this))
                            }, t.prototype.onChildrenChange = function(e) {
                                var t = Math.floor(e / this._batchSize);
                                t < this._bufferToUpdate && (this._bufferToUpdate = t)
                            }, t.prototype.renderCanvas = function(e) {
                                if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
                                    var t = e.context,
                                        n = this.worldTransform,
                                        r = !0,
                                        i = 0,
                                        o = 0,
                                        a = 0,
                                        s = 0,
                                        u = e.blendModes[this.blendMode];
                                    u !== t.globalCompositeOperation && (t.globalCompositeOperation = u), t.globalAlpha = this.worldAlpha, this.displayObjectUpdateTransform();
                                    for (var l = 0; l < this.children.length; ++l) {
                                        var c = this.children[l];
                                        if (c.visible) {
                                            var h = c._texture.frame;
                                            if (t.globalAlpha = this.worldAlpha * c.alpha, c.rotation % (2 * Math.PI) == 0) r && (t.setTransform(n.a, n.b, n.c, n.d, n.tx * e.resolution, n.ty * e.resolution), r = !1), i = c.anchor.x * (-h.width * c.scale.x) + c.position.x + .5, o = c.anchor.y * (-h.height * c.scale.y) + c.position.y + .5, a = h.width * c.scale.x, s = h.height * c.scale.y;
                                            else {
                                                r || (r = !0), c.displayObjectUpdateTransform();
                                                var d = c.worldTransform;
                                                e.roundPixels ? t.setTransform(d.a, d.b, d.c, d.d, d.tx * e.resolution | 0, d.ty * e.resolution | 0) : t.setTransform(d.a, d.b, d.c, d.d, d.tx * e.resolution, d.ty * e.resolution), i = c.anchor.x * -h.width + .5, o = c.anchor.y * -h.height + .5, a = h.width, s = h.height
                                            }
                                            var f = c._texture.baseTexture.resolution;
                                            t.drawImage(c._texture.baseTexture.source, h.x * f, h.y * f, h.width * f, h.height * f, i * e.resolution, o * e.resolution, a * e.resolution, s * e.resolution)
                                        }
                                    }
                                }
                            }, t.prototype.destroy = function(t) {
                                if (e.prototype.destroy.call(this, t), this._buffers)
                                    for (var n = 0; n < this._buffers.length; ++n) this._buffers[n].destroy();
                                this._properties = null, this._buffers = null
                            }, a(t, [{
                                key: "tint",
                                get: function() {
                                    return this._tint
                                },
                                set: function(e) {
                                    this._tint = e, (0, l.hex2rgb)(e, this.tintRgb)
                                }
                            }]), t
                        }(u.Container);
                    n.default = c
                }, {
                    "../core": 64,
                    "../core/utils": 123
                }],
                173: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./ParticleContainer");
                    Object.defineProperty(n, "ParticleContainer", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./webgl/ParticleRenderer");
                    Object.defineProperty(n, "ParticleRenderer", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    })
                }, {
                    "./ParticleContainer": 172,
                    "./webgl/ParticleRenderer": 175
                }],
                174: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var o = e("pixi-gl-core"),
                        a = r(o),
                        s = e("../../core/utils/createIndicesForQuads"),
                        u = r(s),
                        l = function() {
                            function e(t, n, r, o) {
                                i(this, e), this.gl = t, this.vertSize = 2, this.vertByteSize = 4 * this.vertSize, this.size = o, this.dynamicProperties = [], this.staticProperties = [];
                                for (var a = 0; a < n.length; ++a) {
                                    var s = n[a];
                                    s = {
                                        attribute: s.attribute,
                                        size: s.size,
                                        uploadFunction: s.uploadFunction,
                                        offset: s.offset
                                    }, r[a] ? this.dynamicProperties.push(s) : this.staticProperties.push(s)
                                }
                                this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.initBuffers()
                            }
                            return e.prototype.initBuffers = function() {
                                var e = this.gl,
                                    t = 0;
                                this.indices = (0, u.default)(this.size), this.indexBuffer = a.default.GLBuffer.createIndexBuffer(e, this.indices, e.STATIC_DRAW), this.dynamicStride = 0;
                                for (var n = 0; n < this.dynamicProperties.length; ++n) {
                                    var r = this.dynamicProperties[n];
                                    r.offset = t, t += r.size, this.dynamicStride += r.size
                                }
                                this.dynamicData = new Float32Array(this.size * this.dynamicStride * 4), this.dynamicBuffer = a.default.GLBuffer.createVertexBuffer(e, this.dynamicData, e.STREAM_DRAW);
                                var i = 0;
                                this.staticStride = 0;
                                for (var o = 0; o < this.staticProperties.length; ++o) {
                                    var s = this.staticProperties[o];
                                    s.offset = i, i += s.size, this.staticStride += s.size
                                }
                                this.staticData = new Float32Array(this.size * this.staticStride * 4), this.staticBuffer = a.default.GLBuffer.createVertexBuffer(e, this.staticData, e.STATIC_DRAW), this.vao = new a.default.VertexArrayObject(e).addIndex(this.indexBuffer);
                                for (var l = 0; l < this.dynamicProperties.length; ++l) {
                                    var c = this.dynamicProperties[l];
                                    this.vao.addAttribute(this.dynamicBuffer, c.attribute, e.FLOAT, !1, 4 * this.dynamicStride, 4 * c.offset)
                                }
                                for (var h = 0; h < this.staticProperties.length; ++h) {
                                    var d = this.staticProperties[h];
                                    this.vao.addAttribute(this.staticBuffer, d.attribute, e.FLOAT, !1, 4 * this.staticStride, 4 * d.offset)
                                }
                            }, e.prototype.uploadDynamic = function(e, t, n) {
                                for (var r = 0; r < this.dynamicProperties.length; r++) {
                                    var i = this.dynamicProperties[r];
                                    i.uploadFunction(e, t, n, this.dynamicData, this.dynamicStride, i.offset)
                                }
                                this.dynamicBuffer.upload()
                            }, e.prototype.uploadStatic = function(e, t, n) {
                                for (var r = 0; r < this.staticProperties.length; r++) {
                                    var i = this.staticProperties[r];
                                    i.uploadFunction(e, t, n, this.staticData, this.staticStride, i.offset)
                                }
                                this.staticBuffer.upload()
                            }, e.prototype.destroy = function() {
                                this.dynamicProperties = null, this.dynamicData = null, this.dynamicBuffer.destroy(), this.staticProperties = null, this.staticData = null, this.staticBuffer.destroy()
                            }, e
                        }();
                    n.default = l
                }, {
                    "../../core/utils/createIndicesForQuads": 121,
                    "pixi-gl-core": 12
                }],
                175: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }

                    function i(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function o(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function a(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var s = e("../../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = e("./ParticleShader"),
                        c = r(l),
                        h = e("./ParticleBuffer"),
                        d = r(h),
                        f = function(e) {
                            function t(n) {
                                i(this, t);
                                var r = o(this, e.call(this, n));
                                return r.shader = null, r.indexBuffer = null, r.properties = null, r.tempMatrix = new u.Matrix, r.CONTEXT_UID = 0, r
                            }
                            return a(t, e), t.prototype.onContextChange = function() {
                                var e = this.renderer.gl;
                                this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.shader = new c.default(e), this.properties = [{
                                    attribute: this.shader.attributes.aVertexPosition,
                                    size: 2,
                                    uploadFunction: this.uploadVertices,
                                    offset: 0
                                }, {
                                    attribute: this.shader.attributes.aPositionCoord,
                                    size: 2,
                                    uploadFunction: this.uploadPosition,
                                    offset: 0
                                }, {
                                    attribute: this.shader.attributes.aRotation,
                                    size: 1,
                                    uploadFunction: this.uploadRotation,
                                    offset: 0
                                }, {
                                    attribute: this.shader.attributes.aTextureCoord,
                                    size: 2,
                                    uploadFunction: this.uploadUvs,
                                    offset: 0
                                }, {
                                    attribute: this.shader.attributes.aColor,
                                    size: 1,
                                    uploadFunction: this.uploadAlpha,
                                    offset: 0
                                }]
                            }, t.prototype.start = function() {
                                this.renderer.bindShader(this.shader)
                            }, t.prototype.render = function(e) {
                                var t = e.children,
                                    n = e._maxSize,
                                    r = e._batchSize,
                                    i = this.renderer,
                                    o = t.length;
                                if (0 !== o) {
                                    o > n && (o = n);
                                    var a = e._glBuffers[i.CONTEXT_UID];
                                    a || (a = e._glBuffers[i.CONTEXT_UID] = this.generateBuffers(e));
                                    var s = t[0]._texture.baseTexture;
                                    this.renderer.setBlendMode(u.utils.correctBlendMode(e.blendMode, s.premultipliedAlpha));
                                    var l = i.gl,
                                        c = e.worldTransform.copy(this.tempMatrix);
                                    c.prepend(i._activeRenderTarget.projectionMatrix), this.shader.uniforms.projectionMatrix = c.toArray(!0), this.shader.uniforms.uColor = u.utils.premultiplyRgba(e.tintRgb, e.worldAlpha, this.shader.uniforms.uColor, s.premultipliedAlpha), this.shader.uniforms.uSampler = i.bindTexture(s);
                                    for (var h = 0, d = 0; h < o; h += r, d += 1) {
                                        var f = o - h;
                                        f > r && (f = r);
                                        var p = a[d];
                                        p.uploadDynamic(t, h, f), e._bufferToUpdate === d && (p.uploadStatic(t, h, f), e._bufferToUpdate = d + 1), i.bindVao(p.vao), p.vao.draw(l.TRIANGLES, 6 * f)
                                    }
                                }
                            }, t.prototype.generateBuffers = function(e) {
                                for (var t = this.renderer.gl, n = [], r = e._maxSize, i = e._batchSize, o = e._properties, a = 0; a < r; a += i) n.push(new d.default(t, this.properties, o, i));
                                return n
                            }, t.prototype.uploadVertices = function(e, t, n, r, i, o) {
                                for (var a = 0, s = 0, u = 0, l = 0, c = 0; c < n; ++c) {
                                    var h = e[t + c],
                                        d = h._texture,
                                        f = h.scale.x,
                                        p = h.scale.y,
                                        m = d.trim,
                                        g = d.orig;
                                    m ? (s = m.x - h.anchor.x * g.width, a = s + m.width, l = m.y - h.anchor.y * g.height, u = l + m.height) : (a = g.width * (1 - h.anchor.x), s = g.width * -h.anchor.x, u = g.height * (1 - h.anchor.y), l = g.height * -h.anchor.y), r[o] = s * f, r[o + 1] = l * p, r[o + i] = a * f, r[o + i + 1] = l * p, r[o + 2 * i] = a * f, r[o + 2 * i + 1] = u * p, r[o + 3 * i] = s * f, r[o + 3 * i + 1] = u * p, o += 4 * i
                                }
                            }, t.prototype.uploadPosition = function(e, t, n, r, i, o) {
                                for (var a = 0; a < n; a++) {
                                    var s = e[t + a].position;
                                    r[o] = s.x, r[o + 1] = s.y, r[o + i] = s.x, r[o + i + 1] = s.y, r[o + 2 * i] = s.x, r[o + 2 * i + 1] = s.y, r[o + 3 * i] = s.x, r[o + 3 * i + 1] = s.y, o += 4 * i
                                }
                            }, t.prototype.uploadRotation = function(e, t, n, r, i, o) {
                                for (var a = 0; a < n; a++) {
                                    var s = e[t + a].rotation;
                                    r[o] = s, r[o + i] = s, r[o + 2 * i] = s, r[o + 3 * i] = s, o += 4 * i
                                }
                            }, t.prototype.uploadUvs = function(e, t, n, r, i, o) {
                                for (var a = 0; a < n; ++a) {
                                    var s = e[t + a]._texture._uvs;
                                    s ? (r[o] = s.x0, r[o + 1] = s.y0, r[o + i] = s.x1, r[o + i + 1] = s.y1, r[o + 2 * i] = s.x2, r[o + 2 * i + 1] = s.y2, r[o + 3 * i] = s.x3, r[o + 3 * i + 1] = s.y3, o += 4 * i) : (r[o] = 0, r[o + 1] = 0, r[o + i] = 0, r[o + i + 1] = 0, r[o + 2 * i] = 0, r[o + 2 * i + 1] = 0, r[o + 3 * i] = 0, r[o + 3 * i + 1] = 0, o += 4 * i)
                                }
                            }, t.prototype.uploadAlpha = function(e, t, n, r, i, o) {
                                for (var a = 0; a < n; a++) {
                                    var s = e[t + a].alpha;
                                    r[o] = s, r[o + i] = s, r[o + 2 * i] = s, r[o + 3 * i] = s, o += 4 * i
                                }
                            }, t.prototype.destroy = function() {
                                this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer), e.prototype.destroy.call(this), this.shader.destroy(), this.indices = null, this.tempMatrix = null
                            }, t
                        }(u.ObjectRenderer);
                    n.default = f, u.WebGLRenderer.registerPlugin("particle", f)
                }, {
                    "../../core": 64,
                    "./ParticleBuffer": 174,
                    "./ParticleShader": 176
                }],
                176: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }
                    n.__esModule = !0;
                    var a = e("../../core/Shader"),
                        s = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(a),
                        u = function(e) {
                            function t(n) {
                                return r(this, t), i(this, e.call(this, n, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "attribute vec2 aPositionCoord;", "attribute vec2 aScale;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying float vColor;", "void main(void){", "   vec2 v = aVertexPosition;", "   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor;", "}"].join("\n"), ["varying vec2 vTextureCoord;", "varying float vColor;", "uniform sampler2D uSampler;", "uniform vec4 uColor;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uColor;", "  if (color.a == 0.0) discard;", "  gl_FragColor = color;", "}"].join("\n")))
                            }
                            return o(t, e), t
                        }(s.default);
                    n.default = u
                }, {
                    "../../core/Shader": 43
                }],
                177: [function(e, t, n) {
                    "use strict";
                    Math.sign || (Math.sign = function(e) {
                        return e = Number(e), 0 === e || isNaN(e) ? e : e > 0 ? 1 : -1
                    })
                }, {}],
                178: [function(e, t, n) {
                    "use strict";
                    var r = e("object-assign"),
                        i = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(r);
                    Object.assign || (Object.assign = i.default)
                }, {
                    "object-assign": 5
                }],
                179: [function(e, t, n) {
                    "use strict";
                    e("./Object.assign"), e("./requestAnimationFrame"), e("./Math.sign"), window.ArrayBuffer || (window.ArrayBuffer = Array), window.Float32Array || (window.Float32Array = Array), window.Uint32Array || (window.Uint32Array = Array), window.Uint16Array || (window.Uint16Array = Array)
                }, {
                    "./Math.sign": 177,
                    "./Object.assign": 178,
                    "./requestAnimationFrame": 180
                }],
                180: [function(e, t, n) {
                    (function(e) {
                        "use strict";
                        Date.now && Date.prototype.getTime || (Date.now = function() {
                            return (new Date).getTime()
                        }), e.performance && e.performance.now || function() {
                            var t = Date.now();
                            e.performance || (e.performance = {}), e.performance.now = function() {
                                return Date.now() - t
                            }
                        }();
                        for (var t = Date.now(), n = ["ms", "moz", "webkit", "o"], r = 0; r < n.length && !e.requestAnimationFrame; ++r) {
                            var i = n[r];
                            e.requestAnimationFrame = e[i + "RequestAnimationFrame"], e.cancelAnimationFrame = e[i + "CancelAnimationFrame"] || e[i + "CancelRequestAnimationFrame"]
                        }
                        e.requestAnimationFrame || (e.requestAnimationFrame = function(e) {
                            if ("function" != typeof e) throw new TypeError(e + "is not a function");
                            var n = Date.now(),
                                r = 16 + t - n;
                            return r < 0 && (r = 0), t = n, setTimeout(function() {
                                t = Date.now(), e(performance.now())
                            }, r)
                        }), e.cancelAnimationFrame || (e.cancelAnimationFrame = function(e) {
                            return clearTimeout(e)
                        })
                    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                }, {}],
                181: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        var n = !1;
                        if (e && e._textures && e._textures.length)
                            for (var r = 0; r < e._textures.length; r++)
                                if (e._textures[r] instanceof d.Texture) {
                                    var i = e._textures[r].baseTexture; - 1 === t.indexOf(i) && (t.push(i), n = !0)
                                }
                        return n
                    }

                    function o(e, t) {
                        return e instanceof d.BaseTexture && (-1 === t.indexOf(e) && t.push(e), !0)
                    }

                    function a(e, t) {
                        if (e._texture && e._texture instanceof d.Texture) {
                            var n = e._texture.baseTexture;
                            return -1 === t.indexOf(n) && t.push(n), !0
                        }
                        return !1
                    }

                    function s(e, t) {
                        return t instanceof d.Text && (t.updateText(!0), !0)
                    }

                    function u(e, t) {
                        if (t instanceof d.TextStyle) {
                            var n = t.toFontString();
                            return d.TextMetrics.measureFont(n), !0
                        }
                        return !1
                    }

                    function l(e, t) {
                        if (e instanceof d.Text) {
                            -1 === t.indexOf(e.style) && t.push(e.style), -1 === t.indexOf(e) && t.push(e);
                            var n = e._texture.baseTexture;
                            return -1 === t.indexOf(n) && t.push(n), !0
                        }
                        return !1
                    }

                    function c(e, t) {
                        return e instanceof d.TextStyle && (-1 === t.indexOf(e) && t.push(e), !0)
                    }
                    n.__esModule = !0;
                    var h = e("../core"),
                        d = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(h),
                        f = e("./limiters/CountLimiter"),
                        p = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(f),
                        m = d.ticker.shared;
                    d.settings.UPLOADS_PER_FRAME = 4;
                    var g = function() {
                        function e(t) {
                            var n = this;
                            r(this, e), this.limiter = new p.default(d.settings.UPLOADS_PER_FRAME), this.renderer = t, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = !1, this.delayedTick = function() {
                                n.queue && n.prepareItems()
                            }, this.registerFindHook(l), this.registerFindHook(c), this.registerFindHook(i), this.registerFindHook(o), this.registerFindHook(a), this.registerUploadHook(s), this.registerUploadHook(u)
                        }
                        return e.prototype.upload = function(e, t) {
                            "function" == typeof e && (t = e, e = null), e && this.add(e), this.queue.length ? (t && this.completes.push(t), this.ticking || (this.ticking = !0, m.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY))) : t && t()
                        }, e.prototype.tick = function() {
                            setTimeout(this.delayedTick, 0)
                        }, e.prototype.prepareItems = function() {
                            for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload();) {
                                var e = this.queue[0],
                                    t = !1;
                                if (e && !e._destroyed)
                                    for (var n = 0, r = this.uploadHooks.length; n < r; n++)
                                        if (this.uploadHooks[n](this.uploadHookHelper, e)) {
                                            this.queue.shift(), t = !0;
                                            break
                                        }
                                t || this.queue.shift()
                            }
                            if (this.queue.length) m.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY);
                            else {
                                this.ticking = !1;
                                var i = this.completes.slice(0);
                                this.completes.length = 0;
                                for (var o = 0, a = i.length; o < a; o++) i[o]()
                            }
                        }, e.prototype.registerFindHook = function(e) {
                            return e && this.addHooks.push(e), this
                        }, e.prototype.registerUploadHook = function(e) {
                            return e && this.uploadHooks.push(e), this
                        }, e.prototype.add = function(e) {
                            for (var t = 0, n = this.addHooks.length; t < n && !this.addHooks[t](e, this.queue); t++);
                            if (e instanceof d.Container)
                                for (var r = e.children.length - 1; r >= 0; r--) this.add(e.children[r]);
                            return this
                        }, e.prototype.destroy = function() {
                            this.ticking && m.remove(this.tick, this), this.ticking = !1, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null
                        }, e
                    }();
                    n.default = g
                }, {
                    "../core": 64,
                    "./limiters/CountLimiter": 184
                }],
                182: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }

                    function a(e, t) {
                        if (t instanceof u.BaseTexture) {
                            var n = t.source,
                                r = 0 === n.width ? e.canvas.width : Math.min(e.canvas.width, n.width),
                                i = 0 === n.height ? e.canvas.height : Math.min(e.canvas.height, n.height);
                            return e.ctx.drawImage(n, 0, 0, r, i, 0, 0, e.canvas.width, e.canvas.height), !0
                        }
                        return !1
                    }
                    n.__esModule = !0;
                    var s = e("../../core"),
                        u = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(s),
                        l = e("../BasePrepare"),
                        c = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(l),
                        h = 16,
                        d = function(e) {
                            function t(n) {
                                r(this, t);
                                var o = i(this, e.call(this, n));
                                return o.uploadHookHelper = o, o.canvas = document.createElement("canvas"), o.canvas.width = h, o.canvas.height = h, o.ctx = o.canvas.getContext("2d"), o.registerUploadHook(a), o
                            }
                            return o(t, e), t.prototype.destroy = function() {
                                e.prototype.destroy.call(this), this.ctx = null, this.canvas = null
                            }, t
                        }(c.default);
                    n.default = d, u.CanvasRenderer.registerPlugin("prepare", d)
                }, {
                    "../../core": 64,
                    "../BasePrepare": 181
                }],
                183: [function(e, t, n) {
                    "use strict";

                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    n.__esModule = !0;
                    var i = e("./webgl/WebGLPrepare");
                    Object.defineProperty(n, "webgl", {
                        enumerable: !0,
                        get: function() {
                            return r(i).default
                        }
                    });
                    var o = e("./canvas/CanvasPrepare");
                    Object.defineProperty(n, "canvas", {
                        enumerable: !0,
                        get: function() {
                            return r(o).default
                        }
                    });
                    var a = e("./BasePrepare");
                    Object.defineProperty(n, "BasePrepare", {
                        enumerable: !0,
                        get: function() {
                            return r(a).default
                        }
                    });
                    var s = e("./limiters/CountLimiter");
                    Object.defineProperty(n, "CountLimiter", {
                        enumerable: !0,
                        get: function() {
                            return r(s).default
                        }
                    });
                    var u = e("./limiters/TimeLimiter");
                    Object.defineProperty(n, "TimeLimiter", {
                        enumerable: !0,
                        get: function() {
                            return r(u).default
                        }
                    })
                }, {
                    "./BasePrepare": 181,
                    "./canvas/CanvasPrepare": 182,
                    "./limiters/CountLimiter": 184,
                    "./limiters/TimeLimiter": 185,
                    "./webgl/WebGLPrepare": 186
                }],
                184: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e(t) {
                            r(this, e), this.maxItemsPerFrame = t, this.itemsLeft = 0
                        }
                        return e.prototype.beginFrame = function() {
                            this.itemsLeft = this.maxItemsPerFrame
                        }, e.prototype.allowedToUpload = function() {
                            return this.itemsLeft-- > 0
                        }, e
                    }();
                    n.default = i
                }, {}],
                185: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }
                    n.__esModule = !0;
                    var i = function() {
                        function e(t) {
                            r(this, e), this.maxMilliseconds = t, this.frameStart = 0
                        }
                        return e.prototype.beginFrame = function() {
                            this.frameStart = Date.now()
                        }, e.prototype.allowedToUpload = function() {
                            return Date.now() - this.frameStart < this.maxMilliseconds
                        }, e
                    }();
                    n.default = i
                }, {}],
                186: [function(e, t, n) {
                    "use strict";

                    function r(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }

                    function i(e, t) {
                        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !t || "object" != typeof t && "function" != typeof t ? e : t
                    }

                    function o(e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                        e.prototype = Object.create(t && t.prototype, {
                            constructor: {
                                value: e,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                    }

                    function a(e, t) {
                        return t instanceof c.BaseTexture && (t._glTextures[e.CONTEXT_UID] || e.textureManager.updateTexture(t), !0)
                    }

                    function s(e, t) {
                        return t instanceof c.Graphics && ((t.dirty || t.clearDirty || !t._webGL[e.plugins.graphics.CONTEXT_UID]) && e.plugins.graphics.updateGraphics(t), !0)
                    }

                    function u(e, t) {
                        return e instanceof c.Graphics && (t.push(e), !0)
                    }
                    n.__esModule = !0;
                    var l = e("../../core"),
                        c = function(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }(l),
                        h = e("../BasePrepare"),
                        d = function(e) {
                            return e && e.__esModule ? e : {
                                default: e
                            }
                        }(h),
                        f = function(e) {
                            function t(n) {
                                r(this, t);
                                var o = i(this, e.call(this, n));
                                return o.uploadHookHelper = o.renderer, o.registerFindHook(u), o.registerUploadHook(a), o.registerUploadHook(s), o
                            }
                            return o(t, e), t
                        }(d.default);
                    n.default = f, c.WebGLRenderer.registerPlugin("prepare", f)
                }, {
                    "../../core": 64,
                    "../BasePrepare": 181
                }],
                187: [function(e, t, n) {
                    (function(t) {
                        "use strict";

                        function r(e) {
                            if (e && e.__esModule) return e;
                            var t = {};
                            if (null != e)
                                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                            return t.default = e, t
                        }
                        n.__esModule = !0, n.loader = n.prepare = n.particles = n.mesh = n.loaders = n.interaction = n.filters = n.extras = n.extract = n.accessibility = void 0;
                        var i = e("./polyfill");
                        Object.keys(i).forEach(function(e) {
                            "default" !== e && "__esModule" !== e && Object.defineProperty(n, e, {
                                enumerable: !0,
                                get: function() {
                                    return i[e]
                                }
                            })
                        });
                        var o = e("./core");
                        Object.keys(o).forEach(function(e) {
                            "default" !== e && "__esModule" !== e && Object.defineProperty(n, e, {
                                enumerable: !0,
                                get: function() {
                                    return o[e]
                                }
                            })
                        });
                        var a = e("./deprecation"),
                            s = function(e) {
                                return e && e.__esModule ? e : {
                                    default: e
                                }
                            }(a),
                            u = e("./accessibility"),
                            l = r(u),
                            c = e("./extract"),
                            h = r(c),
                            d = e("./extras"),
                            f = r(d),
                            p = e("./filters"),
                            m = r(p),
                            g = e("./interaction"),
                            _ = r(g),
                            y = e("./loaders"),
                            v = r(y),
                            b = e("./mesh"),
                            x = r(b),
                            T = e("./particles"),
                            w = r(T),
                            S = e("./prepare"),
                            E = r(S);
                        o.utils.mixins.performMixins();
                        var C = v.shared || null;
                        n.accessibility = l, n.extract = h, n.extras = f, n.filters = m, n.interaction = _, n.loaders = v, n.mesh = x, n.particles = w, n.prepare = E, n.loader = C, "function" == typeof s.default && (0, s.default)(n), t.PIXI = n
                    }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                }, {
                    "./accessibility": 41,
                    "./core": 64,
                    "./deprecation": 129,
                    "./extract": 131,
                    "./extras": 140,
                    "./filters": 151,
                    "./interaction": 158,
                    "./loaders": 161,
                    "./mesh": 170,
                    "./particles": 173,
                    "./polyfill": 179,
                    "./prepare": 183
                }]
            }, {}, [187])(187)
        }), define("skbJet/component/utils/PauseTimer", [], function() {
            function e(t, n) {
                this.index = e.index++, e.map[this.index] = this, this.callBack = t, this.delay = n, this.startTime = Date.now(), this.pauseTime = null;
                var r = this;
                this._innerIndex = window.setTimeout(function() {
                    delete e.map[r.index], r.callBack()
                }, n)
            }

            function t(e, n) {
                this.index = t.index++, t.map[this.index] = this, this.callBack = e, this.delay = n, this.startTime = Date.now(), this.pauseTime = null, this._innerTimeoutIndex = null;
                var r = this;
                this._innerIndex = window.setInterval(r.callBack, n)
            }

            function n(t, n) {
                return new e(t, n).index
            }

            function r(t) {
                e.map[t] && e.map[t].clear()
            }

            function i(e, n) {
                return new t(e, n).index
            }

            function o(e) {
                t.map[e] && t.map[e].clear()
            }

            function a() {
                t.pause(), e.pause()
            }

            function s() {
                t.resume(), e.resume()
            }
            e.index = 1, e.map = {}, e.pause = function() {
                for (var t in e.map) e.map[t] && e.map[t].pause()
            }, e.resume = function() {
                for (var t in e.map) e.map[t] && e.map[t].resume()
            }, e.prototype.pause = function() {
                var e = this;
                e._innerIndex && (window.clearTimeout(e._innerIndex), e.pauseTime = Date.now() - e.startTime, e._innerIndex = null)
            }, e.prototype.resume = function() {
                var t = this;
                t._innerIndex || null === t.pauseTime || void 0 === t.pauseTime || (this._innerIndex = window.setTimeout(function() {
                    delete e.map[t.index], t.callBack()
                }, t.delay - t.pauseTime), t.startTime = Date.now() - t.pauseTime, this.pauseTime = null)
            }, e.prototype.clear = function() {
                var t = this;
                t._innerIndex && (window.clearTimeout(t._innerIndex), t._innerIndex = null), delete e.map[t.index]
            }, t.index = 1, t.map = {}, t.pause = function() {
                for (var e in t.map) t.map[e] && t.map[e].pause()
            }, t.resume = function() {
                for (var e in t.map) t.map[e] && t.map[e].resume()
            }, t.prototype.pause = function() {
                var e = this;
                e._innerIndex ? (window.clearInterval(e._innerIndex), e.pauseTime = (Date.now() - e.startTime) % e.delay, e._innerIndex = null, e._innerTimeoutIndex = null) : e._innerTimeoutIndex && (window.clearTimeout(e._innerTimeoutIndex), e.pauseTime = Date.now() - e.startTime, e._innerIndex = null, e._innerTimeoutIndex = null)
            }, t.prototype.resume = function() {
                var e = this;
                e._innerIndex || e._innerTimeoutIndex || null === e.pauseTime || void 0 === e.pauseTime || (e._innerTimeoutIndex = window.setTimeout(function() {
                    e._innerIndex = window.setInterval(e.callBack, e.delay), e._innerTimeoutIndex = null, e.callBack()
                }, e.delay - e.pauseTime), e.startTime = Date.now() - e.pauseTime, this.pauseTime = null)
            }, t.prototype.clear = function() {
                var e = this;
                e._innerIndex ? (window.clearInterval(e._innerIndex), e._innerIndex = null, e._innerTimeoutIndex = null) : e._innerTimeoutIndex && (window.clearTimeout(e._innerTimeoutIndex), e._innerIndex = null, e._innerTimeoutIndex = null), delete t.map[e.index]
            };
            var u = {
                setTimeout: n,
                clearTimeout: r,
                setInterval: i,
                clearInterval: o,
                pause: a,
                resume: s
            };
            return document.addEventListener("visibilitychange", function() {
                "hidden" === document.visibilityState ? u.pause() : u.resume()
            }), u
        }), define("skbJet/component/gladPixiRenderer/Sprite", ["require", "com/pixijs/pixi", "skbJet/component/gladPixiRenderer/gladPixiRenderer"], function(e) {
            function t(e) {
                return e.match(/^_/) ? e.substring(1) : e
            }

            function n() {
                return {
                    _width: 0,
                    _height: 0,
                    _top: 0,
                    _left: 0,
                    _opacity: 1,
                    _background: {
                        _color: null,
                        _imagePlate: null,
                        _position: {
                            _x: 0,
                            _y: 0
                        }
                    },
                    _transform: {
                        _scale: {
                            _x: 1,
                            _y: 1
                        },
                        _rotate: 0
                    },
                    _text: {
                        _align: "center",
                        _color: "000000",
                        _token: "",
                        _lineHeight: 12,
                        _strokeWidth: 0,
                        _strokeColor: "",
                        _gradient: {
                            _color: ["000000", "000000"],
                            _stop: [0, 1],
                            _orientation: "vertical"
                        }
                    },
                    _font: {
                        _size: 12,
                        _weight: "normal"
                    },
                    _display: "block"
                }
            }

            function r(e, t) {
                if (!t) return e;
                if (null != t._width && "" !== t._width && (e._width = Number(t._width)), null != t._height && "" !== t._height && (e._height = Number(t._height)), null != t._left && "" !== t._left && (e._left = Number(t._left)), null != t._top && "" !== t._top && (e._top = Number(t._top)), null != t._opacity && ("string" == typeof t._opacity && "" === t._opacity || (e._opacity = Number(t._opacity))), t._background ? (t._background._color && (e._background._color = t._background._color), t._background._imagePlate && e._background._imagePlate !== t._background._imagePlate ? (e._background._imagePlate = t._background._imagePlate, e._background._imagePlateUpdateFlag = !0) : e._background._imagePlateUpdateFlag = !1, t._background._position && (null != t._background._position._x && "" !== t._background._position._x && (e._background._position._x = Number(t._background._position._x)), null != t._background._position._y && "" !== t._background._position._y && (e._background._position._y = Number(t._background._position._y)))) : e._background._imagePlateUpdateFlag = !1, t._transform) {
                    if (t._transform._scale) {
                        if (null != t._transform._scale._x && ("string" != typeof t._transform._scale._x || "" !== t._transform._scale._x)) {
                            var n = Number(t._transform._scale._x);
                            e._transform._scale._x = n
                        }
                        if (null != t._transform._scale._y && ("string" != typeof t._transform._scale._y || "" !== t._transform._scale._y)) {
                            var n = Number(t._transform._scale._y);
                            e._transform._scale._y = n
                        }
                    }
                    null != t._transform._rotate && "" !== t._transform._rotate && (e._transform._rotate = Number(t._transform._rotate))
                }
                return t._text && (t._text._align && (e._text._align = t._text._align), t._text._color && (e._text._color = t._text._color), null != t._text._token && (e._text._token = t._text._token), null != t._text._strokeWidth && (e._text._strokeWidth = t._text._strokeWidth), null != t._text._strokeColor && (e._text._strokeColor = t._text._strokeColor), t._text._gradient && (null != t._text._gradient._color && (e._text._gradient._color = t._text._gradient._color), null != t._text._gradient._stop && (e._text._gradient._stop = t._text._gradient._stop), null != t._text._gradient._orientation && (e._text._gradient._orientation = t._text._gradient._orientation)), null != t._text._lineHeight ? e._text._lineHeight = t._text._lineHeight : t._font && t._font._size && (e._text._gradient && (e._text._gradient._color.length > 2 || e._text._gradient._stop[0] !== e._text._gradient._stop[1]) ? e._text._lineHeight = 1.2 * t._font._size : e._text._lineHeight = t._font._size)), t._font && (t._font._size && (e._font._size = t._font._size), t._font._weight && (e._font._weight = t._font._weight), t._font._family && (e._font._family = t._font._family)), t._display && (e._display = t._display), t._overflow && (e._overflow = t._overflow), e
            }

            function i(e) {
                var t = n();
                return r(t, e.data._style), t
            }

            function o(e) {
                return !(null === e || void 0 === e || "" === e)
            }

            function a(e) {
                e.pixiContainer || (e.pixiContainer = new h.Container, e.pixiContainer.name = e.data._name);
                var n = e._currentStyle,
                    r = e.pixiContainer,
                    i = Number(n._width),
                    a = Number(n._height);
                if (r.pivot.x = i / 2, r.pivot.y = a / 2, r.x = Number(n._left) + r.pivot.x, r.y = Number(n._top) + r.pivot.y, o(n._background)) {
                    if (o(n._background._color)) {
                        var s = n._background._color + "";
                        if ("#" === s.charAt(0) && (s = s.substring(1)), s = s.toUpperCase(), r.$bgColor && r.$bgColor._color !== s) {
                            var u = r.$bgColor;
                            r.removeChild(u), u.destroy(), r.$bgColor = null
                        }
                        r.$bgColor || (r.$bgColor = new h.Graphics, r.addChild(r.$bgColor), r.$bgColor.width = i, r.$bgColor.height = a, r.$bgColor._color = s, r.$bgColor.beginFill(Number("0x" + s), 1), r.$bgColor.drawRect(0, 0, i, a), r.$bgColor.endFill()), r.$bgColor.width = i, r.$bgColor.height = a
                    }
                    if (r.$sprite || (r.$sprite = new h.Sprite, r.addChildAt(r.$sprite, 0)), r.$sprite.width = i, r.$sprite.height = a, o(n._background._imagePlate) && n._background._imagePlateUpdateFlag) {
                        var l = t(n._background._imagePlate);
                        r.$sprite.texture = h.Texture.fromFrame(l)
                    }
                }
                if (o(n._text) && o(n._text._token)) {
                    r.$text || (r.$text = new h.Text, r.addChild(r.$text));
                    var c = r.$text;
                    if (o(n._text._align) && (c.style.align = n._text._align), o(n._text._color) && (c.style.fill = "#" + n._text._color), o(n._text._strokeWidth) && (c.style.strokeThickness = n._text._strokeWidth, c.style.miterLimit = 2.6), o(n._text._strokeColor) && (c.style.stroke = "#" + n._text._strokeColor), 2 !== n._text._gradient._color.length || n._text._gradient._color[1] !== n._text._gradient._color[0]) {
                        for (var d = [], f = 0; f < n._text._gradient._color.length; f++) d[f] = "#" + n._text._gradient._color[f];
                        c.style.fill = d, c.style.fillGradientStops = n._text._gradient._stop, "horizontal" === n._text._gradient._orientation ? c.style.fillGradientType = -1 : c.style.fillGradientType = 0
                    }
                    o(n._font) && (o(n._font._family) && (c.style.fontFamily = n._font._family.split(",")[0]), o(n._font._size) && (c.style.fontSize = n._font._size), o(n._font._weight) && (c.style.fontWeight = "" + n._font._weight)), o(n._text._lineHeight) && (c.style.lineHeight = Number(n._text._lineHeight)), o(n._width) && (c.style.wordWrapWidth = Number(n._width), c.style.wordWrap = !0), o(n._height) && (c.style.padding = 1), c.text = n._text._token, o(n._font) && o(n._font._size) && e.autoFontFitText && (c.style.wordWrap = !1, c.scale.set(1), c.width > i && c.scale.set(i / c.width), c.y = Math.floor(a * (1 - c.scale.y) / 2));
                    var p = c.style.align;
                    c.x = "right" === p ? i - c.width : "center" === p ? r.x - c.width / 2 - Number(n._left) : 0
                } else r.$text && (r.$text.text = "");
                o(n._transform) && o(n._transform._scale) && (o(n._transform._scale._x) && (r.scale.x = Number(n._transform._scale._x)), o(n._transform._scale._y) && (r.scale.y = Number(n._transform._scale._y))), o(n._transform) && o(n._transform._rotate) && (r.rotation = Number(n._transform._rotate) * Math.PI / 180), o(n._opacity) && (r.alpha = Number(n._opacity))
            }

            function s(e, t) {
                e._currentStyle || (e._currentStyle = i(e)), r(e._currentStyle, t), a(e)
            }

            function u(t) {
                this.sprites = {}, this.data = t, c || (c = e("skbJet/component/gladPixiRenderer/gladPixiRenderer")), c.lib[t._name] = this, s(this);
                for (var n = 0; n < t._SPRITES.length; n++) this.addChildFromData(t._SPRITES[n])
            }

            function l() {
                var e = {};
                for (var t in h.utils.TextureCache) {
                    var n = t.match(/^(\w+)_\d+$/);
                    if (n) {
                        var r = n[1];
                        e[r] || (e[r] = []), e[r].push(t)
                    }
                }
                for (var i in e) e[i].sort(function(e, t) {
                    return parseInt(e.match(/\d+$/)[0]) - parseInt(t.match(/\d+$/)[0])
                });
                return e
            }
            var c, h = e("com/pixijs/pixi");
            u.prototype.addChildFromData = function(e) {
                var t = new u(e);
                return this.sprites[e._name] = t, t.parent = this, this.pixiContainer.addChild(t.pixiContainer), t
            }, u.prototype.setText = function(e) {
                s(this, {
                    _text: {
                        _token: e
                    }
                })
            }, u.prototype.getText = function() {
                return this.pixiContainer.$text.text
            }, u.prototype.getTextWidth = function() {
                return this.pixiContainer.$text.width
            }, u.prototype.setImage = function(e) {
                h.utils.TextureCache[e] && (r(this._currentStyle, {
                    _background: {
                        _imagePlate: e
                    }
                }), this.pixiContainer.$sprite.texture = h.Texture.fromFrame(e))
            }, u.prototype.getImage = function() {
                return this._currentStyle && this._currentStyle._background ? this._currentStyle._background._imagePlate : null
            }, u.prototype.updateCurrentStyle = function(e) {
                s(this, e)
            }, u.prototype.on = function(e, t) {
                if (this.pixiContainer.interactive = !0, "click" === e) this.pixiContainer.on("touchstart", t), this.pixiContainer.on("click", t);
                else if ("mouseover" === e) this.pixiContainer.on(e, t);
                else if ("mouseout" === e) "ontouchend" in window ? this.pixiContainer.on("touchendoutside", t) : this.pixiContainer.on("mouseout", t);
                else if ("mousedown" === e) "ontouchstart" in window ? this.pixiContainer.on("touchstart", t) : this.pixiContainer.on("mousedown", t);
                else if ("mouseup" === e) "ontouchend" in window ? this.pixiContainer.on("touchend", t) : this.pixiContainer.on("mouseup", t);
                else if ("mouseupoutside" === e) "ontouchend" in window ? this.pixiContainer.on("touchendoutside", t) : this.pixiContainer.on("mouseupoutside", t);
                else {
                    if ("mousemove" !== e) throw "Not supported event!";
                    "ontouchmove" in window ? this.pixiContainer.on("touchmove", t) : this.pixiContainer.on("mousemove", t)
                }
            }, u.prototype.off = function(e, t) {
                if ("click" === e) "ontouchstart" in window ? this.pixiContainer.off("touchstart", t) : this.pixiContainer.off("click", t);
                else if ("mouseover" === e) this.pixiContainer.off("mouseover", t);
                else if ("mouseout" === e) "ontouchend" in window ? this.pixiContainer.off("touchendoutside", t) : this.pixiContainer.off("mouseout", t);
                else if ("mousedown" === e) "ontouchstart" in window ? this.pixiContainer.off("touchstart", t) : this.pixiContainer.off("mousedown", t);
                else {
                    if ("mouseup" !== e) throw "Not supported event!";
                    "ontouchend" in window ? this.pixiContainer.off("touchend", t) : this.pixiContainer.off("mouseup", t)
                }
            }, u.prototype.transformParentCoordinateSystemToSelf = function(e) {
                var t = this._currentStyle._width,
                    n = this._currentStyle._height,
                    r = this._currentStyle._top,
                    i = this._currentStyle._left,
                    o = this._currentStyle._transform._scale._x,
                    a = this._currentStyle._transform._scale._y,
                    s = this._currentStyle._transform._rotate * Math.PI / 180,
                    u = e.x,
                    l = e.y;
                u = u - i - t / 2, l = l - r - n / 2;
                var c = u * Math.cos(s) + l * Math.sin(s),
                    h = l * Math.cos(s) - u * Math.sin(s);
                return u = c / o, l = h / a, u += t / 2, l += n / 2, {
                    x: u,
                    y: l
                }
            }, u.prototype.toLocal = function(e) {
                for (var t = [], n = this, r = e; n._currentStyle && (t.push(n), n.parent);) n = n.parent;
                for (var i = t.length - 1; i >= 0; i--) n = t[i], r = n.transformParentCoordinateSystemToSelf(r);
                return r
            }, u.prototype.transformSelfCoordinateSystemToParent = function(e) {
                var t = this._currentStyle._width,
                    n = this._currentStyle._height,
                    r = this._currentStyle._top,
                    i = this._currentStyle._left,
                    o = this._currentStyle._transform._scale._x,
                    a = this._currentStyle._transform._scale._y,
                    s = this._currentStyle._transform._rotate * Math.PI / 180,
                    u = e.x,
                    l = e.y;
                u -= t / 2, l -= n / 2, u *= o, l *= a;
                var c = u * Math.cos(s) - l * Math.sin(s),
                    h = l * Math.cos(s) + u * Math.sin(s);
                return u = c + i + t / 2, l = h + r + n / 2, {
                    x: u,
                    y: l
                }
            }, u.prototype.toGlobal = function(e) {
                for (var t = this, n = e; t._currentStyle && n && (n = t.transformSelfCoordinateSystemToParent(n), t.parent);) t = t.parent;
                return n
            }, u.prototype.getName = function() {
                return this.data._name
            }, u.prototype.getParent = function() {
                return this.parent
            }, u.prototype.show = function(e) {
                this.pixiContainer.visible = !!e
            };
            var d = null;
            return u.addSpriteSheetAnimation = function(e, t) {
                d || (d = l()), d[e] = t
            }, u.getSpriteSheetAnimationFrameArray = function(e) {
                return d || (d = l()), d[e]
            }, u.prototype.gotoAndPlay = function(e, t, n, r) {
                if (d || (d = l()), !d[e]) throw "Cannot find sprite animation " + e;
                this.pixiContainer.$sprite ? this.pixiContainer.$sprite.animName !== e && (this.pixiContainer.removeChild(this.pixiContainer.$sprite).destroy(), this.pixiContainer.$sprite = h.extras.AnimatedSprite.fromFrames(d[e]), this.pixiContainer.addChildAt(this.pixiContainer.$sprite, this.data._style._background && this.data._style._background._color ? 1 : 0), this.pixiContainer.$sprite.width = Number(this._currentStyle._width), this.pixiContainer.$sprite.height = Number(this._currentStyle._height)) : (this.pixiContainer.$sprite = h.extras.AnimatedSprite.fromFrames(d[e]), this.pixiContainer.addChildAt(this.pixiContainer.$sprite, this.data._style._background._color ? 1 : 0)), this.pixiContainer.$sprite.animName = e, this.pixiContainer.$sprite.animationSpeed = t || 1, this.pixiContainer.$sprite.loop = !!n;
                var i = this;
                this.pixiContainer.$sprite.onComplete = function() {
                    "function" == typeof i.onComplete && i.onComplete()
                }, (!r || r < 0) && (r = 0), this.pixiContainer.$sprite.gotoAndPlay(r)
            }, u.prototype.stopPlay = function() {
                this.pixiContainer.$sprite && this.pixiContainer.$sprite.stop && this.pixiContainer.$sprite.stop()
            }, u.prototype.gotoAndStop = function(e) {
                this.pixiContainer.$sprite && this.pixiContainer.$sprite.gotoAndStop && this.pixiContainer.$sprite.gotoAndStop(e)
            }, u.prototype.onComplete = null, u.prototype.autoFontFitText = !1, u
        }), define("skbJet/component/gladPixiRenderer/Layer", ["require", "com/pixijs/pixi", "skbJet/component/gladPixiRenderer/Sprite", "skbJet/component/gladPixiRenderer/gladPixiRenderer"], function(e) {
            function t(t) {
                this.sprites = {}, this.data = t, n || (n = e("skbJet/component/gladPixiRenderer/gladPixiRenderer")), n.lib[t._name] = this, this.pixiContainer = new r.Container, this.pixiContainer.name = t._name;
                for (var o = 0; o < t._SPRITES.length; o++) {
                    var a = t._SPRITES[o];
                    this.sprites[a._name] = new i(a), this.sprites[a._name].parent = this, this.pixiContainer.addChild(this.sprites[a._name].pixiContainer)
                }
            }
            var n, r = e("com/pixijs/pixi"),
                i = e("skbJet/component/gladPixiRenderer/Sprite");
            return t.prototype.show = function(e) {
                this.pixiContainer.visible = !!e
            }, t
        }), define("skbJet/component/gladPixiRenderer/KeyFrameAnimation", ["require", "skbJet/component/gladPixiRenderer/gladPixiRenderer"], function(e) {
            function t(t, n, r) {
                if (this.animData = t, r || (r = this.animData._name), t._keyFrames && t._keyFrames.length > 0) {
                    var i = t._keyFrames[t._keyFrames.length - 1];
                    this.maxTime = Number(i._time), this._spritesNameList = [];
                    for (var o = 0; o < i._SPRITES.length; o++) this._spritesNameList.push(i._SPRITES[o]._name);
                    if (n)
                        for (var o = 0; o < n.length && o < i._SPRITES.length; o++) this._spritesNameList[o] = n[o]
                }
                this._name = r, s || (s = e("skbJet/component/gladPixiRenderer/gladPixiRenderer")), s.animMap[r] = this
            }

            function n(e) {
                e.pause(), e.timeCount = 0, e.loopCount = 0, e.loopNumber = 1, e._frameIndex = 0
            }

            function r(e, t, n) {
                var r = Number(e);
                return (Number(t) - r) * n + r
            }

            function i(e, t, n) {
                if (t = Number(t), e.animData._keyFrames.length <= 1 || t <= 0) return 0;
                n || (n = 0);
                for (var r = n; r < e.animData._keyFrames.length; r++)
                    if (t <= Number(e.animData._keyFrames[r]._time) && t > Number(e.animData._keyFrames[r - 1]._time)) return r;
                return e.animData._keyFrames.length
            }

            function o(e) {
                return !(null === e || void 0 === e || "" === e)
            }

            function a(e, t, n, i) {
                if (n._style) {
                    var a = e._style,
                        s = t._style,
                        u = n._style;
                    o(u._width) && (s._width = r(a._width, u._width, i)), o(u._height) && (s._height = r(a._height, u._height, i)), o(u._top) && (s._top = r(a._top, u._top, i)), o(u._left) && (s._left = r(a._left, u._left, i)), o(u._opacity) && (s._opacity = r(a._opacity, u._opacity, i)), o(u._background) && (s._background = {}, o(u._background._position) && (s._background._position = {}, o(u._background._position._x) && (s._background._position._x = r(a._background._position._x, u._background._position._x, i)), o(u._background._position._y) && (s._background._position._y = r(a._background._position._y, u._background._position._y, i)))), o(u._transform) && (s._transform = {}, o(u._transform._rotate) && (s._transform._rotate = r(a._transform._rotate, u._transform._rotate, i)), o(u._transform._scale) && (s._transform._scale = {}, o(u._transform._scale._x) && (s._transform._scale._x = r(a._transform._scale._x, u._transform._scale._x, i)), o(u._transform._scale._y) && (s._transform._scale._y = r(a._transform._scale._y, u._transform._scale._y, i))), o(u._transform._skew) && (s._transform._skew = {}, o(u._transform._skew._x) && (s._transform._skew._x = r(a._transform._skew._x, u._transform._skew._x, i)), o(u._transform._skew._y) && (s._transform._skew._y = r(a._transform._skew._y, u._transform._skew._y, i))))
                }
            }
            var s;
            return t.prototype.animData = null, t.prototype.isPlaying = !1, t.prototype.maxTime = 0, t.prototype.timeCount = 0, t.prototype.loopCount = 0, t.prototype.loopNumber = 1, t.prototype._frameIndex = 0, t.prototype._onStart = null, t.prototype._onEnd = null, t.prototype._onComplete = null, t.prototype._onLoop = null, t.prototype._onFrame = null, t.prototype._onResume = null, t.prototype.updateStyleIfPlaying = function(e) {
                if (this.isPlaying) {
                    if (0 === this.timeCount && 0 === this.loopCount && this._onStart ? this._onStart() : (this.timeCount > 0 || this.loopCount > 0) && this._onResume && this._onResume(), this.timeCount += e, this.timeCount >= this.maxTime) {
                        if (++this.loopCount >= this.loopNumber) return this.updateStyleToTime(this.maxTime), n(this), void(this._onComplete && this._onComplete());
                        this.timeCount = 0, this._frameIndex = 0, this._onLoop && this._onLoop()
                    }
                    this.updateStyleToTime(this.timeCount)
                }
            }, t.prototype.updateStyleToTime = function(e) {
                if (!(e < 0 || e > this.maxTime)) {
                    var t = this.getFrameAtTime(e);
                    if (t._SPRITES)
                        for (var n = 0; n < this._spritesNameList.length; n++) {
                            var r = s.lib[this._spritesNameList[n]];
                            r.updateCurrentStyle(t._SPRITES[n]._style)
                        }
                }
            }, t.prototype.play = function(e) {
                this.maxTime <= 0 || !0 !== this.isPlaying && ("number" == typeof e && (e = {
                    loopNumber: e
                }), e || (e = {}), e.loopNumber ? this.loopNumber = e.loopNumber : this.loopNumber = 1, this.lastTimeStamp = null, e.startTime ? this.timeCount = e.startTime : this.timeCount = 0, this.isPlaying = !0)
            }, t.prototype.stop = function() {
                n(this), this._onEnd && this._onEnd()
            }, t.prototype.pause = function() {
                this.isPlaying = !1, this.lastTimeStamp = null
            }, t.prototype.clone = function(e, n) {
                return new t(this.animData, e, n)
            }, t.prototype.getFrameAtTime = function(e) {
                var t = this;
                if (e = Number(e), 1 === t.animData._keyFrames.length) return e === Number(t.animData._keyFrames[0]._time) ? t.animData._keyFrames[0] : null;
                t._frameIndex = i(t, e, t._frameIndex);
                var n = t.animData._keyFrames[t._frameIndex];
                if (null == n) return null;
                if (n && n._time === e) return n;
                var r = t.animData._keyFrames[t._frameIndex - 1],
                    o = {
                        _time: e,
                        _SPRITES: []
                    },
                    s = o._time;
                t.animData._step && (s = t.animData._step * Math.floor(o._time / t.animData._step));
                for (var u = (s - r._time) / (n._time - r._time), l = 0; l < n._SPRITES.length; l++) {
                    var c = n._SPRITES[l],
                        h = r._SPRITES[l];
                    if (h._id !== c._id) throw "Error: sprite list dismatch in animation frames";
                    var d = {
                        _id: c._id,
                        _name: c._name,
                        _style: {}
                    };
                    a(h, d, c, u), o._SPRITES.push(d)
                }
                return o
            }, t
        }), define("skbJet/component/gladPixiRenderer/Scene", ["require", "com/pixijs/pixi", "skbJet/component/gladPixiRenderer/Layer", "skbJet/component/gladPixiRenderer/KeyFrameAnimation", "skbJet/component/gladPixiRenderer/gladPixiRenderer"], function(e) {
            function t(t) {
                this.layers = {}, this.data = t, r || (r = e("skbJet/component/gladPixiRenderer/gladPixiRenderer")), r.lib[t._name] = this, this.pixiContainer = new i.Container, this.pixiContainer.name = t._name;
                for (var n = 0; n < t._LAYERS.length; n++) {
                    var s = t._LAYERS[n];
                    this.layers[s._name] = new o(s), this.layers[s._name].parent = this, this.pixiContainer.addChild(this.layers[s._name].pixiContainer)
                }
                this._animations = [], this.show = function(e) {
                    this.pixiContainer.visible = e
                };
                for (var n = 0; n < t._ANIMATIONS.length; n++) {
                    "_KEY_FRAME_ANIMATION" === t._ANIMATIONS[n]._type && new a(t._ANIMATIONS[n])
                }
            }

            function n(e) {
                return !(null === e || void 0 === e || "" === e)
            }
            var r, i = e("com/pixijs/pixi"),
                o = e("skbJet/component/gladPixiRenderer/Layer"),
                a = e("skbJet/component/gladPixiRenderer/KeyFrameAnimation");
            return t.prototype.updateCurrentStyle = function(e) {
                var t = this.pixiContainer,
                    i = e,
                    o = Number(i._width),
                    a = Number(i._height);
                o || (o = r.getSize().width), a || (a = r.getSize().height), t.pivot.x = o / 2, t.pivot.y = a / 2, t.x = Number(i._left) + t.pivot.x, t.y = Number(i._top) + t.pivot.y, n(i._transform) && n(i._transform._scale) && (n(i._transform._scale._x) && (t.scale.x = Number(i._transform._scale._x)), n(i._transform._scale._y) && (t.scale.y = Number(i._transform._scale._y))), n(i._transform) && n(i._transform._rotate) && (t.rotation = Number(i._transform._rotate) * Math.PI / 180), n(i._opacity) && (t.alpha = Number(i._opacity))
            }, t
        }), define("skbJet/component/gladPixiRenderer/gladPixiRenderer", ["require", "com/pixijs/pixi", "skbJet/component/utils/PauseTimer", "skbJet/component/gladPixiRenderer/Scene"], function(e) {
            function t(e) {
                function t(e) {
                    var n = e._style;
                    if (n && (n._width && (n._width = 2 * Number(n._width)), n._height && (n._height = 2 * Number(n._height)), n._top && (n._top = 2 * Number(n._top)), n._left && (n._left = 2 * Number(n._left)), n._background && n._background._position && (n._background._position._x && (n._background._position._x = 2 * Number(n._background._position._x)), n._background._position._y && (n._background._position._y = 2 * Number(n._background._position._y))), n._font && n._font._size && (n._font._size = 2 * Number(n._font._size)), n._text && n._text._lineHeight && (n._text._lineHeight = 2 * Number(n._text._lineHeight)), n._text && n._text._strokeWidth && (n._text._strokeWidth = 2 * Number(n._text._strokeWidth))), e._SPRITES)
                        for (var r = 0; r < e._SPRITES.length; r++) t(e._SPRITES[r])
                }
                e._width && (e._width = 2 * Number(e._width)), e._height && (e._height = 2 * Number(e._height));
                for (var n = 0; n < e._SCENES.length; n++) {
                    for (var r = 0; r < e._SCENES[n]._LAYERS.length; r++) t(e._SCENES[n]._LAYERS[r]);
                    for (var i = 0; i < e._SCENES[n]._ANIMATIONS.length; i++) {
                        var o = e._SCENES[n]._ANIMATIONS[i];
                        if ("_KEY_FRAME_ANIMATION" !== o._type) throw "Other animation type not support conver sprite pixel rate yet.";
                        for (var a = 0; a < o._keyFrames.length; a++)
                            for (var s = 0; s < o._keyFrames[a]._SPRITES.length; s++) t(o._keyFrames[a]._SPRITES[s])
                    }
                }
            }

            function n(e) {
                function t(e) {
                    if (e && e._style && e._style._text && e._style._text._token && (e._style._text._token = " "), e && e._SPRITES)
                        for (var n = 0; n < e._SPRITES.length; n++) t(e._SPRITES[n])
                }
                for (var n = 0; n < e._SCENES.length; n++)
                    for (var r = 0; r < e._SCENES[n]._LAYERS.length; r++) t(e._SCENES[n]._LAYERS[r])
            }

            function r(e, t, n, r) {
                r || (r = x), b[e] = "webgl" === r ? new m.WebGLRenderer(t, n, {
                    transparent: !0,
                    resolution: 1,
                    antialias: !0
                }) : "2d" === r ? new m.CanvasRenderer(t, n, {
                    transparent: !0,
                    resolution: 1,
                    antialias: !0
                }) : m.autoDetectRenderer(t, n, {
                    transparent: !0,
                    resolution: 1,
                    antialias: !0
                });
                var i = b[e].view;
                i.style.display = "none", f.appendChild(i)
            }

            function i(e) {
                l && (l.view.style.display = "none"), l = b[e], l.view.style.display = "block", s(T.w, T.h)
            }

            function o(o, a, s) {
                c = o, c || (c = window._gladData), t(c), n(c), a || (a = document.getElementById("game")), x = s, f = a, r("default", c._width, c._height, s), T.w = c._width, T.h = c._height, i("default"), p = {
                    width: c._width,
                    height: c._height
                }, d = new m.Container, u = e("skbJet/component/gladPixiRenderer/Scene");
                for (var g = 0; g < c._SCENES.length; g++) {
                    var v = c._SCENES[g];
                    _[v._name] = new u(v), d.addChild(_[v._name].pixiContainer)
                }
                h = new m.ticker.Ticker, h.add(function() {
                    for (var e in y) y[e].updateStyleIfPlaying(h.elapsedMS);
                    l.render(d)
                }), h.start(), document.addEventListener("visibilitychange", function() {
                    "hidden" === document.visibilityState ? h.stop() : h.start()
                })
            }

            function a(e) {
                if (_[e])
                    for (var t in _) e === t ? _[t].show(!0) : _[t].show(!1)
            }

            function s(e, t) {
                var n = Number(l.view.width),
                    r = Number(l.view.height);
                if (0 !== n && 0 !== r && 0 !== e && 0 !== t) {
                    T.w = e, T.h = t;
                    var i, o, a = r / n;
                    t / e > a ? (i = Math.round(e), o = Math.round(e * a), l.view.style.marginTop = (t - o) / 2 + "px", l.view.style.marginLeft = "0px") : (o = Math.round(t), i = Math.round(t / a), l.view.style.marginLeft = (e - i) / 2 + "px", l.view.style.marginTop = "0px"), l.view.style.width = i + "px", l.view.style.height = o + "px"
                }
            }
            var u, l, c, h, d, f, p, m = e("com/pixijs/pixi"),
                g = {},
                _ = {},
                y = {},
                v = e("skbJet/component/utils/PauseTimer"),
                b = {},
                x = null,
                T = {
                    w: 0,
                    h: 0
                };
            return {
                init: o,
                lib: g,
                fitSize: s,
                showScene: a,
                animMap: y,
                newPixiRenderer: r,
                switchPixiRenderer: i,
                getSize: function() {
                    return {
                        width: p.width,
                        height: p.height
                    }
                },
                getPixiRenderer: function() {
                    return l
                },
                getTicker: function() {
                    return h
                },
                getTimer: function() {
                    return v
                },
                forceRender: function() {
                    l.render(d)
                }
            }
        }), define("skbJet/component/resourceLoader/resourceLib", [], function() {
            return {}
        }),
        function() {
            "use strict";
            var e = function() {
                this.init()
            };
            e.prototype = {
                init: function() {
                    var e = this || t;
                    return e._counter = 1e3, e._codecs = {}, e._howls = [], e._muted = !1, e._volume = 1, e._canPlayEvent = "canplaythrough", e._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null, e.masterGain = null, e.noAudio = !1, e.usingWebAudio = !0, e.autoSuspend = !0, e.ctx = null, e.mobileAutoEnable = !0, e._setup(), e
                },
                volume: function(e) {
                    var n = this || t;
                    if (e = parseFloat(e), n.ctx || l(), void 0 !== e && e >= 0 && e <= 1) {
                        if (n._volume = e, n._muted) return n;
                        n.usingWebAudio && n.masterGain.gain.setValueAtTime(e, t.ctx.currentTime);
                        for (var r = 0; r < n._howls.length; r++)
                            if (!n._howls[r]._webAudio)
                                for (var i = n._howls[r]._getSoundIds(), o = 0; o < i.length; o++) {
                                    var a = n._howls[r]._soundById(i[o]);
                                    a && a._node && (a._node.volume = a._volume * e)
                                }
                        return n
                    }
                    return n._volume
                },
                mute: function(e) {
                    var n = this || t;
                    n.ctx || l(), n._muted = e, n.usingWebAudio && n.masterGain.gain.setValueAtTime(e ? 0 : n._volume, t.ctx.currentTime);
                    for (var r = 0; r < n._howls.length; r++)
                        if (!n._howls[r]._webAudio)
                            for (var i = n._howls[r]._getSoundIds(), o = 0; o < i.length; o++) {
                                var a = n._howls[r]._soundById(i[o]);
                                a && a._node && (a._node.muted = !!e || a._muted)
                            }
                    return n
                },
                unload: function() {
                    for (var e = this || t, n = e._howls.length - 1; n >= 0; n--) e._howls[n].unload();
                    return e.usingWebAudio && e.ctx && void 0 !== e.ctx.close && (e.ctx.close(), e.ctx = null, l()), e
                },
                codecs: function(e) {
                    return (this || t)._codecs[e.replace(/^x-/, "")]
                },
                _setup: function() {
                    var e = this || t;
                    if (e.state = e.ctx ? e.ctx.state || "running" : "running", e._autoSuspend(), !e.usingWebAudio)
                        if ("undefined" != typeof Audio) try {
                            var n = new Audio;
                            void 0 === n.oncanplaythrough && (e._canPlayEvent = "canplay")
                        } catch (t) {
                            e.noAudio = !0
                        } else e.noAudio = !0;
                    try {
                        var n = new Audio;
                        n.muted && (e.noAudio = !0)
                    } catch (e) {}
                    return e.noAudio || e._setupCodecs(), e
                },
                _setupCodecs: function() {
                    var e = this || t,
                        n = null;
                    try {
                        n = "undefined" != typeof Audio ? new Audio : null
                    } catch (t) {
                        return e
                    }
                    if (!n || "function" != typeof n.canPlayType) return e;
                    var r = n.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                        i = e._navigator && e._navigator.userAgent.match(/OPR\/([0-6].)/g),
                        o = i && parseInt(i[0].split("/")[1], 10) < 33;
                    return e._codecs = {
                        mp3: !(o || !r && !n.canPlayType("audio/mp3;").replace(/^no$/, "")),
                        mpeg: !!r,
                        opus: !!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                        ogg: !!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        oga: !!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        wav: !!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                        aac: !!n.canPlayType("audio/aac;").replace(/^no$/, ""),
                        caf: !!n.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                        m4a: !!(n.canPlayType("audio/x-m4a;") || n.canPlayType("audio/m4a;") || n.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        mp4: !!(n.canPlayType("audio/x-mp4;") || n.canPlayType("audio/mp4;") || n.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        weba: !!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        webm: !!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        dolby: !!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                        flac: !!(n.canPlayType("audio/x-flac;") || n.canPlayType("audio/flac;")).replace(/^no$/, "")
                    }, e
                },
                _enableMobileAudio: function() {
                    var e = this || t,
                        n = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator && e._navigator.userAgent),
                        r = !!("ontouchend" in window || e._navigator && e._navigator.maxTouchPoints > 0 || e._navigator && e._navigator.msMaxTouchPoints > 0);
                    if (!e._mobileEnabled && e.ctx && (n || r)) {
                        e._mobileEnabled = !1, e._mobileUnloaded || 44100 === e.ctx.sampleRate || (e._mobileUnloaded = !0, e.unload()), e._scratchBuffer = e.ctx.createBuffer(1, 1, 22050);
                        var i = function() {
                            t._autoResume();
                            var n = e.ctx.createBufferSource();
                            n.buffer = e._scratchBuffer, n.connect(e.ctx.destination),
                                void 0 === n.start ? n.noteOn(0) : n.start(0), "function" == typeof e.ctx.resume && e.ctx.resume(), n.onended = function() {
                                    n.disconnect(0), e._mobileEnabled = !0, e.mobileAutoEnable = !1, document.removeEventListener("touchstart", i, !0), document.removeEventListener("touchend", i, !0)
                                }
                        };
                        return document.addEventListener("touchstart", i, !0), document.addEventListener("touchend", i, !0), e
                    }
                },
                _autoSuspend: function() {
                    var e = this;
                    if (e.autoSuspend && e.ctx && void 0 !== e.ctx.suspend && t.usingWebAudio) {
                        for (var n = 0; n < e._howls.length; n++)
                            if (e._howls[n]._webAudio)
                                for (var r = 0; r < e._howls[n]._sounds.length; r++)
                                    if (!e._howls[n]._sounds[r]._paused) return e;
                        return e._suspendTimer && clearTimeout(e._suspendTimer), e._suspendTimer = setTimeout(function() {
                            e.autoSuspend && (e._suspendTimer = null, e.state = "suspending", e.ctx.suspend().then(function() {
                                e.state = "suspended", e._resumeAfterSuspend && (delete e._resumeAfterSuspend, e._autoResume())
                            }))
                        }, 3e4), e
                    }
                },
                _autoResume: function() {
                    var e = this;
                    if (e.ctx && void 0 !== e.ctx.resume && t.usingWebAudio) return "running" === e.state && e._suspendTimer ? (clearTimeout(e._suspendTimer), e._suspendTimer = null) : "suspended" === e.state ? (e.ctx.resume().then(function() {
                        e.state = "running";
                        for (var t = 0; t < e._howls.length; t++) e._howls[t]._emit("resume")
                    }), e._suspendTimer && (clearTimeout(e._suspendTimer), e._suspendTimer = null)) : "suspending" === e.state && (e._resumeAfterSuspend = !0), e
                }
            };
            var t = new e,
                n = function(e) {
                    var t = this;
                    e.src && 0 !== e.src.length && t.init(e)
                };
            n.prototype = {
                init: function(e) {
                    var n = this;
                    return t.ctx || l(), n._autoplay = e.autoplay || !1, n._format = "string" != typeof e.format ? e.format : [e.format], n._html5 = e.html5 || !1, n._muted = e.mute || !1, n._loop = e.loop || !1, n._pool = e.pool || 5, n._preload = "boolean" != typeof e.preload || e.preload, n._rate = e.rate || 1, n._sprite = e.sprite || {}, n._src = "string" != typeof e.src ? e.src : [e.src], n._volume = void 0 !== e.volume ? e.volume : 1, n._xhrWithCredentials = e.xhrWithCredentials || !1, n._duration = 0, n._state = "unloaded", n._sounds = [], n._endTimers = {}, n._queue = [], n._playLock = !1, n._onend = e.onend ? [{
                        fn: e.onend
                    }] : [], n._onfade = e.onfade ? [{
                        fn: e.onfade
                    }] : [], n._onload = e.onload ? [{
                        fn: e.onload
                    }] : [], n._onloaderror = e.onloaderror ? [{
                        fn: e.onloaderror
                    }] : [], n._onplayerror = e.onplayerror ? [{
                        fn: e.onplayerror
                    }] : [], n._onpause = e.onpause ? [{
                        fn: e.onpause
                    }] : [], n._onplay = e.onplay ? [{
                        fn: e.onplay
                    }] : [], n._onstop = e.onstop ? [{
                        fn: e.onstop
                    }] : [], n._onmute = e.onmute ? [{
                        fn: e.onmute
                    }] : [], n._onvolume = e.onvolume ? [{
                        fn: e.onvolume
                    }] : [], n._onrate = e.onrate ? [{
                        fn: e.onrate
                    }] : [], n._onseek = e.onseek ? [{
                        fn: e.onseek
                    }] : [], n._onresume = [], n._webAudio = t.usingWebAudio && !n._html5, void 0 !== t.ctx && t.ctx && t.mobileAutoEnable && t._enableMobileAudio(), t._howls.push(n), n._autoplay && n._queue.push({
                        event: "play",
                        action: function() {
                            n.play()
                        }
                    }), n._preload && n.load(), n
                },
                load: function() {
                    var e = this,
                        n = null;
                    if (t.noAudio) return void e._emit("loaderror", null, "No audio support.");
                    "string" == typeof e._src && (e._src = [e._src]);
                    for (var i = 0; i < e._src.length; i++) {
                        var a, s;
                        if (e._format && e._format[i]) a = e._format[i];
                        else {
                            if ("string" != typeof(s = e._src[i])) {
                                e._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                continue
                            }
                            a = /^data:audio\/([^;,]+);/i.exec(s), a || (a = /\.([^.]+)$/.exec(s.split("?", 1)[0])), a && (a = a[1].toLowerCase())
                        }
                        if (a && t.codecs(a)) {
                            n = e._src[i];
                            break
                        }
                    }
                    return n ? (e._src = n, e._state = "loading", "https:" === window.location.protocol && "http:" === n.slice(0, 5) && (e._html5 = !0, e._webAudio = !1), new r(e), e._webAudio && o(e), e) : void e._emit("loaderror", null, "No codec support for selected audio sources.")
                },
                play: function(e, n) {
                    var r = this,
                        i = null;
                    if ("number" == typeof e) i = e, e = null;
                    else {
                        if ("string" == typeof e && "loaded" === r._state && !r._sprite[e]) return null;
                        if (void 0 === e) {
                            e = "__default";
                            for (var o = 0, a = 0; a < r._sounds.length; a++) r._sounds[a]._paused && !r._sounds[a]._ended && (o++, i = r._sounds[a]._id);
                            1 === o ? e = null : i = null
                        }
                    }
                    var s = i ? r._soundById(i) : r._inactiveSound();
                    if (!s) return null;
                    if (i && !e && (e = s._sprite || "__default"), "loaded" !== r._state) {
                        s._sprite = e, s._ended = !1;
                        var u = s._id;
                        return r._queue.push({
                            event: "play",
                            action: function() {
                                r.play(u)
                            }
                        }), u
                    }
                    if (i && !s._paused) return n || setTimeout(function() {
                        r._emit("play", s._id)
                    }, 0), s._id;
                    r._webAudio && t._autoResume();
                    var l = Math.max(0, s._seek > 0 ? s._seek : r._sprite[e][0] / 1e3),
                        c = Math.max(0, (r._sprite[e][0] + r._sprite[e][1]) / 1e3 - l),
                        h = 1e3 * c / Math.abs(s._rate);
                    s._paused = !1, s._ended = !1, s._sprite = e, s._seek = l, s._start = r._sprite[e][0] / 1e3, s._stop = (r._sprite[e][0] + r._sprite[e][1]) / 1e3, s._loop = !(!s._loop && !r._sprite[e][2]);
                    var d = s._node;
                    if (r._webAudio) {
                        var f = function() {
                            r._refreshBuffer(s);
                            var e = s._muted || r._muted ? 0 : s._volume;
                            d.gain.setValueAtTime(e, t.ctx.currentTime), s._playStart = t.ctx.currentTime, void 0 === d.bufferSource.start ? s._loop ? d.bufferSource.noteGrainOn(0, l, 86400) : d.bufferSource.noteGrainOn(0, l, c) : s._loop ? d.bufferSource.start(0, l, 86400) : d.bufferSource.start(0, l, c), h !== 1 / 0 && (r._endTimers[s._id] = setTimeout(r._ended.bind(r, s), h)), n || setTimeout(function() {
                                r._emit("play", s._id)
                            }, 0)
                        };
                        "running" === t.state ? f() : (r.once("resume", f), r._clearTimer(s._id))
                    } else {
                        var p = function() {
                                d.currentTime = l, d.muted = s._muted || r._muted || t._muted || d.muted, d.volume = s._volume * t.volume(), d.playbackRate = s._rate;
                                try {
                                    var e = d.play();
                                    if ("undefined" != typeof Promise && e instanceof Promise && (r._playLock = !0, e.then(function() {
                                            r._playLock = !1, r._loadQueue()
                                        })), d.paused) return void r._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");
                                    h !== 1 / 0 && (r._endTimers[s._id] = setTimeout(r._ended.bind(r, s), h)), n || r._emit("play", s._id)
                                } catch (e) {
                                    r._emit("playerror", s._id, e)
                                }
                            },
                            m = window && window.ejecta || !d.readyState && t._navigator.isCocoonJS;
                        if (4 === d.readyState || m) p();
                        else {
                            var g = function() {
                                p(), d.removeEventListener(t._canPlayEvent, g, !1)
                            };
                            d.addEventListener(t._canPlayEvent, g, !1), r._clearTimer(s._id)
                        }
                    }
                    return s._id
                },
                pause: function(e) {
                    var t = this;
                    if ("loaded" !== t._state || t._playLock) return t._queue.push({
                        event: "pause",
                        action: function() {
                            t.pause(e)
                        }
                    }), t;
                    for (var n = t._getSoundIds(e), r = 0; r < n.length; r++) {
                        t._clearTimer(n[r]);
                        var i = t._soundById(n[r]);
                        if (i && !i._paused && (i._seek = t.seek(n[r]), i._rateSeek = 0, i._paused = !0, t._stopFade(n[r]), i._node))
                            if (t._webAudio) {
                                if (!i._node.bufferSource) continue;
                                void 0 === i._node.bufferSource.stop ? i._node.bufferSource.noteOff(0) : i._node.bufferSource.stop(0), t._cleanBuffer(i._node)
                            } else isNaN(i._node.duration) && i._node.duration !== 1 / 0 || i._node.pause();
                        arguments[1] || t._emit("pause", i ? i._id : null)
                    }
                    return t
                },
                stop: function(e, t) {
                    var n = this;
                    if ("loaded" !== n._state) return n._queue.push({
                        event: "stop",
                        action: function() {
                            n.stop(e)
                        }
                    }), n;
                    for (var r = n._getSoundIds(e), i = 0; i < r.length; i++) {
                        n._clearTimer(r[i]);
                        var o = n._soundById(r[i]);
                        o && (o._seek = o._start || 0, o._rateSeek = 0, o._paused = !0, o._ended = !0, n._stopFade(r[i]), o._node && (n._webAudio ? o._node.bufferSource && (void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0), n._cleanBuffer(o._node)) : isNaN(o._node.duration) && o._node.duration !== 1 / 0 || (o._node.currentTime = o._start || 0, o._node.pause())), t || n._emit("stop", o._id))
                    }
                    return n
                },
                mute: function(e, n) {
                    var r = this;
                    if ("loaded" !== r._state) return r._queue.push({
                        event: "mute",
                        action: function() {
                            r.mute(e, n)
                        }
                    }), r;
                    if (void 0 === n) {
                        if ("boolean" != typeof e) return r._muted;
                        r._muted = e
                    }
                    for (var i = r._getSoundIds(n), o = 0; o < i.length; o++) {
                        var a = r._soundById(i[o]);
                        a && (a._muted = e, a._interval && r._stopFade(a._id), r._webAudio && a._node ? a._node.gain.setValueAtTime(e ? 0 : a._volume, t.ctx.currentTime) : a._node && (a._node.muted = !!t._muted || e), r._emit("mute", a._id))
                    }
                    return r
                },
                volume: function() {
                    var e, n, r = this,
                        i = arguments;
                    if (0 === i.length) return r._volume;
                    1 === i.length || 2 === i.length && void 0 === i[1] ? r._getSoundIds().indexOf(i[0]) >= 0 ? n = parseInt(i[0], 10) : e = parseFloat(i[0]) : i.length >= 2 && (e = parseFloat(i[0]), n = parseInt(i[1], 10));
                    var o;
                    if (!(void 0 !== e && e >= 0 && e <= 1)) return o = n ? r._soundById(n) : r._sounds[0], o ? o._volume : 0;
                    if ("loaded" !== r._state) return r._queue.push({
                        event: "volume",
                        action: function() {
                            r.volume.apply(r, i)
                        }
                    }), r;
                    void 0 === n && (r._volume = e), n = r._getSoundIds(n);
                    for (var a = 0; a < n.length; a++)(o = r._soundById(n[a])) && (o._volume = e, i[2] || r._stopFade(n[a]), r._webAudio && o._node && !o._muted ? o._node.gain.setValueAtTime(e, t.ctx.currentTime) : o._node && !o._muted && (o._node.volume = e * t.volume()), r._emit("volume", o._id));
                    return r
                },
                fade: function(e, n, r, i) {
                    var o = this;
                    if ("loaded" !== o._state) return o._queue.push({
                        event: "fade",
                        action: function() {
                            o.fade(e, n, r, i)
                        }
                    }), o;
                    o.volume(e, i);
                    for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
                        var u = o._soundById(a[s]);
                        if (u) {
                            if (i || o._stopFade(a[s]), o._webAudio && !u._muted) {
                                var l = t.ctx.currentTime,
                                    c = l + r / 1e3;
                                u._volume = e, u._node.gain.setValueAtTime(e, l), u._node.gain.linearRampToValueAtTime(n, c)
                            }
                            o._startFadeInterval(u, e, n, r, a[s], void 0 === i)
                        }
                    }
                    return o
                },
                _startFadeInterval: function(e, t, n, r, i, o) {
                    var a = this,
                        s = t,
                        u = t > n ? "out" : "in",
                        l = Math.abs(t - n),
                        c = l / .01,
                        h = c > 0 ? r / c : r;
                    h < 4 && (c = Math.ceil(c / (4 / h)), h = 4), e._fadeTo = n, e._interval = setInterval(function() {
                        c > 0 && (s += "in" === u ? .01 : -.01), s = Math.max(0, s), s = Math.min(1, s), s = Math.round(100 * s) / 100, a._webAudio ? e._volume = s : a.volume(s, e._id, !0), o && (a._volume = s), (n < t && s <= n || n > t && s >= n) && (clearInterval(e._interval), e._interval = null, e._fadeTo = null, a.volume(n, e._id), a._emit("fade", e._id))
                    }, h)
                },
                _stopFade: function(e) {
                    var n = this,
                        r = n._soundById(e);
                    return r && r._interval && (n._webAudio && r._node.gain.cancelScheduledValues(t.ctx.currentTime), clearInterval(r._interval), r._interval = null, n.volume(r._fadeTo, e), r._fadeTo = null, n._emit("fade", e)), n
                },
                loop: function() {
                    var e, t, n, r = this,
                        i = arguments;
                    if (0 === i.length) return r._loop;
                    if (1 === i.length) {
                        if ("boolean" != typeof i[0]) return !!(n = r._soundById(parseInt(i[0], 10))) && n._loop;
                        e = i[0], r._loop = e
                    } else 2 === i.length && (e = i[0], t = parseInt(i[1], 10));
                    for (var o = r._getSoundIds(t), a = 0; a < o.length; a++)(n = r._soundById(o[a])) && (n._loop = e, r._webAudio && n._node && n._node.bufferSource && (n._node.bufferSource.loop = e, e && (n._node.bufferSource.loopStart = n._start || 0, n._node.bufferSource.loopEnd = n._stop)));
                    return r
                },
                rate: function() {
                    var e, n, r = this,
                        i = arguments;
                    if (0 === i.length) n = r._sounds[0]._id;
                    else if (1 === i.length) {
                        var o = r._getSoundIds(),
                            a = o.indexOf(i[0]);
                        a >= 0 ? n = parseInt(i[0], 10) : e = parseFloat(i[0])
                    } else 2 === i.length && (e = parseFloat(i[0]), n = parseInt(i[1], 10));
                    var s;
                    if ("number" != typeof e) return s = r._soundById(n), s ? s._rate : r._rate;
                    if ("loaded" !== r._state) return r._queue.push({
                        event: "rate",
                        action: function() {
                            r.rate.apply(r, i)
                        }
                    }), r;
                    void 0 === n && (r._rate = e), n = r._getSoundIds(n);
                    for (var u = 0; u < n.length; u++)
                        if (s = r._soundById(n[u])) {
                            s._rateSeek = r.seek(n[u]), s._playStart = r._webAudio ? t.ctx.currentTime : s._playStart, s._rate = e, r._webAudio && s._node && s._node.bufferSource ? s._node.bufferSource.playbackRate.value = e : s._node && (s._node.playbackRate = e);
                            var l = r.seek(n[u]),
                                c = (r._sprite[s._sprite][0] + r._sprite[s._sprite][1]) / 1e3 - l,
                                h = 1e3 * c / Math.abs(s._rate);
                            !r._endTimers[n[u]] && s._paused || (r._clearTimer(n[u]), r._endTimers[n[u]] = setTimeout(r._ended.bind(r, s), h)), r._emit("rate", s._id)
                        }
                    return r
                },
                seek: function() {
                    var e, n, r = this,
                        i = arguments;
                    if (0 === i.length) n = r._sounds[0]._id;
                    else if (1 === i.length) {
                        var o = r._getSoundIds(),
                            a = o.indexOf(i[0]);
                        a >= 0 ? n = parseInt(i[0], 10) : r._sounds.length && (n = r._sounds[0]._id, e = parseFloat(i[0]))
                    } else 2 === i.length && (e = parseFloat(i[0]), n = parseInt(i[1], 10));
                    if (void 0 === n) return r;
                    if ("loaded" !== r._state) return r._queue.push({
                        event: "seek",
                        action: function() {
                            r.seek.apply(r, i)
                        }
                    }), r;
                    var s = r._soundById(n);
                    if (s) {
                        if (!("number" == typeof e && e >= 0)) {
                            if (r._webAudio) {
                                var u = r.playing(n) ? t.ctx.currentTime - s._playStart : 0,
                                    l = s._rateSeek ? s._rateSeek - s._seek : 0;
                                return s._seek + (l + u * Math.abs(s._rate))
                            }
                            return s._node.currentTime
                        }
                        var c = r.playing(n);
                        c && r.pause(n, !0), s._seek = e, s._ended = !1, r._clearTimer(n), c && r.play(n, !0), !r._webAudio && s._node && (s._node.currentTime = e), r._emit("seek", n)
                    }
                    return r
                },
                playing: function(e) {
                    var t = this;
                    if ("number" == typeof e) {
                        var n = t._soundById(e);
                        return !!n && !n._paused
                    }
                    for (var r = 0; r < t._sounds.length; r++)
                        if (!t._sounds[r]._paused) return !0;
                    return !1
                },
                duration: function(e) {
                    var t = this,
                        n = t._duration,
                        r = t._soundById(e);
                    return r && (n = t._sprite[r._sprite][1] / 1e3), n
                },
                state: function() {
                    return this._state
                },
                unload: function() {
                    for (var e = this, n = e._sounds, r = 0; r < n.length; r++) {
                        n[r]._paused || e.stop(n[r]._id), e._webAudio || (/MSIE |Trident\//.test(t._navigator && t._navigator.userAgent) || (n[r]._node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"), n[r]._node.removeEventListener("error", n[r]._errorFn, !1), n[r]._node.removeEventListener(t._canPlayEvent, n[r]._loadFn, !1)), delete n[r]._node, e._clearTimer(n[r]._id);
                        var o = t._howls.indexOf(e);
                        o >= 0 && t._howls.splice(o, 1)
                    }
                    var a = !0;
                    for (r = 0; r < t._howls.length; r++)
                        if (t._howls[r]._src === e._src) {
                            a = !1;
                            break
                        }
                    return i && a && delete i[e._src], t.noAudio = !1, e._state = "unloaded", e._sounds = [], e = null, null
                },
                on: function(e, t, n, r) {
                    var i = this,
                        o = i["_on" + e];
                    return "function" == typeof t && o.push(r ? {
                        id: n,
                        fn: t,
                        once: r
                    } : {
                        id: n,
                        fn: t
                    }), i
                },
                off: function(e, t, n) {
                    var r = this,
                        i = r["_on" + e],
                        o = 0;
                    if ("number" == typeof t && (n = t, t = null), t || n)
                        for (o = 0; o < i.length; o++) {
                            var a = n === i[o].id;
                            if (t === i[o].fn && a || !t && a) {
                                i.splice(o, 1);
                                break
                            }
                        } else if (e) r["_on" + e] = [];
                        else {
                            var s = Object.keys(r);
                            for (o = 0; o < s.length; o++) 0 === s[o].indexOf("_on") && Array.isArray(r[s[o]]) && (r[s[o]] = [])
                        }
                    return r
                },
                once: function(e, t, n) {
                    var r = this;
                    return r.on(e, t, n, 1), r
                },
                _emit: function(e, t, n) {
                    for (var r = this, i = r["_on" + e], o = i.length - 1; o >= 0; o--) i[o].id && i[o].id !== t && "load" !== e || (setTimeout(function(e) {
                        e.call(this, t, n)
                    }.bind(r, i[o].fn), 0), i[o].once && r.off(e, i[o].fn, i[o].id));
                    return r
                },
                _loadQueue: function() {
                    var e = this;
                    if (e._queue.length > 0) {
                        var t = e._queue[0];
                        e.once(t.event, function() {
                            e._queue.shift(), e._loadQueue()
                        }), t.action()
                    }
                    return e
                },
                _ended: function(e) {
                    var n = this,
                        r = e._sprite;
                    if (!n._webAudio && e._node && !e._node.paused && !e._node.ended && e._node.currentTime < e._stop) return setTimeout(n._ended.bind(n, e), 100), n;
                    var i = !(!e._loop && !n._sprite[r][2]);
                    if (n._emit("end", e._id), !n._webAudio && i && n.stop(e._id, !0).play(e._id), n._webAudio && i) {
                        n._emit("play", e._id), e._seek = e._start || 0, e._rateSeek = 0, e._playStart = t.ctx.currentTime;
                        var o = 1e3 * (e._stop - e._start) / Math.abs(e._rate);
                        n._endTimers[e._id] = setTimeout(n._ended.bind(n, e), o)
                    }
                    return n._webAudio && !i && (e._paused = !0, e._ended = !0, e._seek = e._start || 0, e._rateSeek = 0, n._clearTimer(e._id), n._cleanBuffer(e._node), t._autoSuspend()), n._webAudio || i || n.stop(e._id), n
                },
                _clearTimer: function(e) {
                    var t = this;
                    return t._endTimers[e] && (clearTimeout(t._endTimers[e]), delete t._endTimers[e]), t
                },
                _soundById: function(e) {
                    for (var t = this, n = 0; n < t._sounds.length; n++)
                        if (e === t._sounds[n]._id) return t._sounds[n];
                    return null
                },
                _inactiveSound: function() {
                    var e = this;
                    e._drain();
                    for (var t = 0; t < e._sounds.length; t++)
                        if (e._sounds[t]._ended) return e._sounds[t].reset();
                    return new r(e)
                },
                _drain: function() {
                    var e = this,
                        t = e._pool,
                        n = 0,
                        r = 0;
                    if (!(e._sounds.length < t)) {
                        for (r = 0; r < e._sounds.length; r++) e._sounds[r]._ended && n++;
                        for (r = e._sounds.length - 1; r >= 0; r--) {
                            if (n <= t) return;
                            e._sounds[r]._ended && (e._webAudio && e._sounds[r]._node && e._sounds[r]._node.disconnect(0), e._sounds.splice(r, 1), n--)
                        }
                    }
                },
                _getSoundIds: function(e) {
                    var t = this;
                    if (void 0 === e) {
                        for (var n = [], r = 0; r < t._sounds.length; r++) n.push(t._sounds[r]._id);
                        return n
                    }
                    return [e]
                },
                _refreshBuffer: function(e) {
                    var n = this;
                    return e._node.bufferSource = t.ctx.createBufferSource(), e._node.bufferSource.buffer = i[n._src], e._panner ? e._node.bufferSource.connect(e._panner) : e._node.bufferSource.connect(e._node), e._node.bufferSource.loop = e._loop, e._loop && (e._node.bufferSource.loopStart = e._start || 0, e._node.bufferSource.loopEnd = e._stop), e._node.bufferSource.playbackRate.value = e._rate, n
                },
                _cleanBuffer: function(e) {
                    var n = this;
                    if (t._scratchBuffer) {
                        e.bufferSource.onended = null, e.bufferSource.disconnect(0);
                        try {
                            e.bufferSource.buffer = t._scratchBuffer
                        } catch (e) {}
                    }
                    return e.bufferSource = null, n
                }
            };
            var r = function(e) {
                this._parent = e, this.init()
            };
            r.prototype = {
                init: function() {
                    var e = this,
                        n = e._parent;
                    return e._muted = n._muted, e._loop = n._loop, e._volume = n._volume, e._rate = n._rate, e._seek = 0, e._paused = !0, e._ended = !0, e._sprite = "__default", e._id = ++t._counter, n._sounds.push(e), e.create(), e
                },
                create: function() {
                    var e = this,
                        n = e._parent,
                        r = t._muted || e._muted || e._parent._muted ? 0 : e._volume;
                    return n._webAudio ? (e._node = void 0 === t.ctx.createGain ? t.ctx.createGainNode() : t.ctx.createGain(), e._node.gain.setValueAtTime(r, t.ctx.currentTime), e._node.paused = !0, e._node.connect(t.masterGain)) : (e._node = new Audio, e._errorFn = e._errorListener.bind(e), e._node.addEventListener("error", e._errorFn, !1), e._loadFn = e._loadListener.bind(e), e._node.addEventListener(t._canPlayEvent, e._loadFn, !1), e._node.src = n._src, e._node.preload = "auto", e._node.volume = r * t.volume(), e._node.load()), e
                },
                reset: function() {
                    var e = this,
                        n = e._parent;
                    return e._muted = n._muted, e._loop = n._loop, e._volume = n._volume, e._rate = n._rate, e._seek = 0, e._rateSeek = 0, e._paused = !0, e._ended = !0, e._sprite = "__default", e._id = ++t._counter, e
                },
                _errorListener: function() {
                    var e = this;
                    e._parent._emit("loaderror", e._id, e._node.error ? e._node.error.code : 0), e._node.removeEventListener("error", e._errorFn, !1)
                },
                _loadListener: function() {
                    var e = this,
                        n = e._parent;
                    n._duration = Math.ceil(10 * e._node.duration) / 10, 0 === Object.keys(n._sprite).length && (n._sprite = {
                        __default: [0, 1e3 * n._duration]
                    }), "loaded" !== n._state && (n._state = "loaded", n._emit("load"), n._loadQueue()), e._node.removeEventListener(t._canPlayEvent, e._loadFn, !1)
                }
            };
            var i = {},
                o = function(e) {
                    var t = e._src;
                    if (i[t]) return e._duration = i[t].duration, void u(e);
                    if (/^data:[^;]+;base64,/.test(t)) {
                        for (var n = atob(t.split(",")[1]), r = new Uint8Array(n.length), o = 0; o < n.length; ++o) r[o] = n.charCodeAt(o);
                        s(r.buffer, e)
                    } else {
                        var l = new XMLHttpRequest;
                        l.open("GET", t, !0), l.withCredentials = e._xhrWithCredentials, l.responseType = "arraybuffer", l.onload = function() {
                            var t = (l.status + "")[0];
                            if ("0" !== t && "2" !== t && "3" !== t) return void e._emit("loaderror", null, "Failed loading audio file with status: " + l.status + ".");
                            s(l.response, e)
                        }, l.onerror = function() {
                            e._webAudio && (e._html5 = !0, e._webAudio = !1, e._sounds = [], delete i[t], e.load())
                        }, a(l)
                    }
                },
                a = function(e) {
                    try {
                        e.send()
                    } catch (t) {
                        e.onerror()
                    }
                },
                s = function(e, n) {
                    t.ctx.decodeAudioData(e, function(e) {
                        e && n._sounds.length > 0 && (i[n._src] = e, u(n, e))
                    }, function() {
                        n._emit("loaderror", null, "Decoding audio data failed.")
                    })
                },
                u = function(e, t) {
                    t && !e._duration && (e._duration = t.duration), 0 === Object.keys(e._sprite).length && (e._sprite = {
                        __default: [0, 1e3 * e._duration]
                    }), "loaded" !== e._state && (e._state = "loaded", e._emit("load"), e._loadQueue())
                },
                l = function() {
                    try {
                        "undefined" != typeof AudioContext ? t.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? t.ctx = new webkitAudioContext : t.usingWebAudio = !1
                    } catch (e) {
                        t.usingWebAudio = !1
                    }
                    var e = /iP(hone|od|ad)/.test(t._navigator && t._navigator.platform),
                        n = t._navigator && t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                        r = n ? parseInt(n[1], 10) : null;
                    if (e && r && r < 9) {
                        var i = /safari/.test(t._navigator && t._navigator.userAgent.toLowerCase());
                        (t._navigator && t._navigator.standalone && !i || t._navigator && !t._navigator.standalone && !i) && (t.usingWebAudio = !1)
                    }
                    t.usingWebAudio && (t.masterGain = void 0 === t.ctx.createGain ? t.ctx.createGainNode() : t.ctx.createGain(), t.masterGain.gain.setValueAtTime(t._muted ? 0 : 1, t.ctx.currentTime), t.masterGain.connect(t.ctx.destination)), t._setup()
                };
            "function" == typeof define && define.amd && define("com/howlerjs/howler", [], function() {
                return {
                    Howler: t,
                    Howl: n
                }
            }), "undefined" != typeof exports && (exports.Howler = t, exports.Howl = n), "undefined" != typeof window ? (window.HowlerGlobal = e, window.Howler = t, window.Howl = n, window.Sound = r) : "undefined" != typeof global && (global.HowlerGlobal = e, global.Howler = t, global.Howl = n, global.Sound = r)
        }(),
        function() {
            "use strict";
            HowlerGlobal.prototype._pos = [0, 0, 0], HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0], HowlerGlobal.prototype.stereo = function(e) {
                var t = this;
                if (!t.ctx || !t.ctx.listener) return t;
                for (var n = t._howls.length - 1; n >= 0; n--) t._howls[n].stereo(e);
                return t
            }, HowlerGlobal.prototype.pos = function(e, t, n) {
                var r = this;
                return r.ctx && r.ctx.listener ? (t = "number" != typeof t ? r._pos[1] : t, n = "number" != typeof n ? r._pos[2] : n, "number" != typeof e ? r._pos : (r._pos = [e, t, n], r.ctx.listener.setPosition(r._pos[0], r._pos[1], r._pos[2]), r)) : r
            }, HowlerGlobal.prototype.orientation = function(e, t, n, r, i, o) {
                var a = this;
                if (!a.ctx || !a.ctx.listener) return a;
                var s = a._orientation;
                return t = "number" != typeof t ? s[1] : t, n = "number" != typeof n ? s[2] : n, r = "number" != typeof r ? s[3] : r, i = "number" != typeof i ? s[4] : i, o = "number" != typeof o ? s[5] : o, "number" != typeof e ? s : (a._orientation = [e, t, n, r, i, o], a.ctx.listener.setOrientation(e, t, n, r, i, o), a)
            }, Howl.prototype.init = function(e) {
                return function(t) {
                    var n = this;
                    return n._orientation = t.orientation || [1, 0, 0], n._stereo = t.stereo || null, n._pos = t.pos || null, n._pannerAttr = {
                        coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : 360,
                        coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : 360,
                        coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : 0,
                        distanceModel: void 0 !== t.distanceModel ? t.distanceModel : "inverse",
                        maxDistance: void 0 !== t.maxDistance ? t.maxDistance : 1e4,
                        panningModel: void 0 !== t.panningModel ? t.panningModel : "HRTF",
                        refDistance: void 0 !== t.refDistance ? t.refDistance : 1,
                        rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : 1
                    }, n._onstereo = t.onstereo ? [{
                        fn: t.onstereo
                    }] : [], n._onpos = t.onpos ? [{
                        fn: t.onpos
                    }] : [], n._onorientation = t.onorientation ? [{
                        fn: t.onorientation
                    }] : [], e.call(this, t)
                }
            }(Howl.prototype.init), Howl.prototype.stereo = function(t, n) {
                var r = this;
                if (!r._webAudio) return r;
                if ("loaded" !== r._state) return r._queue.push({
                    event: "stereo",
                    action: function() {
                        r.stereo(t, n)
                    }
                }), r;
                var i = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                if (void 0 === n) {
                    if ("number" != typeof t) return r._stereo;
                    r._stereo = t, r._pos = [t, 0, 0]
                }
                for (var o = r._getSoundIds(n), a = 0; a < o.length; a++) {
                    var s = r._soundById(o[a]);
                    if (s) {
                        if ("number" != typeof t) return s._stereo;
                        s._stereo = t, s._pos = [t, 0, 0], s._node && (s._pannerAttr.panningModel = "equalpower", s._panner && s._panner.pan || e(s, i), "spatial" === i ? s._panner.setPosition(t, 0, 0) : s._panner.pan.setValueAtTime(t, Howler.ctx.currentTime)), r._emit("stereo", s._id)
                    }
                }
                return r
            }, Howl.prototype.pos = function(t, n, r, i) {
                var o = this;
                if (!o._webAudio) return o;
                if ("loaded" !== o._state) return o._queue.push({
                    event: "pos",
                    action: function() {
                        o.pos(t, n, r, i)
                    }
                }), o;
                if (n = "number" != typeof n ? 0 : n, r = "number" != typeof r ? -.5 : r, void 0 === i) {
                    if ("number" != typeof t) return o._pos;
                    o._pos = [t, n, r]
                }
                for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
                    var u = o._soundById(a[s]);
                    if (u) {
                        if ("number" != typeof t) return u._pos;
                        u._pos = [t, n, r], u._node && (u._panner && !u._panner.pan || e(u, "spatial"), u._panner.setPosition(t, n, r)), o._emit("pos", u._id)
                    }
                }
                return o
            }, Howl.prototype.orientation = function(t, n, r, i) {
                var o = this;
                if (!o._webAudio) return o;
                if ("loaded" !== o._state) return o._queue.push({
                    event: "orientation",
                    action: function() {
                        o.orientation(t, n, r, i)
                    }
                }), o;
                if (n = "number" != typeof n ? o._orientation[1] : n, r = "number" != typeof r ? o._orientation[2] : r, void 0 === i) {
                    if ("number" != typeof t) return o._orientation;
                    o._orientation = [t, n, r]
                }
                for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
                    var u = o._soundById(a[s]);
                    if (u) {
                        if ("number" != typeof t) return u._orientation;
                        u._orientation = [t, n, r], u._node && (u._panner || (u._pos || (u._pos = o._pos || [0, 0, -.5]), e(u, "spatial")), u._panner.setOrientation(t, n, r)), o._emit("orientation", u._id)
                    }
                }
                return o
            }, Howl.prototype.pannerAttr = function() {
                var t, n, r, i = this,
                    o = arguments;
                if (!i._webAudio) return i;
                if (0 === o.length) return i._pannerAttr;
                if (1 === o.length) {
                    if ("object" != typeof o[0]) return r = i._soundById(parseInt(o[0], 10)), r ? r._pannerAttr : i._pannerAttr;
                    t = o[0], void 0 === n && (t.pannerAttr || (t.pannerAttr = {
                        coneInnerAngle: t.coneInnerAngle,
                        coneOuterAngle: t.coneOuterAngle,
                        coneOuterGain: t.coneOuterGain,
                        distanceModel: t.distanceModel,
                        maxDistance: t.maxDistance,
                        refDistance: t.refDistance,
                        rolloffFactor: t.rolloffFactor,
                        panningModel: t.panningModel
                    }), i._pannerAttr = {
                        coneInnerAngle: void 0 !== t.pannerAttr.coneInnerAngle ? t.pannerAttr.coneInnerAngle : i._coneInnerAngle,
                        coneOuterAngle: void 0 !== t.pannerAttr.coneOuterAngle ? t.pannerAttr.coneOuterAngle : i._coneOuterAngle,
                        coneOuterGain: void 0 !== t.pannerAttr.coneOuterGain ? t.pannerAttr.coneOuterGain : i._coneOuterGain,
                        distanceModel: void 0 !== t.pannerAttr.distanceModel ? t.pannerAttr.distanceModel : i._distanceModel,
                        maxDistance: void 0 !== t.pannerAttr.maxDistance ? t.pannerAttr.maxDistance : i._maxDistance,
                        refDistance: void 0 !== t.pannerAttr.refDistance ? t.pannerAttr.refDistance : i._refDistance,
                        rolloffFactor: void 0 !== t.pannerAttr.rolloffFactor ? t.pannerAttr.rolloffFactor : i._rolloffFactor,
                        panningModel: void 0 !== t.pannerAttr.panningModel ? t.pannerAttr.panningModel : i._panningModel
                    })
                } else 2 === o.length && (t = o[0], n = parseInt(o[1], 10));
                for (var a = i._getSoundIds(n), s = 0; s < a.length; s++)
                    if (r = i._soundById(a[s])) {
                        var u = r._pannerAttr;
                        u = {
                            coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : u.coneInnerAngle,
                            coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : u.coneOuterAngle,
                            coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : u.coneOuterGain,
                            distanceModel: void 0 !== t.distanceModel ? t.distanceModel : u.distanceModel,
                            maxDistance: void 0 !== t.maxDistance ? t.maxDistance : u.maxDistance,
                            refDistance: void 0 !== t.refDistance ? t.refDistance : u.refDistance,
                            rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : u.rolloffFactor,
                            panningModel: void 0 !== t.panningModel ? t.panningModel : u.panningModel
                        };
                        var l = r._panner;
                        l ? (l.coneInnerAngle = u.coneInnerAngle, l.coneOuterAngle = u.coneOuterAngle, l.coneOuterGain = u.coneOuterGain, l.distanceModel = u.distanceModel, l.maxDistance = u.maxDistance, l.refDistance = u.refDistance, l.rolloffFactor = u.rolloffFactor, l.panningModel = u.panningModel) : (r._pos || (r._pos = i._pos || [0, 0, -.5]), e(r, "spatial"))
                    }
                return i
            }, Sound.prototype.init = function(e) {
                return function() {
                    var t = this,
                        n = t._parent;
                    t._orientation = n._orientation, t._stereo = n._stereo, t._pos = n._pos, t._pannerAttr = n._pannerAttr, e.call(this), t._stereo ? n.stereo(t._stereo) : t._pos && n.pos(t._pos[0], t._pos[1], t._pos[2], t._id)
                }
            }(Sound.prototype.init), Sound.prototype.reset = function(e) {
                return function() {
                    var t = this,
                        n = t._parent;
                    return t._orientation = n._orientation, t._pos = n._pos, t._pannerAttr = n._pannerAttr, e.call(this)
                }
            }(Sound.prototype.reset);
            var e = function(e, t) {
                t = t || "spatial", "spatial" === t ? (e._panner = Howler.ctx.createPanner(), e._panner.coneInnerAngle = e._pannerAttr.coneInnerAngle, e._panner.coneOuterAngle = e._pannerAttr.coneOuterAngle, e._panner.coneOuterGain = e._pannerAttr.coneOuterGain, e._panner.distanceModel = e._pannerAttr.distanceModel, e._panner.maxDistance = e._pannerAttr.maxDistance, e._panner.refDistance = e._pannerAttr.refDistance, e._panner.rolloffFactor = e._pannerAttr.rolloffFactor, e._panner.panningModel = e._pannerAttr.panningModel, e._panner.setPosition(e._pos[0], e._pos[1], e._pos[2]), e._panner.setOrientation(e._orientation[0], e._orientation[1], e._orientation[2])) : (e._panner = Howler.ctx.createStereoPanner(), e._panner.pan.setValueAtTime(e._stereo, Howler.ctx.currentTime)), e._panner.connect(e._node), e._paused || e._parent.pause(e._id, !0).play(e._id)
            }
        }(), define("skbJet/componentCRDC/audioPlayer/HowlerChannel", ["com/howlerjs/howler", "skbJet/component/utils/PauseTimer"], function(e, t) {
            function n() {}

            function r(e, t) {
                e._loaded || (e._loaded = !0, t())
            }

            function i(e) {
                e._fadeInterval && (t.clearInterval(e._fadeInterval), e._fadeInterval = null)
            }
            return n.prototype._muteFlag = !1, n.prototype._curSound = null, n.prototype._howl = null, n.prototype._loaded = !1, n.prototype._currentVolume = 1, n.prototype._fadeOutEndPause = !1, n.prototype.load = function(e, t, n) {
                this._howl = new window.Howl({
                    src: e.urls,
                    sprite: e.sprite
                });
                var i = this;
                this._howl.once("load", function() {
                    r(i, t)
                }), setTimeout(function() {
                    r(i, t)
                }, 14e3), this._howl.once("loaderror", n)
            }, n.prototype.currentPlaying = function() {
                return this._curSound ? this._curSound.name : null
            }, n.prototype._onVolumeUpdated = function() {
                this._muteFlag ? (this._howl._soundById(this._howl._getSoundIds()[0])._node.gain.value = 0, this._howl._soundById(this._howl._getSoundIds()[0])._volume = 0) : this._curSound && this._curSound.id && this._howl.volume(this._howl._volume, this._curSound.id)
            }, n.prototype.play = function(e, t) {
                var n = this;
                this.stop(), this._curSound = {
                    name: null,
                    id: null
                };
                for (var r = this._howl._sounds || [], i = 0; i < r.length; i++) "suspended" === r[i]._node.context.state && r[i]._node.context.resume();
                this._curSound.id = this._howl.play(e), this._howl.loop(!!t, this._curSound.id), this._howl.mute(this._muteFlag), t || this._howl.once("end", function() {
                    n._curSound = null
                }, n._curSound.id), this._curSound.name = e
            }, n.prototype.stop = function() {
                this._howl.stop(), this._fadeOutEndPause = !1, this._curSound = null
            }, n.prototype.pause = function() {
                this._howl.pause()
            }, n.prototype.resume = function() {
                this._fadeOutEndPause || this._curSound && (this._howl.play(this._curSound.id), this._howl.mute(this._muteFlag, this._curSound.id), this._onVolumeUpdated())
            }, n.prototype.volume = function(e) {
                this._howl._volume = e, this._currentVolume = e, this._curSound && this._curSound.id && this._howl.volume(e, this._curSound.id)
            }, n.prototype.fadeOut = function(e, n) {
                n = n || {}, e = e || 1500;
                var r = this._howl._volume / 20,
                    o = this;
                i(this), o._fadeInterval = t.setInterval(function() {
                    o._howl._volume - r <= 0 ? (o._howl._volume = 0, o._onVolumeUpdated(), o.pause(), o._fadeOutEndPause = !0, t.clearInterval(o._fadeInterval), n.completeCallback && n.completeCallback()) : (o._howl._volume -= r, o._onVolumeUpdated())
                }, e / 20)
            }, n.prototype.playAndFadeIn = function(e, n, r, o) {
                o = o || {};
                var a = this._currentVolume;
                n = n || !1, r = r || 2e3, this.play(e, n), this._howl._volume = 0;
                var s = a / 20,
                    u = this;
                i(this), u._fadeInterval = t.setInterval(function() {
                    u._howl._volume + s >= a ? (u._howl._volume = a, u._onVolumeUpdated(), t.clearInterval(u._fadeInterval), o.completeCallback && o.completeCallback()) : (u._howl._volume += s, u._onVolumeUpdated())
                }, r / 20)
            }, n.prototype.cancelFade = function() {
                i(this), this._howl._volume = this._currentVolume, this._onVolumeUpdated(), this._fadeOutEndPause = !1, this.resume()
            }, n.mute = function(e) {
                window.Howler.mute(e)
            }, n
        }), define("skbJet/componentCRDC/audioPlayer/Html5Channel", ["skbJet/component/utils/PauseTimer"], function(e) {
            function t() {}

            function n(e) {
                try {
                    e.loop ? (clearTimeout(e._endTimerId), e.audioTag.currentTime = e.spriteMap[e._currentPlaying][0] / 1e3, e._endTimerId = setTimeout(function() {
                        n(e)
                    }, e.spriteMap[e._currentPlaying][1])) : e.stop()
                } catch (e) {
                    return
                }
            }

            function r(t) {
                t._fadeInterval && (e.clearInterval(t._fadeInterval), t._fadeInterval = null)
            }
            var i = [],
                o = !1;
            return t.STATUS = {
                Loading: "Loading",
                Playing: "Playing",
                Paused: "Paused",
                Stopped: "Stopped"
            }, t.prototype._currentVolume = 1, t.prototype._fadeOutEndPause = !1, t.prototype.load = function(e, n) {
                this.spriteMap = e.sprite, this.audioTag = new Audio, this.audioTag.muted = !0, this.status = t.STATUS.Loading;
                var r = this;
                r.audioTag.oncanplaythrough = function() {
                    r.audioTag.onplay = function() {
                        r.audioTag.onplay = null, r.audioTag.pause(), setTimeout(function() {
                            r.audioTag.muted = !1
                        }, 300), r.status = t.STATUS.Stopped, i.push(r)
                    }, r.audioTag.play()
                };
                for (var o = null, a = document.createElement("audio"), s = 0; s < e.urls.length; s++) {
                    var u = e.urls[s].split(".")[1];
                    if (null !== a.canPlayType("audio/" + u)) {
                        o = e.urls[s];
                        break
                    }
                }
                r.audioTag.src = o, r.audioTag.load(), setTimeout(n, 500)
            }, t.prototype.play = function(e, r) {
                if (this.status !== t.STATUS.Loading) try {
                    if (!this.spriteMap[e]) return;
                    var i = this;
                    this.audioTag.currentTime = this.spriteMap[e][0] / 1e3, this._endTimerId && clearTimeout(this._endTimerId), this.status !== t.STATUS.Stopped && this.status !== t.STATUS.Paused || (this.audioTag.muted = this.audioTag.muted || o, this.audioTag.play()), this.status = t.STATUS.Playing, this._currentPlaying = e, this.loop = !!r, this._endTimerId = setTimeout(function() {
                        n(i)
                    }, this.spriteMap[e][1])
                } catch (e) {
                    return
                }
            }, t.prototype.pause = function() {
                this.status === t.STATUS.Playing && (this.audioTag.pause(), clearTimeout(this._endTimerId), this._endTimerId = null, this.status = t.STATUS.Paused)
            }, t.prototype.resume = function() {
                if (!this._fadeOutEndPause && this.status === t.STATUS.Paused) {
                    this.audioTag.play(), this.status = t.STATUS.Playing;
                    var e = this,
                        r = e.spriteMap[e._currentPlaying][1] - (1e3 * e.audioTag.currentTime - e.spriteMap[e._currentPlaying][0]);
                    e._endTimerId = setTimeout(function() {
                        n(e)
                    }, r)
                }
            }, t.prototype.stop = function() {
                this.audioTag.pause(), this._fadeOutEndPause = !1, clearTimeout(this._endTimerId), this._endTimerId = null, this.status = t.STATUS.Stopped, this._currentPlaying = null, this.loop = !1
            }, t.prototype.currentPlaying = function() {
                return this._currentPlaying
            }, t.mute = function(e) {
                o = e;
                for (var t = 0; t < i.length; t++) i[t].audioTag.muted = e
            }, t.prototype.volume = function(e) {
                this.audioTag.volume = e, this._currentVolume = e
            }, t.prototype.fadeOut = function(t, n) {
                n = n || {}, t = t || 1500;
                var i = this,
                    o = i.audioTag.volume / 20;
                r(i), i._fadeInterval = e.setInterval(function() {
                    i.audioTag.volume - o <= 0 ? (i.audioTag.volume = 0, i.pause(), i._fadeOutEndPause = !0, e.clearInterval(i._fadeInterval),
                        n.completeCallback && n.completeCallback()) : i.audioTag.volume -= o
                }, t / 20)
            }, t.prototype.playAndFadeIn = function(t, n, i, o) {
                o = o || {}, i = i || 2e3;
                var a = this,
                    s = a._currentVolume;
                n = n || !1, a.play(t, n), a.audioTag.volume = 0;
                var u = s / 20;
                r(a), a._fadeInterval = e.setInterval(function() {
                    a.audioTag.volume + u >= s ? (a.audioTag.volume = s, e.clearInterval(a._fadeInterval), o.completeCallback && o.completeCallback()) : a.audioTag.volume += u
                }, i / 20)
            }, t.prototype.cancelFade = function() {
                r(this), this.audioTag.volume = this._currentVolume, this._fadeOutEndPause = !1, this.resume()
            }, t
        }), define("skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/resourceLoader/resourceLib", "skbJet/componentCRDC/audioPlayer/HowlerChannel", "skbJet/componentCRDC/audioPlayer/Html5Channel"], function(e, t, n, r) {
            function i(e) {
                r.mute(e), n.mute(e)
            }

            function o() {
                for (var e in f) f[e] && f[e].pause()
            }

            function a() {
                for (var e in f) f[e] && f[e].resume()
            }

            function s(t) {
                function n(t) {
                    var n = t || window.event;
                    n.stopPropagation(), n.cancelBubble = !0, document.body.removeChild(r);
                    var o = !1;
                    "audio_btn_YES" === this.id && (o = !0), i(!0);
                    for (var a in f) {
                        var s = f[a];
                        if (s) {
                            var u = s._howl ? s._howl._sprite : null;
                            if (u) {
                                for (var c in u) {
                                    s.play(c), setTimeout(function() {
                                        s.stop()
                                    }, 100);
                                    break
                                }
                                break
                            }
                        }
                    }
                    setTimeout(function() {
                        i(!o), l(o), e.publish("audioPlayer.playerSelectedWhenGameLaunch", o)
                    }, 110)
                }
                var r = document.createElement("div");
                r.style.width = "100%", r.style.height = "100%", r.style.backgroundColor = "rgba(0,0,0,.9)", r.style.position = "absolute", r.style.zIndex = 8, r.style.top = "0", r.style.left = "0", document.body.appendChild(r);
                var o = document.createElement("div");
                o.style.width = "240px", o.style.height = "100px", o.style.backgroundColor = "black", o.style.border = "2px solid white", o.style.borderRadius = "14px", o.style.position = "absolute", o.style.zIndex = 10, o.style.top = "50%", o.style.left = "50%", o.style.marginTop = "-50px", o.style.marginLeft = "-122px";
                var a = Number(window.innerWidth),
                    s = Number(window.innerHeight),
                    u = a > s ? s : a,
                    c = u > 600 ? u / 600 : 1;
                o.style.transform = "scale(" + c + ")", r.appendChild(o);
                var h = document.createElement("p");
                h.style.width = "220px", h.style.height = "40px", h.style.margin = "10px", h.style.color = "white", h.style.font = "normal 20px Arial", h.style.textAlign = "center", h.innerHTML = t.query, o.appendChild(h);
                var d = document.createElement("button");
                d.style.width = "60px", d.style.height = "26px", d.style.backgroundColor = "#DDDDDD", d.style.border = "2px solid white", d.style.borderRadius = "5px", d.style.float = "left", d.style.marginLeft = "33px", d.style.color = "balck", d.innerHTML = t.yes, d.id = "audio_btn_YES", o.appendChild(d);
                var p = document.createElement("button");
                p.style.width = "60px", p.style.height = "26px", p.style.backgroundColor = "#DDDDDD", p.style.border = "2px solid white", p.style.borderRadius = "5px", p.style.float = "right", p.style.marginRight = "33px", p.style.color = "balck", p.innerHTML = t.no, p.id = "audio_btn_NO", o.appendChild(p), d.addEventListener("click", n), p.addEventListener("click", n)
            }

            function u(n) {
                if (!p)
                    if ("INT" !== g) {
                        var r = {
                            query: t.i18n.game.audioLoader.confirm,
                            yes: t.i18n.game.audioLoader.yes,
                            no: t.i18n.game.audioLoader.no
                        };
                        s(r)
                    } else {
                        var o;
                        "STD" === _ ? o = !0 : "BaseGame" === n.response.OutcomeDetail.NextStage ? (o = !1, localStorage.setItem("audioDefaultSwitchForDesktopmini" + m, o)) : o = null !== localStorage.getItem("audioDefaultSwitchForDesktopmini" + m) && "true" === localStorage.getItem("audioDefaultSwitchForDesktopmini" + m), l(o), setTimeout(function() {
                            i(!o), e.publish("audioPlayer.playerSelectedWhenGameLaunch", o)
                        }, 20)
                    }
            }

            function l(n) {
                var r = "Sound",
                    i = "On",
                    o = "Off";
                p = !0, t.i18n.game.MenuCommand.audio && (r = t.i18n.game.MenuCommand.audio.sound, i = t.i18n.game.MenuCommand.audio.on, o = t.i18n.game.MenuCommand.audio.off), e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Register",
                    data: {
                        options: [{
                            name: "sound",
                            text: r,
                            type: "list",
                            enabled: 1,
                            value: n ? 0 : 1,
                            values: ["0", "1"],
                            valueText: [i, o]
                        }]
                    }
                })
            }

            function c(e) {
                "sound" === e.option && i("1" === e.value), "INT" === g && "STD" !== _ && localStorage.setItem("audioDefaultSwitchForDesktopmini" + m, "1" !== e.value)
            }

            function h(e) {
                g = e.serverConfig.channel, _ = e.serverConfig.presenttype, m = e.serverConfig.softwareid
            }

            function d() {
                function n() {
                    if ("device" === r.config.screenEnvironment) {
                        s({
                            query: t.i18n.game.audioLoader.confirm,
                            yes: t.i18n.game.audioLoader.yes,
                            no: t.i18n.game.audioLoader.no
                        })
                    }
                    e.unsubscribe("SKBeInstant.gameParametersUpdated", n)
                }
                var r = require("skbJet/component/SKBeInstant/SKBeInstant");
                r.isSKB() || e.subscribe("SKBeInstant.gameParametersUpdated", n)
            }
            var f = [],
                p = !1,
                m = null,
                g = null,
                _ = null;
            return document.addEventListener("visibilitychange", function() {
                "hidden" === document.visibilityState ? o() : a()
            }), e.subscribe("platformMsg/Kernel/System.Init", h), e.subscribe("platformMsg/ConsoleService/Game.Control", c), e.subscribe("onBeforeShowStage", u), e.subscribe("jLotteryGame.assetsLoadedAndGameReady", d), {
                gameAudioControlChanged: function(t) {
                    var n = 0;
                    t && (n = 1), e.publish("toPlatform", {
                        channel: "Game",
                        topic: "Game.Control",
                        data: {
                            name: "sound",
                            event: "change",
                            params: [n]
                        }
                    })
                },
                consoleAudioControlChanged: function(e) {
                    var t = !1;
                    return "sound" === e.option && "1" === e.value && (t = !0), t
                },
                play: function(e, t, n) {
                    e && (t || (t = 0), n || (n = !1), f[t] && (f[t].play(e, n), f[t].volume(1)))
                },
                currentPlaying: function(e) {
                    return f[e] ? f[e].currentPlaying() : null
                },
                stopChannel: function(e) {
                    f[e] && f[e].stop()
                },
                stopAllChannel: function() {
                    for (var e in f) f[e] && f[e].stop()
                },
                muteAll: i,
                _addChannel: function(e, t) {
                    f[t] = e
                },
                volume: function(e, t) {
                    f[e] && f[e].volume(t)
                },
                fadeOut: function(e, t, n) {
                    f[e] && f[e].fadeOut(t, n)
                },
                playAndFadeIn: function(e, t, n, r, i) {
                    t && (e || (e = 0), f[e] && f[e].playAndFadeIn(t, n, r, i))
                },
                cancelFade: function(e) {
                    f[e] && f[e].cancelFade()
                }
            }
        }), define("game/BackgroundController", ["skbJet/component/gameMsgBus/GameMsgBus"], function(e) {
            function t(e) {
                var t = window.location.search.match(/&?assetPack=([^&]+)&?/)[1];
                u = "assetPacks/" + t + "/images/" + ("BaseGame" === e ? "backgroundBasegame.jpg" : "backgroundFreespins.jpg") + window._cacheFlag.queryStr, document.body.style.backgroundImage = "url(" + u + ")"
            }

            function n(e) {
                t(e.nextStage)
            }

            function r(e) {
                t(e.response.OutcomeDetail.NextStage)
            }

            function i(e) {
                "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && r(e)
            }

            function o(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && r(e)
            }

            function a() {
                document.body.style.backgroundColor = "#000000", document.body.style.backgroundImage = ""
            }

            function s(e) {
                document.body.style.backgroundColor = "", t(e)
            }
            var u;
            return e.subscribe("onEnterNextStage", r), e.subscribe("onBeforeShowStage", n), e.subscribe("onStartGameInProgressStage", i), e.subscribe("onStartGameInProgressNextStage", o), {
                darkenBackground: a,
                recoverBackground: s,
                updateBackground: t
            }
        }),
        function() {
            function e(e, t, n) {
                for (var r = e.length, i = n ? r : -1; n ? i-- : ++i < r;)
                    if (t(e[i], i, e)) return i;
                return -1
            }

            function t(e, t, n) {
                if (t !== t) return r(e, n);
                for (var i = n - 1, o = e.length; ++i < o;)
                    if (e[i] === t) return i;
                return -1
            }

            function n(e) {
                return null == e ? "" : e + ""
            }

            function r(e, t, n) {
                for (var r = e.length, i = t + (n ? 0 : -1); n ? i-- : ++i < r;) {
                    var o = e[i];
                    if (o !== o) return i
                }
                return -1
            }

            function i(e) {
                return !!e && "object" == typeof e
            }

            function o(e, t) {
                for (var n = -1, r = e.length, i = -1, o = []; ++n < r;) e[n] === t && (e[n] = Rt, o[++i] = n);
                return o
            }

            function a(e) {
                if (i(e) && !lr(e) && !(e instanceof l)) {
                    if (e instanceof u) return e;
                    if (wn.call(e, "__chain__") && wn.call(e, "__wrapped__")) return De(e)
                }
                return new u(e)
            }

            function s() {}

            function u(e, t, n) {
                this.__wrapped__ = e, this.__actions__ = n || [], this.__chain__ = !!t
            }

            function l(e) {
                this.__wrapped__ = e, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, this.__iteratees__ = [], this.__takeCount__ = Gn, this.__views__ = []
            }

            function c() {
                var e = new l(this.__wrapped__);
                return e.__actions__ = _(this.__actions__), e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = _(this.__iteratees__), e.__takeCount__ = this.__takeCount__, e.__views__ = _(this.__views__), e
            }

            function h() {
                if (this.__filtered__) {
                    var e = new l(this);
                    e.__dir__ = -1, e.__filtered__ = !0
                } else e = this.clone(), e.__dir__ *= -1;
                return e
            }

            function d() {
                var e = this.__wrapped__.value(),
                    t = this.__dir__,
                    n = lr(e),
                    r = t < 0,
                    i = n ? e.length : 0,
                    o = _e(0, i, this.__views__),
                    a = o.start,
                    s = o.end,
                    u = s - a,
                    l = r ? s : a - 1,
                    c = this.__iteratees__,
                    h = c.length,
                    d = 0,
                    f = Fn(u, this.__takeCount__);
                if (!n || i < Ot || i == u && f == u) return K(e, this.__actions__);
                var p = [];
                e: for (; u-- && d < f;) {
                    l += t;
                    for (var m = -1, g = e[l]; ++m < h;) {
                        var _ = c[m],
                            y = _.iteratee,
                            v = _.type,
                            b = y(g);
                        if (v == Mt) g = b;
                        else if (!b) {
                            if (v == At) continue e;
                            break e
                        }
                    }
                    p[d++] = g
                }
                return p
            }

            function f(e) {
                var t = e ? e.length : 0;
                for (this.data = {
                        hash: Rn(null),
                        set: new On
                    }; t--;) this.push(e[t])
            }

            function p(e, t) {
                var n = e.data;
                return ("string" == typeof t || it(t) ? n.set.has(t) : n.hash[t]) ? 0 : -1
            }

            function m(e) {
                var t = this.data;
                "string" == typeof e || it(e) ? t.set.add(e) : t.hash[e] = !0
            }

            function g(e, t) {
                for (var n = -1, r = e.length, i = -1, o = t.length, a = Array(r + o); ++n < r;) a[n] = e[n];
                for (; ++i < o;) a[n++] = t[i];
                return a
            }

            function _(e, t) {
                var n = -1,
                    r = e.length;
                for (t || (t = Array(r)); ++n < r;) t[n] = e[n];
                return t
            }

            function y(e, t) {
                for (var n = -1, r = e.length; ++n < r && !1 !== t(e[n], n, e););
                return e
            }

            function v(e, t) {
                for (var n = -1, r = e.length, i = -1, o = []; ++n < r;) {
                    var a = e[n];
                    t(a, n, e) && (o[++i] = a)
                }
                return o
            }

            function b(e, t) {
                for (var n = -1, r = e.length, i = Array(r); ++n < r;) i[n] = t(e[n], n, e);
                return i
            }

            function x(e, t) {
                for (var n = -1, r = t.length, i = e.length; ++n < r;) e[i + n] = t[n];
                return e
            }

            function T(e, t, n, r) {
                var i = -1,
                    o = e.length;
                for (r && o && (n = e[++i]); ++i < o;) n = t(n, e[i], i, e);
                return n
            }

            function w(e, t) {
                for (var n = -1, r = e.length; ++n < r;)
                    if (t(e[n], n, e)) return !0;
                return !1
            }

            function S(e, t) {
                return e === yt ? t : e
            }

            function E(e, t, n) {
                for (var r = -1, i = dr(t), o = i.length; ++r < o;) {
                    var a = i[r],
                        s = e[a],
                        u = n(s, t[a], a, e, t);
                    (u === u ? u === s : s !== s) && (s !== yt || a in e) || (e[a] = u)
                }
                return e
            }

            function C(e, t) {
                return null == t ? e : P(t, dr(t), e)
            }

            function P(e, t, n) {
                n || (n = {});
                for (var r = -1, i = t.length; ++r < i;) {
                    var o = t[r];
                    n[o] = e[o]
                }
                return n
            }

            function O(e, t, n) {
                var r = typeof e;
                return "function" == r ? t === yt ? e : Q(e, t, n) : null == e ? ft : "object" == r ? X(e) : t === yt ? _t(e) : W(e, t)
            }

            function A(e, t, n, r, i, o, a) {
                var s;
                if (n && (s = i ? n(e, r, i) : n(e)), s !== yt) return s;
                if (!it(e)) return e;
                var u = lr(e);
                if (u) {
                    if (s = ye(e), !t) return _(e, s)
                } else {
                    var l = Sn.call(e),
                        c = l == Ft;
                    if (l != Gt && l != Dt && (!c || i)) return ln[l] ? be(e, l, t) : i ? e : {};
                    if (_n(e)) return i ? e : {};
                    if (s = ve(c ? {} : e), !t) return C(s, e)
                }
                o || (o = []), a || (a = []);
                for (var h = o.length; h--;)
                    if (o[h] == e) return a[h];
                return o.push(e), a.push(s), (u ? y : k)(e, function(r, i) {
                    s[i] = A(r, t, n, i, e, o, a)
                }), s
            }

            function M(e, n) {
                var r = e ? e.length : 0,
                    i = [];
                if (!r) return i;
                var o = -1,
                    a = pe(),
                    s = a === t,
                    u = s && n.length >= Ot ? ie(n) : null,
                    l = n.length;
                u && (a = p, s = !1, n = u);
                e: for (; ++o < r;) {
                    var c = e[o];
                    if (s && c === c) {
                        for (var h = l; h--;)
                            if (n[h] === c) continue e;
                        i.push(c)
                    } else a(n, c, 0) < 0 && i.push(c)
                }
                return i
            }

            function I(e, t) {
                var n = [];
                return Kn(e, function(e, r, i) {
                    t(e, r, i) && n.push(e)
                }), n
            }

            function R(e, t, n, r) {
                var i;
                return n(e, function(e, n, o) {
                    if (t(e, n, o)) return i = r ? n : e, !1
                }), i
            }

            function D(e, t, n, r) {
                r || (r = []);
                for (var o = -1, a = e.length; ++o < a;) {
                    var s = e[o];
                    i(s) && xe(s) && (n || lr(s) || tt(s)) ? t ? D(s, t, n, r) : x(r, s) : n || (r[r.length] = s)
                }
                return r
            }

            function L(e, t) {
                return $n(e, t, lt)
            }

            function k(e, t) {
                return $n(e, t, dr)
            }

            function B(e, t) {
                for (var n = -1, r = t.length, i = -1, o = []; ++n < r;) {
                    var a = t[n];
                    rt(e[a]) && (o[++i] = a)
                }
                return o
            }

            function N(e, t, n) {
                if (null != e) {
                    e = Ie(e), n !== yt && n in e && (t = [n]);
                    for (var r = 0, i = t.length; null != e && r < i;) e = Ie(e)[t[r++]];
                    return r && r == i ? e : yt
                }
            }

            function F(e, t, n, r, o, a) {
                return e === t || (null == e || null == t || !it(e) && !i(t) ? e !== e && t !== t : j(e, t, F, n, r, o, a))
            }

            function j(e, t, n, r, i, o, a) {
                var s = lr(e),
                    u = lr(t),
                    l = Lt,
                    c = Lt;
                s || (l = Sn.call(e), l == Dt ? l = Gt : l != Gt && (s = ut(e))), u || (c = Sn.call(t), c == Dt ? c = Gt : c != Gt && (u = ut(t)));
                var h = l == Gt && !_n(e),
                    d = c == Gt && !_n(t),
                    f = l == c;
                if (f && !s && !h) return ce(e, t, l);
                if (!i) {
                    var p = h && wn.call(e, "__wrapped__"),
                        m = d && wn.call(t, "__wrapped__");
                    if (p || m) return n(p ? e.value() : e, m ? t.value() : t, r, i, o, a)
                }
                if (!f) return !1;
                o || (o = []), a || (a = []);
                for (var g = o.length; g--;)
                    if (o[g] == e) return a[g] == t;
                o.push(e), a.push(t);
                var _ = (s ? le : he)(e, t, n, r, i, o, a);
                return o.pop(), a.pop(), _
            }

            function G(e, t, n) {
                var r = t.length,
                    i = r,
                    o = !n;
                if (null == e) return !i;
                for (e = Ie(e); r--;) {
                    var a = t[r];
                    if (o && a[2] ? a[1] !== e[a[0]] : !(a[0] in e)) return !1
                }
                for (; ++r < i;) {
                    a = t[r];
                    var s = a[0],
                        u = e[s],
                        l = a[1];
                    if (o && a[2]) {
                        if (u === yt && !(s in e)) return !1
                    } else {
                        var c = n ? n(u, l, s) : yt;
                        if (!(c === yt ? F(l, u, n, !0) : c)) return !1
                    }
                }
                return !0
            }

            function U(e, t) {
                var n = -1,
                    r = xe(e) ? Array(e.length) : [];
                return Kn(e, function(e, i, o) {
                    r[++n] = t(e, i, o)
                }), r
            }

            function X(e) {
                var t = me(e);
                if (1 == t.length && t[0][2]) {
                    var n = t[0][0],
                        r = t[0][1];
                    return function(e) {
                        return null != e && (e = Ie(e), e[n] === r && (r !== yt || n in e))
                    }
                }
                return function(e) {
                    return G(e, t)
                }
            }

            function W(e, t) {
                var n = lr(e),
                    r = Se(e) && Pe(t),
                    i = e + "";
                return e = Re(e),
                    function(o) {
                        if (null == o) return !1;
                        var a = i;
                        if (o = Ie(o), (n || !r) && !(a in o)) {
                            if (null == (o = 1 == e.length ? o : N(o, z(e, 0, -1)))) return !1;
                            a = ke(e), o = Ie(o)
                        }
                        return o[a] === t ? t !== yt || a in o : F(t, o[a], yt, !0)
                    }
            }

            function H(e) {
                return function(t) {
                    return null == t ? yt : Ie(t)[e]
                }
            }

            function V(e) {
                var t = e + "";
                return e = Re(e),
                    function(n) {
                        return N(n, e, t)
                    }
            }

            function Y(e, t, n, r, i) {
                return i(e, function(e, i, o) {
                    n = r ? (r = !1, e) : t(n, e, i, o)
                }), n
            }

            function z(e, t, n) {
                var r = -1,
                    i = e.length;
                t = null == t ? 0 : +t || 0, t < 0 && (t = -t > i ? 0 : i + t), n = n === yt || n > i ? i : +n || 0, n < 0 && (n += i), i = t > n ? 0 : n - t >>> 0, t >>>= 0;
                for (var o = Array(i); ++r < i;) o[r] = e[r + t];
                return o
            }

            function q(e, t) {
                var n;
                return Kn(e, function(e, r, i) {
                    return !(n = t(e, r, i))
                }), !!n
            }

            function J(e, t) {
                for (var n = -1, r = t.length, i = Array(r); ++n < r;) i[n] = e[t[n]];
                return i
            }

            function K(e, t) {
                var n = e;
                n instanceof l && (n = n.value());
                for (var r = -1, i = t.length; ++r < i;) {
                    var o = t[r];
                    n = o.func.apply(o.thisArg, x([n], o.args))
                }
                return n
            }

            function $(e, t, n) {
                var r = 0,
                    i = e ? e.length : r;
                if ("number" == typeof t && t === t && i <= Xn) {
                    for (; r < i;) {
                        var o = r + i >>> 1,
                            a = e[o];
                        (n ? a <= t : a < t) && null !== a ? r = o + 1 : i = o
                    }
                    return i
                }
                return Z(e, t, ft, n)
            }

            function Z(e, t, n, r) {
                t = n(t);
                for (var i = 0, o = e ? e.length : 0, a = t !== t, s = null === t, u = t === yt; i < o;) {
                    var l = Dn((i + o) / 2),
                        c = n(e[l]),
                        h = c !== yt,
                        d = c === c;
                    if (a) var f = d || r;
                    else f = s ? d && h && (r || null != c) : u ? d && (r || h) : null != c && (r ? c <= t : c < t);
                    f ? i = l + 1 : o = l
                }
                return Fn(o, Un)
            }

            function Q(e, t, n) {
                if ("function" != typeof e) return ft;
                if (t === yt) return e;
                switch (n) {
                    case 1:
                        return function(n) {
                            return e.call(t, n)
                        };
                    case 3:
                        return function(n, r, i) {
                            return e.call(t, n, r, i)
                        };
                    case 4:
                        return function(n, r, i, o) {
                            return e.call(t, n, r, i, o)
                        };
                    case 5:
                        return function(n, r, i, o, a) {
                            return e.call(t, n, r, i, o, a)
                        }
                }
                return function() {
                    return e.apply(t, arguments)
                }
            }

            function ee(e) {
                var t = new Cn(e.byteLength);
                return new Mn(t).set(new Mn(e)), t
            }

            function te(e, t, n) {
                for (var r = n.length, i = -1, o = Nn(e.length - r, 0), a = -1, s = t.length, u = Array(s + o); ++a < s;) u[a] = t[a];
                for (; ++i < r;) u[n[i]] = e[i];
                for (; o--;) u[a++] = e[i++];
                return u
            }

            function ne(e, t, n) {
                for (var r = -1, i = n.length, o = -1, a = Nn(e.length - i, 0), s = -1, u = t.length, l = Array(a + u); ++o < a;) l[o] = e[o];
                for (var c = o; ++s < u;) l[c + s] = t[s];
                for (; ++r < i;) l[c + n[r]] = e[o++];
                return l
            }

            function re(e, t) {
                function n() {
                    return (this && this !== gn && this instanceof n ? r : e).apply(t, arguments)
                }
                var r = oe(e);
                return n
            }

            function ie(e) {
                return Rn && On ? new f(e) : null
            }

            function oe(e) {
                return function() {
                    var t = arguments;
                    switch (t.length) {
                        case 0:
                            return new e;
                        case 1:
                            return new e(t[0]);
                        case 2:
                            return new e(t[0], t[1]);
                        case 3:
                            return new e(t[0], t[1], t[2]);
                        case 4:
                            return new e(t[0], t[1], t[2], t[3]);
                        case 5:
                            return new e(t[0], t[1], t[2], t[3], t[4]);
                        case 6:
                            return new e(t[0], t[1], t[2], t[3], t[4], t[5]);
                        case 7:
                            return new e(t[0], t[1], t[2], t[3], t[4], t[5], t[6])
                    }
                    var n = Jn(e.prototype),
                        r = e.apply(n, t);
                    return it(r) ? r : n
                }
            }

            function ae(e, t, n, r, i, a, s, u, l, c) {
                function h() {
                    for (var b = arguments.length, x = b, T = Array(b); x--;) T[x] = arguments[x];
                    if (r && (T = te(T, r, i)), a && (T = ne(T, a, s)), m || y) {
                        var w = h.placeholder,
                            S = o(T, w);
                        if ((b -= S.length) < c) {
                            var E = u ? _(u) : yt,
                                C = Nn(c - b, 0),
                                P = m ? S : yt,
                                O = m ? yt : S,
                                A = m ? T : yt,
                                M = m ? yt : T;
                            t |= m ? St : Et, t &= ~(m ? Et : St), g || (t &= ~(vt | bt));
                            var I = [e, t, n, A, P, M, O, E, l, C],
                                R = ae.apply(yt, I);
                            return Ee(e) && tr(R, I), R.placeholder = w, R
                        }
                    }
                    var D = f ? n : this,
                        L = p ? D[e] : e;
                    return u && (T = Ae(T, u)), d && l < T.length && (T.length = l), this && this !== gn && this instanceof h && (L = v || oe(e)), L.apply(D, T)
                }
                var d = t & Ct,
                    f = t & vt,
                    p = t & bt,
                    m = t & Tt,
                    g = t & xt,
                    y = t & wt,
                    v = p ? yt : oe(e);
                return h
            }

            function se(e, t, n, r) {
                function i() {
                    for (var t = -1, s = arguments.length, u = -1, l = r.length, c = Array(l + s); ++u < l;) c[u] = r[u];
                    for (; s--;) c[u++] = arguments[++t];
                    return (this && this !== gn && this instanceof i ? a : e).apply(o ? n : this, c)
                }
                var o = t & vt,
                    a = oe(e);
                return i
            }

            function ue(e, t, n, r, i, o, a, s) {
                var u = t & bt;
                if (!u && "function" != typeof e) throw new TypeError(It);
                var l = r ? r.length : 0;
                if (l || (t &= ~(St | Et), r = i = yt), l -= i ? i.length : 0, t & Et) {
                    var c = r,
                        h = i;
                    r = i = yt
                }
                var d = u ? yt : Qn(e),
                    f = [e, t, n, r, i, c, h, o, a, s];
                if (d && (Oe(f, d), t = f[1], s = f[9]), f[9] = null == s ? u ? 0 : e.length : Nn(s - l, 0) || 0, t == vt) var p = re(f[0], f[2]);
                else p = t != St && t != (vt | St) || f[4].length ? ae.apply(yt, f) : se.apply(yt, f);
                return (d ? Zn : tr)(p, f)
            }

            function le(e, t, n, r, i, o, a) {
                var s = -1,
                    u = e.length,
                    l = t.length;
                if (u != l && !(i && l > u)) return !1;
                for (; ++s < u;) {
                    var c = e[s],
                        h = t[s],
                        d = r ? r(i ? h : c, i ? c : h, s) : yt;
                    if (d !== yt) {
                        if (d) continue;
                        return !1
                    }
                    if (i) {
                        if (!w(t, function(e) {
                                return c === e || n(c, e, r, i, o, a)
                            })) return !1
                    } else if (c !== h && !n(c, h, r, i, o, a)) return !1
                }
                return !0
            }

            function ce(e, t, n) {
                switch (n) {
                    case kt:
                    case Bt:
                        return +e == +t;
                    case Nt:
                        return e.name == t.name && e.message == t.message;
                    case jt:
                        return e != +e ? t != +t : e == +t;
                    case Ut:
                    case Xt:
                        return e == t + ""
                }
                return !1
            }

            function he(e, t, n, r, i, o, a) {
                var s = dr(e),
                    u = s.length;
                if (u != dr(t).length && !i) return !1;
                for (var l = u; l--;) {
                    var c = s[l];
                    if (!(i ? c in t : wn.call(t, c))) return !1
                }
                for (var h = i; ++l < u;) {
                    c = s[l];
                    var d = e[c],
                        f = t[c],
                        p = r ? r(i ? f : d, i ? d : f, c) : yt;
                    if (!(p === yt ? n(d, f, r, i, o, a) : p)) return !1;
                    h || (h = "constructor" == c)
                }
                if (!h) {
                    var m = e.constructor,
                        g = t.constructor;
                    if (m != g && "constructor" in e && "constructor" in t && !("function" == typeof m && m instanceof m && "function" == typeof g && g instanceof g)) return !1
                }
                return !0
            }

            function de(e, t, n) {
                var r = a.callback || dt;
                return r = r === dt ? O : r, n ? r(e, t, n) : r
            }

            function fe(e) {
                for (var t = e.name + "", n = Vn[t], r = n ? n.length : 0; r--;) {
                    var i = n[r],
                        o = i.func;
                    if (null == o || o == e) return i.name
                }
                return t
            }

            function pe(e, n, r) {
                var i = a.indexOf || Le;
                return i = i === Le ? t : i, e ? i(e, n, r) : i
            }

            function me(e) {
                for (var t = ct(e), n = t.length; n--;) t[n][2] = Pe(t[n][1]);
                return t
            }

            function ge(e, t) {
                var n = null == e ? yt : e[t];
                return ot(n) ? n : yt
            }

            function _e(e, t, n) {
                for (var r = -1, i = n.length; ++r < i;) {
                    var o = n[r],
                        a = o.size;
                    switch (o.type) {
                        case "drop":
                            e += a;
                            break;
                        case "dropRight":
                            t -= a;
                            break;
                        case "take":
                            t = Fn(t, e + a);
                            break;
                        case "takeRight":
                            e = Nn(e, t - a)
                    }
                }
                return {
                    start: e,
                    end: t
                }
            }

            function ye(e) {
                var t = e.length,
                    n = new e.constructor(t);
                return t && "string" == typeof e[0] && wn.call(e, "index") && (n.index = e.index, n.input = e.input), n
            }

            function ve(e) {
                var t = e.constructor;
                return "function" == typeof t && t instanceof t || (t = Object), new t
            }

            function be(e, t, n) {
                var r = e.constructor;
                switch (t) {
                    case Wt:
                        return ee(e);
                    case kt:
                    case Bt:
                        return new r(+e);
                    case Ht:
                    case Vt:
                    case Yt:
                    case zt:
                    case qt:
                    case Jt:
                    case Kt:
                    case $t:
                    case Zt:
                        r instanceof r && (r = Yn[t]);
                        var i = e.buffer;
                        return new r(n ? ee(i) : i, e.byteOffset, e.length);
                    case jt:
                    case Xt:
                        return new r(e);
                    case Ut:
                        var o = new r(e.source, rn.exec(e));
                        o.lastIndex = e.lastIndex
                }
                return o
            }

            function xe(e) {
                return null != e && Ce(er(e))
            }

            function Te(e, t) {
                return e = "number" == typeof e || an.test(e) ? +e : -1, t = null == t ? Wn : t, e > -1 && e % 1 == 0 && e < t
            }

            function we(e, t, n) {
                if (!it(n)) return !1;
                var r = typeof t;
                if ("number" == r ? xe(n) && Te(t, n.length) : "string" == r && t in n) {
                    var i = n[t];
                    return e === e ? e === i : i !== i
                }
                return !1
            }

            function Se(e, t) {
                var n = typeof e;
                return !!("string" == n && en.test(e) || "number" == n) || !lr(e) && (!Qt.test(e) || null != t && e in Ie(t))
            }

            function Ee(e) {
                var t = fe(e),
                    n = a[t];
                if ("function" != typeof n || !(t in l.prototype)) return !1;
                if (e === n) return !0;
                var r = Qn(n);
                return !!r && e === r[0]
            }

            function Ce(e) {
                return "number" == typeof e && e > -1 && e % 1 == 0 && e <= Wn
            }

            function Pe(e) {
                return e === e && !it(e)
            }

            function Oe(e, t) {
                var n = e[1],
                    r = t[1],
                    i = n | r,
                    a = i < Ct,
                    s = r == Ct && n == Tt || r == Ct && n == Pt && e[7].length <= t[8] || r == (Ct | Pt) && n == Tt;
                if (!a && !s) return e;
                r & vt && (e[2] = t[2], i |= n & vt ? 0 : xt);
                var u = t[3];
                if (u) {
                    var l = e[3];
                    e[3] = l ? te(l, u, t[4]) : _(u), e[4] = l ? o(e[3], Rt) : _(t[4])
                }
                return u = t[5], u && (l = e[5], e[5] = l ? ne(l, u, t[6]) : _(u), e[6] = l ? o(e[5], Rt) : _(t[6])), u = t[7], u && (e[7] = _(u)), r & Ct && (e[8] = null == e[8] ? t[8] : Fn(e[8], t[8])), null == e[9] && (e[9] = t[9]), e[0] = t[0], e[1] = i, e
            }

            function Ae(e, t) {
                for (var n = e.length, r = Fn(t.length, n), i = _(e); r--;) {
                    var o = t[r];
                    e[r] = Te(o, n) ? i[o] : yt
                }
                return e
            }

            function Me(e) {
                for (var t = lt(e), n = t.length, r = n && e.length, i = !!r && Ce(r) && (lr(e) || tt(e) || st(e)), o = -1, a = []; ++o < n;) {
                    var s = t[o];
                    (i && Te(s, r) || wn.call(e, s)) && a.push(s)
                }
                return a
            }

            function Ie(e) {
                if (a.support.unindexedChars && st(e)) {
                    for (var t = -1, n = e.length, r = Object(e); ++t < n;) r[t] = e.charAt(t);
                    return r
                }
                return it(e) ? e : Object(e)
            }

            function Re(e) {
                if (lr(e)) return e;
                var t = [];
                return n(e).replace(tn, function(e, n, r, i) {
                    t.push(r ? i.replace(nn, "$1") : n || e)
                }), t
            }

            function De(e) {
                return e instanceof l ? e.clone() : new u(e.__wrapped__, e.__chain__, _(e.__actions__))
            }

            function Le(e, n, r) {
                var i = e ? e.length : 0;
                if (!i) return -1;
                if ("number" == typeof r) r = r < 0 ? Nn(i + r, 0) : r;
                else if (r) {
                    var o = $(e, n);
                    return o < i && (n === n ? n === e[o] : e[o] !== e[o]) ? o : -1
                }
                return t(e, n, r || 0)
            }

            function ke(e) {
                var t = e ? e.length : 0;
                return t ? e[t - 1] : yt
            }

            function Be(e) {
                var t = a(e);
                return t.__chain__ = !0, t
            }

            function Ne(e, t, n) {
                return t.call(n, e), e
            }

            function Fe(e, t, n) {
                return t.call(n, e)
            }

            function je() {
                return Be(this)
            }

            function Ge() {
                return new u(this.value(), this.__chain__)
            }

            function Ue(e) {
                for (var t, n = this; n instanceof s;) {
                    var r = De(n);
                    t ? i.__wrapped__ = r : t = r;
                    var i = r;
                    n = n.__wrapped__
                }
                return i.__wrapped__ = e, t
            }

            function Xe() {
                var e = this.__wrapped__,
                    t = function(e) {
                        return e.reverse()
                    };
                if (e instanceof l) {
                    var n = e;
                    return this.__actions__.length && (n = new l(this)), n = n.reverse(), n.__actions__.push({
                        func: Fe,
                        args: [t],
                        thisArg: yt
                    }), new u(n, this.__chain__)
                }
                return this.thru(t)
            }

            function We() {
                return this.value() + ""
            }

            function He() {
                return K(this.__wrapped__, this.__actions__)
            }

            function Ve(e, t, n) {
                var r = lr(e) ? v : I;
                return t = de(t, n, 3), r(e, t)
            }

            function Ye(e, t, n, r) {
                var i = e ? er(e) : 0;
                return Ce(i) || (e = ht(e), i = e.length), n = "number" != typeof n || r && we(t, n, r) ? 0 : n < 0 ? Nn(i + n, 0) : n || 0, "string" == typeof e || !lr(e) && st(e) ? n <= i && e.indexOf(t, n) > -1 : !!i && pe(e, t, n) > -1
            }

            function ze(e, t, n) {
                var r = lr(e) ? b : U;
                return t = de(t, n, 3), r(e, t)
            }

            function qe(e, t, n) {
                var r = lr(e) ? w : q;
                return n && we(e, t, n) && (t = yt), "function" == typeof t && n === yt || (t = de(t, n, 3)), r(e, t)
            }

            function Je(e, t) {
                if ("function" != typeof t) {
                    if ("function" != typeof e) throw new TypeError(It);
                    var n = e;
                    e = t, t = n
                }
                return e = kn(e = +e) ? e : 0,
                    function() {
                        if (--e < 1) return t.apply(this, arguments)
                    }
            }

            function Ke(e, t, n) {
                function r() {
                    f && clearTimeout(f), l && clearTimeout(l), m = 0, l = f = p = yt
                }

                function i(t, n) {
                    n && clearTimeout(n), l = f = p = yt, t && (m = sr(), c = e.apply(d, u), f || l || (u = d = yt))
                }

                function o() {
                    var e = t - (sr() - h);
                    e <= 0 || e > t ? i(p, l) : f = setTimeout(o, e)
                }

                function a() {
                    i(_, f)
                }

                function s() {
                    if (u = arguments, h = sr(), d = this, p = _ && (f || !y), !1 === g) var n = y && !f;
                    else {
                        l || y || (m = h);
                        var r = g - (h - m),
                            i = r <= 0 || r > g;
                        i ? (l && (l = clearTimeout(l)), m = h, c = e.apply(d, u)) : l || (l = setTimeout(a, r))
                    }
                    return i && f ? f = clearTimeout(f) : f || t === g || (f = setTimeout(o, t)), n && (i = !0, c = e.apply(d, u)), !i || f || l || (u = d = yt), c
                }
                var u, l, c, h, d, f, p, m = 0,
                    g = !1,
                    _ = !0;
                if ("function" != typeof e) throw new TypeError(It);
                if (t = t < 0 ? 0 : +t || 0, !0 === n) {
                    var y = !0;
                    _ = !1
                } else it(n) && (y = !!n.leading, g = "maxWait" in n && Nn(+n.maxWait || 0, t), _ = "trailing" in n ? !!n.trailing : _);
                return s.cancel = r, s
            }

            function $e(e, t) {
                if ("function" != typeof e) throw new TypeError(It);
                return t = Nn(t === yt ? e.length - 1 : +t || 0, 0),
                    function() {
                        for (var n = arguments, r = -1, i = Nn(n.length - t, 0), o = Array(i); ++r < i;) o[r] = n[t + r];
                        switch (t) {
                            case 0:
                                return e.call(this, o);
                            case 1:
                                return e.call(this, n[0], o);
                            case 2:
                                return e.call(this, n[0], n[1], o)
                        }
                        var a = Array(t + 1);
                        for (r = -1; ++r < t;) a[r] = n[r];
                        return a[t] = o, e.apply(this, a)
                    }
            }

            function Ze(e, t, n) {
                var r = !0,
                    i = !0;
                if ("function" != typeof e) throw new TypeError(It);
                return !1 === n ? r = !1 : it(n) && (r = "leading" in n ? !!n.leading : r, i = "trailing" in n ? !!n.trailing : i), Ke(e, t, {
                    leading: r,
                    maxWait: +t,
                    trailing: i
                })
            }

            function Qe(e, t, n, r) {
                return t && "boolean" != typeof t && we(e, t, n) ? t = !1 : "function" == typeof t && (r = n, n = t, t = !1), "function" == typeof n ? A(e, t, Q(n, r, 3)) : A(e, t)
            }

            function et(e, t, n) {
                return "function" == typeof t ? A(e, !0, Q(t, n, 3)) : A(e, !0)
            }

            function tt(e) {
                return i(e) && xe(e) && wn.call(e, "callee") && !Pn.call(e, "callee")
            }

            function nt(e, t, n, r) {
                n = "function" == typeof n ? Q(n, r, 3) : yt;
                var i = n ? n(e, t) : yt;
                return i === yt ? F(e, t, n) : !!i
            }

            function rt(e) {
                return it(e) && Sn.call(e) == Ft
            }

            function it(e) {
                var t = typeof e;
                return !!e && ("object" == t || "function" == t)
            }

            function ot(e) {
                return null != e && (rt(e) ? En.test(Tn.call(e)) : i(e) && (_n(e) ? En : on).test(e))
            }

            function at(e) {
                var t;
                if (!i(e) || Sn.call(e) != Gt || _n(e) || tt(e) || !wn.call(e, "constructor") && "function" == typeof(t = e.constructor) && !(t instanceof t)) return !1;
                var n;
                return a.support.ownLast ? (L(e, function(e, t, r) {
                    return n = wn.call(r, t), !1
                }), !1 !== n) : (L(e, function(e, t) {
                    n = t
                }), n === yt || wn.call(e, n))
            }

            function st(e) {
                return "string" == typeof e || i(e) && Sn.call(e) == Xt
            }

            function ut(e) {
                return i(e) && Ce(e.length) && !!un[Sn.call(e)]
            }

            function lt(e) {
                if (null == e) return [];
                it(e) || (e = Object(e));
                var t = e.length,
                    n = a.support;
                t = t && Ce(t) && (lr(e) || tt(e) || st(e)) && t || 0;
                for (var r = e.constructor, i = -1, o = rt(r) && r.prototype || bn, s = o === e, u = Array(t), l = t > 0, c = n.enumErrorProps && (e === vn || e instanceof Error), h = n.enumPrototypes && rt(e); ++i < t;) u[i] = i + "";
                for (var d in e) h && "prototype" == d || c && ("message" == d || "name" == d) || l && Te(d, t) || "constructor" == d && (s || !wn.call(e, d)) || u.push(d);
                if (n.nonEnumShadows && e !== bn) {
                    var f = e === xn ? Xt : e === vn ? Nt : Sn.call(e),
                        p = zn[f] || zn[Gt];
                    for (f == Gt && (o = bn), t = sn.length; t--;) {
                        d = sn[t];
                        var m = p[d];
                        s && m || (m ? !wn.call(e, d) : e[d] === o[d]) || u.push(d)
                    }
                }
                return u
            }

            function ct(e) {
                e = Ie(e);
                for (var t = -1, n = dr(e), r = n.length, i = Array(r); ++t < r;) {
                    var o = n[t];
                    i[t] = [o, e[o]]
                }
                return i
            }

            function ht(e) {
                return J(e, dr(e))
            }

            function dt(e, t, n) {
                return n && we(e, t, n) && (t = yt), i(e) ? pt(e) : O(e, t)
            }

            function ft(e) {
                return e
            }

            function pt(e) {
                return X(A(e, !0))
            }

            function mt(e, t, n) {
                if (null == n) {
                    var r = it(t),
                        i = r ? dr(t) : yt,
                        o = i && i.length ? B(t, i) : yt;
                    (o ? o.length : r) || (o = !1, n = t, t = e, e = this)
                }
                o || (o = B(t, dr(t)));
                var a = !0,
                    s = -1,
                    u = rt(e),
                    l = o.length;
                !1 === n ? a = !1 : it(n) && "chain" in n && (a = n.chain);
                for (; ++s < l;) {
                    var c = o[s],
                        h = t[c];
                    e[c] = h, u && (e.prototype[c] = function(t) {
                        return function() {
                            var n = this.__chain__;
                            if (a || n) {
                                var r = e(this.__wrapped__);
                                return (r.__actions__ = _(this.__actions__)).push({
                                    func: t,
                                    args: arguments,
                                    thisArg: e
                                }), r.__chain__ = n, r
                            }
                            return t.apply(e, x([this.value()], arguments))
                        }
                    }(h))
                }
                return e
            }

            function gt() {}

            function _t(e) {
                return Se(e) ? H(e) : V(e)
            }
            var yt, vt = 1,
                bt = 2,
                xt = 4,
                Tt = 8,
                wt = 16,
                St = 32,
                Et = 64,
                Ct = 128,
                Pt = 256,
                Ot = 200,
                At = 1,
                Mt = 2,
                It = "Expected a function",
                Rt = "__lodash_placeholder__",
                Dt = "[object Arguments]",
                Lt = "[object Array]",
                kt = "[object Boolean]",
                Bt = "[object Date]",
                Nt = "[object Error]",
                Ft = "[object Function]",
                jt = "[object Number]",
                Gt = "[object Object]",
                Ut = "[object RegExp]",
                Xt = "[object String]",
                Wt = "[object ArrayBuffer]",
                Ht = "[object Float32Array]",
                Vt = "[object Float64Array]",
                Yt = "[object Int8Array]",
                zt = "[object Int16Array]",
                qt = "[object Int32Array]",
                Jt = "[object Uint8Array]",
                Kt = "[object Uint8ClampedArray]",
                $t = "[object Uint16Array]",
                Zt = "[object Uint32Array]",
                Qt = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,
                en = /^\w*$/,
                tn = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
                nn = /\\(\\)?/g,
                rn = /\w*$/,
                on = /^\[object .+?Constructor\]$/,
                an = /^\d+$/,
                sn = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"],
                un = {};
            un[Ht] = un[Vt] = un[Yt] = un[zt] = un[qt] = un[Jt] = un[Kt] = un[$t] = un[Zt] = !0, un[Dt] = un[Lt] = un[Wt] = un[kt] = un[Bt] = un[Nt] = un[Ft] = un["[object Map]"] = un[jt] = un[Gt] = un[Ut] = un["[object Set]"] = un[Xt] = un["[object WeakMap]"] = !1;
            var ln = {};
            ln[Dt] = ln[Lt] = ln[Wt] = ln[kt] = ln[Bt] = ln[Ht] = ln[Vt] = ln[Yt] = ln[zt] = ln[qt] = ln[jt] = ln[Gt] = ln[Ut] = ln[Xt] = ln[Jt] = ln[Kt] = ln[$t] = ln[Zt] = !0, ln[Nt] = ln[Ft] = ln["[object Map]"] = ln["[object Set]"] = ln["[object WeakMap]"] = !1;
            var cn = {
                    function: !0,
                    object: !0
                },
                hn = cn[typeof exports] && exports && !exports.nodeType && exports,
                dn = cn[typeof module] && module && !module.nodeType && module,
                fn = hn && dn && "object" == typeof global && global && global.Object && global,
                pn = cn[typeof self] && self && self.Object && self,
                mn = cn[typeof window] && window && window.Object && window,
                gn = fn || mn !== (this && this.window) && mn || pn || this,
                _n = function() {
                    try {
                        Object({
                            toString: 0
                        } + "")
                    } catch (e) {
                        return function() {
                            return !1
                        }
                    }
                    return function(e) {
                        return "function" != typeof e.toString && "string" == typeof(e + "")
                    }
                }(),
                yn = Array.prototype,
                vn = Error.prototype,
                bn = Object.prototype,
                xn = String.prototype,
                Tn = Function.prototype.toString,
                wn = bn.hasOwnProperty,
                Sn = bn.toString,
                En = RegExp("^" + Tn.call(wn).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
                Cn = gn.ArrayBuffer,
                Pn = bn.propertyIsEnumerable,
                On = ge(gn, "Set"),
                An = yn.splice,
                Mn = gn.Uint8Array,
                In = ge(gn, "WeakMap"),
                Rn = ge(Object, "create"),
                Dn = Math.floor,
                Ln = ge(Array, "isArray"),
                kn = gn.isFinite,
                Bn = ge(Object, "keys"),
                Nn = Math.max,
                Fn = Math.min,
                jn = ge(Date, "now"),
                Gn = Number.POSITIVE_INFINITY,
                Un = 4294967294,
                Xn = 2147483647,
                Wn = 9007199254740991,
                Hn = In && new In,
                Vn = {},
                Yn = {};
            Yn[Ht] = gn.Float32Array, Yn[Vt] = gn.Float64Array, Yn[Yt] = gn.Int8Array, Yn[zt] = gn.Int16Array, Yn[qt] = gn.Int32Array, Yn[Jt] = Mn, Yn[Kt] = gn.Uint8ClampedArray, Yn[$t] = gn.Uint16Array, Yn[Zt] = gn.Uint32Array;
            var zn = {};
            zn[Lt] = zn[Bt] = zn[jt] = {
                constructor: !0,
                toLocaleString: !0,
                toString: !0,
                valueOf: !0
            }, zn[kt] = zn[Xt] = {
                constructor: !0,
                toString: !0,
                valueOf: !0
            }, zn[Nt] = zn[Ft] = zn[Ut] = {
                constructor: !0,
                toString: !0
            }, zn[Gt] = {
                constructor: !0
            }, y(sn, function(e) {
                for (var t in zn)
                    if (wn.call(zn, t)) {
                        var n = zn[t];
                        n[e] = wn.call(n, e)
                    }
            });
            var qn = a.support = {};
            ! function(e) {
                var t = function() {
                        this.x = 1
                    },
                    n = {
                        0: 1,
                        length: 1
                    },
                    r = [];
                t.prototype = {
                    valueOf: 1,
                    y: 1
                };
                for (var i in new t) r.push(i);
                qn.enumErrorProps = Pn.call(vn, "message") || Pn.call(vn, "name"), qn.enumPrototypes = Pn.call(t, "prototype"), qn.nonEnumShadows = !/valueOf/.test(r), qn.ownLast = "x" != r[0], qn.spliceObjects = (An.call(n, 0, 1), !n[0]), qn.unindexedChars = "x" [0] + Object("x")[0] != "xx"
            }();
            var Jn = function() {
                    function e() {}
                    return function(t) {
                        if (it(t)) {
                            e.prototype = t;
                            var n = new e;
                            e.prototype = yt
                        }
                        return n || {}
                    }
                }(),
                Kn = function(e, t) {
                    return function(n, r) {
                        var i = n ? er(n) : 0;
                        if (!Ce(i)) return e(n, r);
                        for (var o = t ? i : -1, a = Ie(n);
                            (t ? o-- : ++o < i) && !1 !== r(a[o], o, a););
                        return n
                    }
                }(k),
                $n = function(e) {
                    return function(t, n, r) {
                        for (var i = Ie(t), o = r(t), a = o.length, s = e ? a : -1; e ? s-- : ++s < a;) {
                            var u = o[s];
                            if (!1 === n(i[u], u, i)) break
                        }
                        return t
                    }
                }(),
                Zn = Hn ? function(e, t) {
                    return Hn.set(e, t), e
                } : ft,
                Qn = Hn ? function(e) {
                    return Hn.get(e)
                } : gt,
                er = H("length"),
                tr = function() {
                    var e = 0,
                        t = 0;
                    return function(n, r) {
                        var i = sr(),
                            o = 16 - (i - t);
                        if (t = i, o > 0) {
                            if (++e >= 150) return n
                        } else e = 0;
                        return Zn(n, r)
                    }
                }(),
                nr = $e(function(e, t) {
                    return xe(e) ? M(e, t) : []
                }),
                rr = $e(function(e) {
                    return e = D(e), this.thru(function(t) {
                        return g(lr(t) ? t : [Ie(t)], e)
                    })
                }),
                ir = function(t, n) {
                    return function(r, i, o) {
                        if (i = de(i, o, 3), lr(r)) {
                            var a = e(r, i, n);
                            return a > -1 ? r[a] : yt
                        }
                        return R(r, i, t)
                    }
                }(Kn),
                or = function(e, t) {
                    return function(n, r, i) {
                        return "function" == typeof r && i === yt && lr(n) ? e(n, r) : t(n, Q(r, i, 3))
                    }
                }(y, Kn),
                ar = function(e, t) {
                    return function(n, r, i, o) {
                        var a = arguments.length < 3;
                        return "function" == typeof r && o === yt && lr(n) ? e(n, r, i, a) : Y(n, de(r, o, 4), i, a, t)
                    }
                }(T, Kn),
                sr = jn || function() {
                    return (new Date).getTime()
                },
                ur = $e(function(e, t, n) {
                    var r = vt;
                    if (n.length) {
                        var i = o(n, ur.placeholder);
                        r |= St
                    }
                    return ue(e, r, t, n, i)
                }),
                lr = Ln || function(e) {
                    return i(e) && Ce(e.length) && Sn.call(e) == Lt
                },
                cr = function(e) {
                    return $e(function(t, n) {
                        var r = -1,
                            i = null == t ? 0 : n.length,
                            o = i > 2 ? n[i - 2] : yt,
                            a = i > 2 ? n[2] : yt,
                            s = i > 1 ? n[i - 1] : yt;
                        for ("function" == typeof o ? (o = Q(o, s, 5), i -= 2) : (o = "function" == typeof s ? s : yt, i -= o ? 1 : 0), a && we(n[0], n[1], a) && (o = i < 3 ? yt : o, i = 1); ++r < i;) {
                            var u = n[r];
                            u && e(t, u, o)
                        }
                        return t
                    })
                }(function(e, t, n) {
                    return n ? E(e, t, n) : C(e, t)
                }),
                hr = function(e, t) {
                    return $e(function(n) {
                        var r = n[0];
                        return null == r ? r : (n.push(t), e.apply(yt, n))
                    })
                }(cr, S),
                dr = Bn ? function(e) {
                    var t = null == e ? yt : e.constructor;
                    return "function" == typeof t && t.prototype === e || ("function" == typeof e ? a.support.enumPrototypes : xe(e)) ? Me(e) : it(e) ? Bn(e) : []
                } : Me;
            a.prototype = s.prototype, u.prototype = Jn(s.prototype), u.prototype.constructor = u, l.prototype = Jn(s.prototype), l.prototype.constructor = l, f.prototype.push = m, a.after = Je, a.assign = cr, a.bind = ur, a.callback = dt, a.chain = Be, a.debounce = Ke, a.defaults = hr, a.filter = Ve, a.forEach = or, a.keys = dr, a.keysIn = lt, a.map = ze, a.matches = pt, a.mixin = mt, a.pairs = ct, a.property = _t, a.restParam = $e, a.tap = Ne, a.throttle = Ze, a.thru = Fe, a.values = ht, a.without = nr, a.collect = ze, a.each = or, a.extend = cr, a.iteratee = dt, a.select = Ve, mt(a, a), a.clone = Qe, a.cloneDeep = et, a.find = ir, a.identity = ft, a.includes = Ye, a.indexOf = Le, a.isArguments = tt, a.isArray = lr, a.isEqual = nt, a.isFunction = rt, a.isNative = ot, a.isObject = it, a.isPlainObject = at, a.isString = st, a.isTypedArray = ut, a.last = ke, a.noop = gt, a.now = sr, a.reduce = ar, a.some = qe, a.any = qe, a.contains = Ye, a.eq = nt, a.detect = ir, a.foldl = ar, a.include = Ye, a.inject = ar, mt(a, function() {
                var e = {};
                return k(a, function(t, n) {
                    a.prototype[n] || (e[n] = t)
                }), e
            }(), !1), a.prototype.sample = function(e) {
                return this.__chain__ || null != e ? this.thru(function(t) {
                    return sample(t, e)
                }) : sample(this.value())
            }, a.VERSION = "3.10.1", ur.placeholder = a, y(["drop", "take"], function(e, t) {
                l.prototype[e] = function(n) {
                    var r = this.__filtered__;
                    if (r && !t) return new l(this);
                    n = null == n ? 1 : Nn(Dn(n) || 0, 0);
                    var i = this.clone();
                    return r ? i.__takeCount__ = Fn(i.__takeCount__, n) : i.__views__.push({
                        size: n,
                        type: e + (i.__dir__ < 0 ? "Right" : "")
                    }), i
                }, l.prototype[e + "Right"] = function(t) {
                    return this.reverse()[e](t).reverse()
                }
            }), y(["filter", "map", "takeWhile"], function(e, t) {
                var n = t + 1,
                    r = n != Mt;
                l.prototype[e] = function(e, t) {
                    var i = this.clone();
                    return i.__iteratees__.push({
                        iteratee: de(e, t, 1),
                        type: n
                    }), i.__filtered__ = i.__filtered__ || r, i
                }
            }), y(["first", "last"], function(e, t) {
                var n = "take" + (t ? "Right" : "");
                l.prototype[e] = function() {
                    return this[n](1).value()[0]
                }
            }), y(["initial", "rest"], function(e, t) {
                var n = "drop" + (t ? "" : "Right");
                l.prototype[e] = function() {
                    return this.__filtered__ ? new l(this) : this[n](1)
                }
            }), y(["pluck", "where"], function(e, t) {
                var n = t ? "filter" : "map",
                    r = t ? X : _t;
                l.prototype[e] = function(e) {
                    return this[n](r(e))
                }
            }), l.prototype.compact = function() {
                return this.filter(ft)
            }, l.prototype.reject = function(e, t) {
                return e = de(e, t, 1), this.filter(function(t) {
                    return !e(t)
                })
            }, l.prototype.slice = function(e, t) {
                e = null == e ? 0 : +e || 0;
                var n = this;
                return n.__filtered__ && (e > 0 || t < 0) ? new l(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)), t !== yt && (t = +t || 0, n = t < 0 ? n.dropRight(-t) : n.take(t - e)), n)
            }, l.prototype.takeRightWhile = function(e, t) {
                return this.reverse().takeWhile(e, t).reverse()
            }, l.prototype.toArray = function() {
                return this.take(Gn)
            }, k(l.prototype, function(e, t) {
                var n = /^(?:filter|map|reject)|While$/.test(t),
                    r = /^(?:first|last)$/.test(t),
                    i = a[r ? "take" + ("last" == t ? "Right" : "") : t];
                i && (a.prototype[t] = function() {
                    var t = r ? [1] : arguments,
                        o = this.__chain__,
                        a = this.__wrapped__,
                        s = !!this.__actions__.length,
                        c = a instanceof l,
                        h = t[0],
                        d = c || lr(a);
                    d && n && "function" == typeof h && 1 != h.length && (c = d = !1);
                    var f = function(e) {
                            return r && o ? i(e, 1)[0] : i.apply(yt, x([e], t))
                        },
                        p = {
                            func: Fe,
                            args: [f],
                            thisArg: yt
                        },
                        m = c && !s;
                    if (r && !o) return m ? (a = a.clone(), a.__actions__.push(p), e.call(a)) : i.call(yt, this.value())[0];
                    if (!r && d) {
                        a = m ? a : new l(this);
                        var g = e.apply(a, t);
                        return g.__actions__.push(p), new u(g, o)
                    }
                    return this.thru(f)
                })
            }), y(["join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift"], function(e) {
                var t = (/^(?:replace|split)$/.test(e) ? xn : yn)[e],
                    n = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru",
                    r = !qn.spliceObjects && /^(?:pop|shift|splice)$/.test(e),
                    i = /^(?:join|pop|replace|shift)$/.test(e),
                    o = r ? function() {
                        var e = t.apply(this, arguments);
                        return 0 === this.length && delete this[0], e
                    } : t;
                a.prototype[e] = function() {
                    var e = arguments;
                    return i && !this.__chain__ ? o.apply(this.value(), e) : this[n](function(t) {
                        return o.apply(t, e)
                    })
                }
            }), k(l.prototype, function(e, t) {
                var n = a[t];
                if (n) {
                    var r = n.name + "";
                    (Vn[r] || (Vn[r] = [])).push({
                        name: t,
                        func: n
                    })
                }
            }), Vn[ae(yt, bt).name] = [{
                name: "wrapper",
                func: yt
            }], l.prototype.clone = c, l.prototype.reverse = h, l.prototype.value = d, a.prototype.chain = je, a.prototype.commit = Ge, a.prototype.concat = rr, a.prototype.plant = Ue, a.prototype.reverse = Xe, a.prototype.toString = We, a.prototype.run = a.prototype.toJSON = a.prototype.valueOf = a.prototype.value = He, a.prototype.collect = a.prototype.map, a.prototype.head = a.prototype.first, a.prototype.select = a.prototype.filter, a.prototype.tail = a.prototype.rest, "function" == typeof define && "object" == typeof define.amd && define.amd && define("lodash", [], function() {
                return a
            })
        }.call(this),
        function(e, t) {
            "function" == typeof define && define.amd ? define("postal", ["lodash"], function(n) {
                return t(n, e)
            }) : "object" == typeof module && module.exports ? module.exports = t(require("lodash"), this) : e.postal = t(e._, e)
        }(this, function(e, t, n) {
            function r() {
                for (; x.length;) c.unsubscribe(x.shift())
            }

            function i(e, t, n) {
                return function(r, i, o) {
                    r === e && o.splice(i, 1), 0 === o.length && delete n[t]
                }
            }

            function o(e, t, n, r, i) {
                var o = i && i.headers || {};
                return function(i) {
                    var a;
                    h.resolver.compare(i.topic, e, o) && (o.resolverNoCache || (a = t[n] = t[n] || [], a.push(i)), i.cacheKeys.push(n), r && r(i))
                }
            }

            function a(e, t) {
                return {
                    channel: h.SYSTEM_CHANNEL,
                    topic: "subscription." + e,
                    data: {
                        event: "subscription." + e,
                        channel: t.channel,
                        topic: t.topic
                    }
                }
            }

            function s(t, n) {
                return "function" == typeof t ? t : t ? function(r) {
                    var i = 0,
                        o = 0;
                    return e.each(t, function(e, a) {
                        i += 1, ("topic" === a && n.compare(r.topic, t.topic, {
                            resolverNoCache: !0
                        }) || "context" === a && t.context === r._context || r[a] === t[a]) && (o += 1)
                    }), i === o
                } : function() {
                    return !0
                }
            }
            var u = t.postal,
                l = {
                    DEFAULT_CHANNEL: "/",
                    SYSTEM_CHANNEL: "postal",
                    enableSystemMessages: !0,
                    cacheKeyDelimiter: "|",
                    autoCompactResolver: !1
                },
                c = {
                    configuration: e.extend({}, l)
                },
                h = c.configuration,
                d = function(e, t) {
                    this.bus = t, this.channel = e || h.DEFAULT_CHANNEL
                };
            d.prototype.subscribe = function() {
                return this.bus.subscribe({
                    channel: this.channel,
                    topic: 1 === arguments.length ? arguments[0].topic : arguments[0],
                    callback: 1 === arguments.length ? arguments[0].callback : arguments[1]
                })
            }, d.prototype.publish = function() {
                var e, t = {};
                if ("string" == typeof arguments[0] ? (t.topic = arguments[0], t.data = arguments[1], e = arguments[2]) : (t = arguments[0], e = arguments[1]), "object" != typeof t) throw new Error("The first argument to ChannelDefinition.publish should be either an envelope object or a string topic.");
                t.channel = this.channel, this.bus.publish(t, e)
            };
            var f = function(e, t, r) {
                    if (3 !== arguments.length) throw new Error("You must provide a channel, topic and callback when creating a SubscriptionDefinition instance.");
                    if (0 === t.length) throw new Error("Topics cannot be empty");
                    this.channel = e, this.topic = t, this.callback = r, this.pipeline = [], this.cacheKeys = [], this._context = n
                },
                p = function() {
                    var t;
                    return function(n) {
                        var r = !1;
                        return "string" == typeof n ? (r = n === t, t = n) : (r = e.isEqual(n, t), t = e.extend({}, n)), !r
                    }
                },
                m = function() {
                    var t = [];
                    return function(n) {
                        var r = !e.any(t, function(t) {
                            return e.isEqual(n, t)
                        });
                        return r && t.push(n), r
                    }
                };
            f.prototype = {
                catch: function(e) {
                    var t = this.callback,
                        n = function() {
                            try {
                                t.apply(this, arguments)
                            } catch (t) {
                                e(t, arguments[0])
                            }
                        };
                    return this.callback = n, this
                },
                defer: function() {
                    return this.delay(0)
                },
                disposeAfter: function(t) {
                    if ("number" != typeof t || t <= 0) throw new Error("The value provided to disposeAfter (maxCalls) must be a number greater than zero.");
                    var n = this,
                        r = e.after(t, e.bind(function() {
                            n.unsubscribe()
                        }));
                    return n.pipeline.push(function(e, t, n) {
                        n(e, t), r()
                    }), n
                },
                distinct: function() {
                    return this.constraint(new m)
                },
                distinctUntilChanged: function() {
                    return this.constraint(new p)
                },
                invokeSubscriber: function(e, t) {
                    if (!this.inactive) {
                        var n = this,
                            r = n.pipeline,
                            i = r.length,
                            o = n._context,
                            a = -1,
                            s = !1;
                        if (i) {
                            r = r.concat([n.callback]);
                            ! function e(t, u) {
                                a += 1, a < i ? r[a].call(o, t, u, e) : (n.callback.call(o, t, u), s = !0)
                            }(e, t)
                        } else n.callback.call(o, e, t), s = !0;
                        return s
                    }
                },
                logError: function() {
                    if (console) {
                        var e;
                        e = console.warn ? console.warn : console.log, this.catch(e)
                    }
                    return this
                },
                once: function() {
                    return this.disposeAfter(1)
                },
                subscribe: function(e) {
                    return this.callback = e, this
                },
                unsubscribe: function() {
                    this.inactive || c.unsubscribe(this)
                },
                constraint: function(e) {
                    if ("function" != typeof e) throw new Error("Predicate constraint must be a function");
                    return this.pipeline.push(function(t, n, r) {
                        e.call(this, t, n) && r(t, n)
                    }), this
                },
                constraints: function(t) {
                    var n = this;
                    return e.each(t, function(e) {
                        n.constraint(e)
                    }), n
                },
                context: function(e) {
                    return this._context = e, this
                },
                debounce: function(t, n) {
                    if ("number" != typeof t) throw new Error("Milliseconds must be a number");
                    return this.pipeline.push(e.debounce(function(e, t, n) {
                        n(e, t)
                    }, t, !!n)), this
                },
                delay: function(e) {
                    if ("number" != typeof e) throw new Error("Milliseconds must be a number");
                    return this.pipeline.push(function(t, n, r) {
                        setTimeout(function() {
                            r(t, n)
                        }, e)
                    }), this
                },
                throttle: function(t) {
                    if ("number" != typeof t) throw new Error("Milliseconds must be a number");
                    var n = function(e, t, n) {
                        n(e, t)
                    };
                    return this.pipeline.push(e.throttle(n, t)), this
                }
            };
            for (var g = ["withConstraint", "withConstraints", "withContext", "withDebounce", "withDelay", "withThrottle"], _ = ["constraint", "constraints", "context", "debounce", "delay", "throttle"], y = 0; y < 6; y++) {
                var v = g[y];
                f.prototype[v] = function(e, t) {
                    return function() {
                        if (console.warn || console.log) {
                            console.warn
                        }
                        return f.prototype[t].apply(this, arguments)
                    }
                }(v, _[y])
            }
            var b = (h.resolver = {
                    cache: {},
                    regex: {},
                    enableCache: !0,
                    compare: function(t, n, r) {
                        var i, o, a, s = n + h.cacheKeyDelimiter + t,
                            u = this.cache[s],
                            l = r || {},
                            c = this.enableCache && !l.resolverNoCache;
                        return !0 === u ? u : -1 === t.indexOf("#") && -1 === t.indexOf("*") ? (u = n === t, c && (this.cache[s] = u), u) : ((o = this.regex[t]) || (i = "^" + e.map(t.split("."), function(e) {
                            var t = "";
                            return a && (t = "#" !== a ? "\\.\\b" : "\\b"), t += "#" === e ? "[\\s\\S]*" : "*" === e ? "[^.]+" : e, a = e, t
                        }).join("") + "$", o = this.regex[t] = new RegExp(i)), u = o.test(n), c && (this.cache[s] = u), u)
                    },
                    reset: function() {
                        this.cache = {}, this.regex = {}
                    },
                    purge: function(t) {
                        var n = this,
                            r = h.cacheKeyDelimiter,
                            i = function(e, i) {
                                var o = i.split(r),
                                    a = o[0],
                                    s = o[1];
                                void 0 !== t.topic && t.topic !== a || void 0 !== t.binding && t.binding !== s || delete n.cache[i]
                            },
                            o = function(e, t) {
                                var i = t.split(r);
                                0 === c.getSubscribersFor({
                                    topic: i[0]
                                }).length && delete n.cache[t]
                            };
                        if (void 0 === t) this.reset();
                        else {
                            var a = !0 === t.compact ? o : i;
                            e.each(this.cache, a)
                        }
                    }
                }, 0),
                x = [],
                T = 0,
                w = e.bind(a, this, "created"),
                S = e.bind(a, this, "removed");
            if (e.extend(c, {
                    cache: {},
                    subscriptions: {},
                    wireTaps: [],
                    ChannelDefinition: d,
                    SubscriptionDefinition: f,
                    channel: function(e) {
                        return new d(e, this)
                    },
                    addWireTap: function(e) {
                        var t = this;
                        return t.wireTaps.push(e),
                            function() {
                                var n = t.wireTaps.indexOf(e); - 1 !== n && t.wireTaps.splice(n, 1)
                            }
                    },
                    noConflict: function() {
                        if ("undefined" == typeof window || "undefined" != typeof window && "function" == typeof define && define.amd) throw new Error("noConflict can only be used in browser clients which aren't using AMD modules");
                        return t.postal = u, this
                    },
                    getSubscribersFor: function(t) {
                        var n = [],
                            r = this;
                        return e.each(r.subscriptions, function(r) {
                            e.each(r, function(r) {
                                n = n.concat(e.filter(r, s(t, h.resolver)))
                            })
                        }), n
                    },
                    publish: function(t, n) {
                        ++b;
                        var i = t.channel = t.channel || h.DEFAULT_CHANNEL,
                            a = t.topic;
                        t.timeStamp = new Date, this.wireTaps.length && e.each(this.wireTaps, function(e) {
                            e(t.data, t, b)
                        });
                        var s = i + h.cacheKeyDelimiter + a,
                            u = this.cache[s],
                            l = 0,
                            c = 0;
                        if (u) e.each(u, function(e) {
                            e.invokeSubscriber(t.data, t) ? c++ : l++
                        });
                        else {
                            var d = o(a, this.cache, s, function(e) {
                                e.invokeSubscriber(t.data, t) ? c++ : l++
                            }, t);
                            e.each(this.subscriptions[i], function(t) {
                                e.each(t, d)
                            })
                        }
                        0 == --b && r(), n && n({
                            activated: c,
                            skipped: l
                        })
                    },
                    reset: function() {
                        this.unsubscribeFor(), h.resolver.reset(), this.subscriptions = {}, this.cache = {}
                    },
                    subscribe: function(t) {
                        var n, r = this.subscriptions,
                            i = new f(t.channel || h.DEFAULT_CHANNEL, t.topic, t.callback),
                            a = r[i.channel],
                            s = i.channel.length;
                        return a || (a = r[i.channel] = {}), n = r[i.channel][i.topic], n || (n = r[i.channel][i.topic] = []), n.push(i), e.each(e.keys(this.cache), function(e) {
                            e.substr(0, s) === i.channel && o(e.split(h.cacheKeyDelimiter)[1], this.cache, e)(i)
                        }, this), h.enableSystemMessages && this.publish(w(i)), i
                    },
                    unsubscribe: function() {
                        for (var t, n, r, o, a = arguments.length, s = 0; s < a; s++) {
                            if (t = arguments[s], t.inactive = !0, b) return void x.push(t);
                            if (n = this.subscriptions[t.channel], r = n && n[t.topic]) {
                                var u = r.length;
                                for (o = 0; o < u;) {
                                    if (r[o] === t) {
                                        r.splice(o, 1);
                                        break
                                    }
                                    o += 1
                                }
                                if (0 === r.length && (delete n[t.topic], e.keys(n).length || delete this.subscriptions[t.channel]), t.cacheKeys && t.cacheKeys.length)
                                    for (var l; l = t.cacheKeys.pop();) e.each(this.cache[l], i(t, l, this.cache));
                                if ("function" == typeof h.resolver.purge) {
                                    var c = !0 === h.autoCompactResolver ? 0 : "number" == typeof h.autoCompactResolver && h.autoCompactResolver - 1;
                                    c >= 0 && T === c ? (h.resolver.purge({
                                        compact: !0
                                    }), T = 0) : c >= 0 && T < c && (T += 1)
                                }
                            }
                            h.enableSystemMessages && this.publish(S(t))
                        }
                    },
                    unsubscribeFor: function(e) {
                        var t = [];
                        this.subscriptions && (t = this.getSubscribersFor(e), this.unsubscribe.apply(this, t))
                    }
                }), t && Object.prototype.hasOwnProperty.call(t, "__postalReady__") && e.isArray(t.__postalReady__))
                for (; t.__postalReady__.length;) t.__postalReady__.shift().onReady(c);
            return c
        }),
        function(e) {
            "use strict";
            if ("function" == typeof bootstrap) bootstrap("promise", e);
            else if ("object" == typeof exports && "object" == typeof module) module.exports = e();
            else if ("function" == typeof define && define.amd) define("promise", e);
            else if ("undefined" != typeof ses) {
                if (!ses.ok()) return;
                ses.makeQ = e
            } else {
                if ("undefined" == typeof window && "undefined" == typeof self) throw new Error("This environment was not anticipated by Q. Please file a bug.");
                var t = "undefined" != typeof window ? window : self,
                    n = t.Q;
                t.Q = e(), t.Q.noConflict = function() {
                    return t.Q = n, this
                }
            }
        }(function() {
            "use strict";

            function e(e) {
                return function() {
                    return Y.apply(e, arguments)
                }
            }

            function t(e) {
                return e === Object(e)
            }

            function n(e) {
                return "[object StopIteration]" === ee(e) || e instanceof X
            }

            function r(e, t) {
                if (G && t.stack && "object" == typeof e && null !== e && e.stack && -1 === e.stack.indexOf(te)) {
                    for (var n = [], r = t; r; r = r.source) r.stack && n.unshift(r.stack);
                    n.unshift(e.stack);
                    var o = n.join("\n" + te + "\n");
                    e.stack = i(o)
                }
            }

            function i(e) {
                for (var t = e.split("\n"), n = [], r = 0; r < t.length; ++r) {
                    var i = t[r];
                    s(i) || o(i) || !i || n.push(i)
                }
                return n.join("\n")
            }

            function o(e) {
                return -1 !== e.indexOf("(module.js:") || -1 !== e.indexOf("(node.js:")
            }

            function a(e) {
                var t = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);
                if (t) return [t[1], Number(t[2])];
                var n = /at ([^ ]+):(\d+):(?:\d+)$/.exec(e);
                if (n) return [n[1], Number(n[2])];
                var r = /.*@(.+):(\d+)$/.exec(e);
                return r ? [r[1], Number(r[2])] : void 0
            }

            function s(e) {
                var t = a(e);
                if (!t) return !1;
                var n = t[0],
                    r = t[1];
                return n === U && r >= W && r <= ae
            }

            function u() {
                if (G) try {
                    throw new Error
                } catch (r) {
                    var e = r.stack.split("\n"),
                        t = e[0].indexOf("@") > 0 ? e[1] : e[2],
                        n = a(t);
                    if (!n) return;
                    return U = n[0], n[1]
                }
            }

            function l(e) {
                return e instanceof f ? e : _(e) ? C(e) : E(e)
            }

            function c() {
                function e(e) {
                    t = e, o.source = e, q(n, function(t, n) {
                        l.nextTick(function() {
                            e.promiseDispatch.apply(e, n)
                        })
                    }, void 0), n = void 0, r = void 0
                }
                var t, n = [],
                    r = [],
                    i = $(c.prototype),
                    o = $(f.prototype);
                if (o.promiseDispatch = function(e, i, o) {
                        var a = z(arguments);
                        n ? (n.push(a), "when" === i && o[1] && r.push(o[1])) : l.nextTick(function() {
                            t.promiseDispatch.apply(t, a)
                        })
                    }, o.valueOf = function() {
                        if (n) return o;
                        var e = m(t);
                        return g(e) && (t = e), e
                    }, o.inspect = function() {
                        return t ? t.inspect() : {
                            state: "pending"
                        }
                    }, l.longStackSupport && G) try {
                    throw new Error
                } catch (e) {
                    o.stack = e.stack.substring(e.stack.indexOf("\n") + 1)
                }
                return i.promise = o, i.resolve = function(n) {
                    t || e(l(n))
                }, i.fulfill = function(n) {
                    t || e(E(n))
                }, i.reject = function(n) {
                    t || e(S(n))
                }, i.notify = function(e) {
                    t || q(r, function(t, n) {
                        l.nextTick(function() {
                            n(e)
                        })
                    }, void 0)
                }, i
            }

            function h(e) {
                if ("function" != typeof e) throw new TypeError("resolver must be a function.");
                var t = c();
                try {
                    e(t.resolve, t.reject, t.notify)
                } catch (e) {
                    t.reject(e)
                }
                return t.promise
            }

            function d(e) {
                return h(function(t, n) {
                    for (var r = 0, i = e.length; r < i; r++) l(e[r]).then(t, n)
                })
            }

            function f(e, t, n) {
                void 0 === t && (t = function(e) {
                    return S(new Error("Promise does not support operation: " + e))
                }), void 0 === n && (n = function() {
                    return {
                        state: "unknown"
                    }
                });
                var r = $(f.prototype);
                if (r.promiseDispatch = function(n, i, o) {
                        var a;
                        try {
                            a = e[i] ? e[i].apply(r, o) : t.call(r, i, o)
                        } catch (e) {
                            a = S(e)
                        }
                        n && n(a)
                    }, r.inspect = n, n) {
                    var i = n();
                    "rejected" === i.state && (r.exception = i.reason), r.valueOf = function() {
                        var e = n();
                        return "pending" === e.state || "rejected" === e.state ? r : e.value
                    }
                }
                return r
            }

            function p(e, t, n, r) {
                return l(e).then(t, n, r)
            }

            function m(e) {
                if (g(e)) {
                    var t = e.inspect();
                    if ("fulfilled" === t.state) return t.value
                }
                return e
            }

            function g(e) {
                return e instanceof f
            }

            function _(e) {
                return t(e) && "function" == typeof e.then
            }

            function y(e) {
                return g(e) && "pending" === e.inspect().state
            }

            function v(e) {
                return !g(e) || "fulfilled" === e.inspect().state
            }

            function b(e) {
                return g(e) && "rejected" === e.inspect().state
            }

            function x() {
                ne.length = 0, re.length = 0, oe || (oe = !0)
            }

            function T(e, t) {
                oe && ("object" == typeof process && "function" == typeof process.emit && l.nextTick.runAfter(function() {
                    -1 !== J(re, e) && (process.emit("unhandledRejection", t, e), ie.push(e))
                }), re.push(e), t && void 0 !== t.stack ? ne.push(t.stack) : ne.push("(no stack) " + t))
            }

            function w(e) {
                if (oe) {
                    var t = J(re, e); - 1 !== t && ("object" == typeof process && "function" == typeof process.emit && l.nextTick.runAfter(function() {
                        var n = J(ie, e); - 1 !== n && (process.emit("rejectionHandled", ne[t], e), ie.splice(n, 1))
                    }), re.splice(t, 1), ne.splice(t, 1))
                }
            }

            function S(e) {
                var t = f({
                    when: function(t) {
                        return t && w(this), t ? t(e) : this
                    }
                }, function() {
                    return this
                }, function() {
                    return {
                        state: "rejected",
                        reason: e
                    }
                });
                return T(t, e), t
            }

            function E(e) {
                return f({
                    when: function() {
                        return e
                    },
                    get: function(t) {
                        return e[t]
                    },
                    set: function(t, n) {
                        e[t] = n
                    },
                    delete: function(t) {
                        delete e[t]
                    },
                    post: function(t, n) {
                        return null === t || void 0 === t ? e.apply(void 0, n) : e[t].apply(e, n)
                    },
                    apply: function(t, n) {
                        return e.apply(t, n)
                    },
                    keys: function() {
                        return Q(e)
                    }
                }, void 0, function() {
                    return {
                        state: "fulfilled",
                        value: e
                    }
                })
            }

            function C(e) {
                var t = c();
                return l.nextTick(function() {
                    try {
                        e.then(t.resolve, t.reject, t.notify)
                    } catch (e) {
                        t.reject(e)
                    }
                }), t.promise
            }

            function P(e) {
                return f({
                    isDef: function() {}
                }, function(t, n) {
                    return D(e, t, n)
                }, function() {
                    return l(e).inspect()
                })
            }

            function O(e, t, n) {
                return l(e).spread(t, n)
            }

            function A(e) {
                return function() {
                    function t(e, t) {
                        var a;
                        if ("undefined" == typeof StopIteration) {
                            try {
                                a = r[e](t)
                            } catch (e) {
                                return S(e)
                            }
                            return a.done ? l(a.value) : p(a.value, i, o)
                        }
                        try {
                            a = r[e](t)
                        } catch (e) {
                            return n(e) ? l(e.value) : S(e)
                        }
                        return p(a, i, o)
                    }
                    var r = e.apply(this, arguments),
                        i = t.bind(t, "next"),
                        o = t.bind(t, "throw");
                    return i()
                }
            }

            function M(e) {
                l.done(l.async(e)())
            }

            function I(e) {
                throw new X(e)
            }

            function R(e) {
                return function() {
                    return O([this, L(arguments)], function(t, n) {
                        return e.apply(t, n)
                    })
                }
            }

            function D(e, t, n) {
                return l(e).dispatch(t, n)
            }

            function L(e) {
                return p(e, function(e) {
                    var t = 0,
                        n = c();
                    return q(e, function(r, i, o) {
                        var a;
                        g(i) && "fulfilled" === (a = i.inspect()).state ? e[o] = a.value : (++t, p(i, function(r) {
                            e[o] = r, 0 == --t && n.resolve(e)
                        }, n.reject, function(e) {
                            n.notify({
                                index: o,
                                value: e
                            })
                        }))
                    }, void 0), 0 === t && n.resolve(e), n.promise
                })
            }

            function k(e) {
                if (0 === e.length) return l.resolve();
                var t = l.defer(),
                    n = 0;
                return q(e, function(r, i, o) {
                    function a(e) {
                        t.resolve(e)
                    }

                    function s() {
                        0 === --n && t.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))
                    }

                    function u(e) {
                        t.notify({
                            index: o,
                            value: e
                        })
                    }
                    var l = e[o];
                    n++, p(l, a, s, u)
                }, void 0), t.promise
            }

            function B(e) {
                return p(e, function(e) {
                    return e = K(e, l), p(L(K(e, function(e) {
                        return p(e, H, H)
                    })), function() {
                        return e
                    })
                })
            }

            function N(e) {
                return l(e).allSettled()
            }

            function F(e, t) {
                return l(e).then(void 0, void 0, t)
            }

            function j(e, t) {
                return l(e).nodeify(t)
            }
            var G = !1;
            try {
                throw new Error
            } catch (e) {
                G = !!e.stack
            }
            var U, X, W = u(),
                H = function() {},
                V = function() {
                    function e() {
                        for (var e, r; n.next;) n = n.next, e = n.task, n.task = void 0, r = n.domain, r && (n.domain = void 0, r.enter()), t(e, r);
                        for (; s.length;) e = s.pop(), t(e);
                        i = !1
                    }

                    function t(t, n) {
                        try {
                            t()
                        } catch (t) {
                            if (a) throw n && n.exit(), setTimeout(e, 0), n && n.enter(), t;
                            setTimeout(function() {
                                throw t
                            }, 0)
                        }
                        n && n.exit()
                    }
                    var n = {
                            task: void 0,
                            next: null
                        },
                        r = n,
                        i = !1,
                        o = void 0,
                        a = !1,
                        s = [];
                    if (V = function(e) {
                            r = r.next = {
                                task: e,
                                domain: a && process.domain,
                                next: null
                            }, i || (i = !0, o())
                        }, "object" == typeof process && "[object process]" === process.toString() && process.nextTick) a = !0, o = function() {
                        process.nextTick(e)
                    };
                    else if ("function" == typeof setImmediate) o = "undefined" != typeof window ? setImmediate.bind(window, e) : function() {
                        setImmediate(e)
                    };
                    else if ("undefined" != typeof MessageChannel) {
                        var u = new MessageChannel;
                        u.port1.onmessage = function() {
                            o = l, u.port1.onmessage = e, e()
                        };
                        var l = function() {
                            u.port2.postMessage(0)
                        };
                        o = function() {
                            setTimeout(e, 0), l()
                        }
                    } else o = function() {
                        setTimeout(e, 0)
                    };
                    return V.runAfter = function(e) {
                        s.push(e), i || (i = !0, o())
                    }, V
                }(),
                Y = Function.call,
                z = e(Array.prototype.slice),
                q = e(Array.prototype.reduce || function(e, t) {
                    var n = 0,
                        r = this.length;
                    if (1 === arguments.length)
                        for (;;) {
                            if (n in this) {
                                t = this[n++];
                                break
                            }
                            if (++n >= r) throw new TypeError
                        }
                    for (; n < r; n++) n in this && (t = e(t, this[n], n));
                    return t
                }),
                J = e(Array.prototype.indexOf || function(e) {
                    for (var t = 0; t < this.length; t++)
                        if (this[t] === e) return t;
                    return -1
                }),
                K = e(Array.prototype.map || function(e, t) {
                    var n = this,
                        r = [];
                    return q(n, function(i, o, a) {
                        r.push(e.call(t, o, a, n))
                    }, void 0), r
                }),
                $ = Object.create || function(e) {
                    function t() {}
                    return t.prototype = e, new t
                },
                Z = e(Object.prototype.hasOwnProperty),
                Q = Object.keys || function(e) {
                    var t = [];
                    for (var n in e) Z(e, n) && t.push(n);
                    return t
                },
                ee = e(Object.prototype.toString);
            X = "undefined" != typeof ReturnValue ? ReturnValue : function(e) {
                this.value = e
            };
            var te = "From previous event:";
            l.resolve = l, l.nextTick = V, l.longStackSupport = !1, "object" == typeof process && process && process.env && process.env.Q_DEBUG && (l.longStackSupport = !0), l.defer = c, c.prototype.makeNodeResolver = function() {
                var e = this;
                return function(t, n) {
                    t ? e.reject(t) : arguments.length > 2 ? e.resolve(z(arguments, 1)) : e.resolve(n)
                }
            }, l.Promise = h, l.promise = h, h.race = d, h.all = L, h.reject = S, h.resolve = l, l.passByCopy = function(e) {
                return e
            }, f.prototype.passByCopy = function() {
                return this
            }, l.join = function(e, t) {
                return l(e).join(t)
            }, f.prototype.join = function(e) {
                return l([this, e]).spread(function(e, t) {
                    if (e === t) return e;
                    throw new Error("Q can't join: not the same: " + e + " " + t)
                })
            }, l.race = d, f.prototype.race = function() {
                return this.then(l.race)
            }, l.makePromise = f, f.prototype.toString = function() {
                return "[object Promise]"
            }, f.prototype.then = function(e, t, n) {
                function i(t) {
                    try {
                        return "function" == typeof e ? e(t) : t
                    } catch (e) {
                        return S(e)
                    }
                }

                function o(e) {
                    if ("function" == typeof t) {
                        r(e, s);
                        try {
                            return t(e)
                        } catch (e) {
                            return S(e)
                        }
                    }
                    return S(e)
                }

                function a(e) {
                    return "function" == typeof n ? n(e) : e
                }
                var s = this,
                    u = c(),
                    h = !1;
                return l.nextTick(function() {
                    s.promiseDispatch(function(e) {
                        h || (h = !0, u.resolve(i(e)))
                    }, "when", [function(e) {
                        h || (h = !0, u.resolve(o(e)))
                    }])
                }), s.promiseDispatch(void 0, "when", [void 0, function(e) {
                    var t, n = !1;
                    try {
                        t = a(e)
                    } catch (e) {
                        if (n = !0, !l.onerror) throw e;
                        l.onerror(e)
                    }
                    n || u.notify(t)
                }]), u.promise
            }, l.tap = function(e, t) {
                return l(e).tap(t)
            }, f.prototype.tap = function(e) {
                return e = l(e), this.then(function(t) {
                    return e.fcall(t).thenResolve(t)
                })
            }, l.when = p, f.prototype.thenResolve = function(e) {
                return this.then(function() {
                    return e
                })
            }, l.thenResolve = function(e, t) {
                return l(e).thenResolve(t)
            }, f.prototype.thenReject = function(e) {
                return this.then(function() {
                    throw e
                })
            }, l.thenReject = function(e, t) {
                return l(e).thenReject(t)
            }, l.nearer = m, l.isPromise = g, l.isPromiseAlike = _, l.isPending = y, f.prototype.isPending = function() {
                return "pending" === this.inspect().state
            }, l.isFulfilled = v, f.prototype.isFulfilled = function() {
                return "fulfilled" === this.inspect().state
            }, l.isRejected = b, f.prototype.isRejected = function() {
                return "rejected" === this.inspect().state
            };
            var ne = [],
                re = [],
                ie = [],
                oe = !0;
            l.resetUnhandledRejections = x, l.getUnhandledReasons = function() {
                return ne.slice()
            }, l.stopUnhandledRejectionTracking = function() {
                x(), oe = !1
            }, x(), l.reject = S, l.fulfill = E, l.master = P, l.spread = O, f.prototype.spread = function(e, t) {
                return this.all().then(function(t) {
                    return e.apply(void 0, t)
                }, t)
            }, l.async = A, l.spawn = M, l.return = I, l.promised = R, l.dispatch = D, f.prototype.dispatch = function(e, t) {
                var n = this,
                    r = c();
                return l.nextTick(function() {
                    n.promiseDispatch(r.resolve, e, t)
                }), r.promise
            }, l.get = function(e, t) {
                return l(e).dispatch("get", [t])
            }, f.prototype.get = function(e) {
                return this.dispatch("get", [e])
            }, l.set = function(e, t, n) {
                return l(e).dispatch("set", [t, n])
            }, f.prototype.set = function(e, t) {
                return this.dispatch("set", [e, t])
            }, l.del = l.delete = function(e, t) {
                return l(e).dispatch("delete", [t])
            }, f.prototype.del = f.prototype.delete = function(e) {
                return this.dispatch("delete", [e])
            }, l.mapply = l.post = function(e, t, n) {
                return l(e).dispatch("post", [t, n])
            }, f.prototype.mapply = f.prototype.post = function(e, t) {
                return this.dispatch("post", [e, t])
            }, l.send = l.mcall = l.invoke = function(e, t) {
                return l(e).dispatch("post", [t, z(arguments, 2)])
            }, f.prototype.send = f.prototype.mcall = f.prototype.invoke = function(e) {
                return this.dispatch("post", [e, z(arguments, 1)])
            }, l.fapply = function(e, t) {
                return l(e).dispatch("apply", [void 0, t])
            }, f.prototype.fapply = function(e) {
                return this.dispatch("apply", [void 0, e])
            }, l.try = l.fcall = function(e) {
                return l(e).dispatch("apply", [void 0, z(arguments, 1)])
            }, f.prototype.fcall = function() {
                return this.dispatch("apply", [void 0, z(arguments)])
            }, l.fbind = function(e) {
                var t = l(e),
                    n = z(arguments, 1);
                return function() {
                    return t.dispatch("apply", [this, n.concat(z(arguments))])
                }
            }, f.prototype.fbind = function() {
                var e = this,
                    t = z(arguments);
                return function() {
                    return e.dispatch("apply", [this, t.concat(z(arguments))])
                }
            }, l.keys = function(e) {
                return l(e).dispatch("keys", [])
            }, f.prototype.keys = function() {
                return this.dispatch("keys", [])
            }, l.all = L, f.prototype.all = function() {
                return L(this)
            }, l.any = k, f.prototype.any = function() {
                return k(this)
            }, l.allResolved = function(e, t, n) {
                return function() {
                    return "undefined" != typeof console && console.warn, e.apply(e, arguments)
                }
            }(B, "allResolved", "allSettled"), f.prototype.allResolved = function() {
                return B(this)
            }, l.allSettled = N, f.prototype.allSettled = function() {
                return this.then(function(e) {
                    return L(K(e, function(e) {
                        function t() {
                            return e.inspect()
                        }
                        return e = l(e), e.then(t, t)
                    }))
                })
            }, l.fail = l.catch = function(e, t) {
                return l(e).then(void 0, t)
            }, f.prototype.fail = f.prototype.catch = function(e) {
                return this.then(void 0, e)
            }, l.progress = F, f.prototype.progress = function(e) {
                return this.then(void 0, void 0, e)
            }, l.fin = l.finally = function(e, t) {
                return l(e).finally(t)
            }, f.prototype.fin = f.prototype.finally = function(e) {
                if (!e || "function" != typeof e.apply) throw new Error("Q can't apply finally callback");
                return e = l(e), this.then(function(t) {
                    return e.fcall().then(function() {
                        return t
                    })
                }, function(t) {
                    return e.fcall().then(function() {
                        throw t
                    })
                })
            }, l.done = function(e, t, n, r) {
                return l(e).done(t, n, r)
            }, f.prototype.done = function(e, t, n) {
                var i = function(e) {
                        l.nextTick(function() {
                            if (r(e, o), !l.onerror) throw e;
                            l.onerror(e)
                        })
                    },
                    o = e || t || n ? this.then(e, t, n) : this;
                "object" == typeof process && process && process.domain && (i = process.domain.bind(i)), o.then(void 0, i)
            }, l.timeout = function(e, t, n) {
                return l(e).timeout(t, n)
            }, f.prototype.timeout = function(e, t) {
                var n = c(),
                    r = setTimeout(function() {
                        t && "string" != typeof t || (t = new Error(t || "Timed out after " + e + " ms"), t.code = "ETIMEDOUT"), n.reject(t)
                    }, e);
                return this.then(function(e) {
                    clearTimeout(r), n.resolve(e)
                }, function(e) {
                    clearTimeout(r), n.reject(e)
                }, n.notify), n.promise
            }, l.delay = function(e, t) {
                return void 0 === t && (t = e, e = void 0), l(e).delay(t)
            }, f.prototype.delay = function(e) {
                return this.then(function(t) {
                    var n = c();
                    return setTimeout(function() {
                        n.resolve(t)
                    }, e), n.promise
                })
            }, l.nfapply = function(e, t) {
                return l(e).nfapply(t)
            }, f.prototype.nfapply = function(e) {
                var t = c(),
                    n = z(e);
                return n.push(t.makeNodeResolver()), this.fapply(n).fail(t.reject), t.promise
            }, l.nfcall = function(e) {
                var t = z(arguments, 1);
                return l(e).nfapply(t)
            }, f.prototype.nfcall = function() {
                var e = z(arguments),
                    t = c();
                return e.push(t.makeNodeResolver()), this.fapply(e).fail(t.reject), t.promise
            }, l.nfbind = l.denodeify = function(e) {
                if (void 0 === e) throw new Error("Q can't wrap an undefined function");
                var t = z(arguments, 1);
                return function() {
                    var n = t.concat(z(arguments)),
                        r = c();
                    return n.push(r.makeNodeResolver()), l(e).fapply(n).fail(r.reject), r.promise
                }
            }, f.prototype.nfbind = f.prototype.denodeify = function() {
                var e = z(arguments);
                return e.unshift(this), l.denodeify.apply(void 0, e)
            }, l.nbind = function(e, t) {
                var n = z(arguments, 2);
                return function() {
                    function r() {
                        return e.apply(t, arguments)
                    }
                    var i = n.concat(z(arguments)),
                        o = c();
                    return i.push(o.makeNodeResolver()), l(r).fapply(i).fail(o.reject), o.promise
                }
            }, f.prototype.nbind = function() {
                var e = z(arguments, 0);
                return e.unshift(this), l.nbind.apply(void 0, e)
            }, l.nmapply = l.npost = function(e, t, n) {
                return l(e).npost(t, n)
            }, f.prototype.nmapply = f.prototype.npost = function(e, t) {
                var n = z(t || []),
                    r = c();
                return n.push(r.makeNodeResolver()), this.dispatch("post", [e, n]).fail(r.reject), r.promise
            }, l.nsend = l.nmcall = l.ninvoke = function(e, t) {
                var n = z(arguments, 2),
                    r = c();
                return n.push(r.makeNodeResolver()), l(e).dispatch("post", [t, n]).fail(r.reject), r.promise
            }, f.prototype.nsend = f.prototype.nmcall = f.prototype.ninvoke = function(e) {
                var t = z(arguments, 1),
                    n = c();
                return t.push(n.makeNodeResolver()), this.dispatch("post", [e, t]).fail(n.reject), n.promise
            }, l.nodeify = j, f.prototype.nodeify = function(e) {
                if (!e) return this;
                this.then(function(t) {
                    l.nextTick(function() {
                        e(null, t)
                    })
                }, function(t) {
                    l.nextTick(function() {
                        e(t)
                    })
                })
            }, l.noConflict = function() {
                throw new Error("Q.noConflict only works when Q is used as a global")
            };
            var ae = u();
            return l
        }),
        function() {
            function e(e) {
                function t(t, n, r, i, o, a) {
                    for (; o >= 0 && a > o; o += e) {
                        var s = i ? i[o] : o;
                        r = n(r, t[s], s, t)
                    }
                    return r
                }
                return function(n, r, i, o) {
                    r = v(r, o, 4);
                    var a = !C(n) && y.keys(n),
                        s = (a || n).length,
                        u = e > 0 ? 0 : s - 1;
                    return arguments.length < 3 && (i = n[a ? a[u] : u], u += e), t(n, r, i, a, u, s)
                }
            }

            function t(e) {
                return function(t, n, r) {
                    n = b(n, r);
                    for (var i = E(t), o = e > 0 ? 0 : i - 1; o >= 0 && i > o; o += e)
                        if (n(t[o], o, t)) return o;
                    return -1
                }
            }

            function n(e, t, n) {
                return function(r, i, o) {
                    var a = 0,
                        s = E(r);
                    if ("number" == typeof o) e > 0 ? a = o >= 0 ? o : Math.max(o + s, a) : s = o >= 0 ? Math.min(o + 1, s) : o + s + 1;
                    else if (n && o && s) return o = n(r, i), r[o] === i ? o : -1;
                    if (i !== i) return o = t(c.call(r, a, s), y.isNaN), o >= 0 ? o + a : -1;
                    for (o = e > 0 ? a : s - 1; o >= 0 && s > o; o += e)
                        if (r[o] === i) return o;
                    return -1
                }
            }

            function r(e, t) {
                var n = I.length,
                    r = e.constructor,
                    i = y.isFunction(r) && r.prototype || s,
                    o = "constructor";
                for (y.has(e, o) && !y.contains(t, o) && t.push(o); n--;)(o = I[n]) in e && e[o] !== i[o] && !y.contains(t, o) && t.push(o)
            }
            var i = this,
                o = i._,
                a = Array.prototype,
                s = Object.prototype,
                u = Function.prototype,
                l = a.push,
                c = a.slice,
                h = s.toString,
                d = s.hasOwnProperty,
                f = Array.isArray,
                p = Object.keys,
                m = u.bind,
                g = Object.create,
                _ = function() {},
                y = function(e) {
                    return e instanceof y ? e : this instanceof y ? void(this._wrapped = e) : new y(e)
                };
            "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = y), exports._ = y) : i._ = y, y.VERSION = "1.8.3";
            var v = function(e, t, n) {
                    if (void 0 === t) return e;
                    switch (null == n ? 3 : n) {
                        case 1:
                            return function(n) {
                                return e.call(t, n)
                            };
                        case 2:
                            return function(n, r) {
                                return e.call(t, n, r)
                            };
                        case 3:
                            return function(n, r, i) {
                                return e.call(t, n, r, i)
                            };
                        case 4:
                            return function(n, r, i, o) {
                                return e.call(t, n, r, i, o)
                            }
                    }
                    return function() {
                        return e.apply(t, arguments)
                    }
                },
                b = function(e, t, n) {
                    return null == e ? y.identity : y.isFunction(e) ? v(e, t, n) : y.isObject(e) ? y.matcher(e) : y.property(e)
                };
            y.iteratee = function(e, t) {
                return b(e, t, 1 / 0)
            };
            var x = function(e, t) {
                    return function(n) {
                        var r = arguments.length;
                        if (2 > r || null == n) return n;
                        for (var i = 1; r > i; i++)
                            for (var o = arguments[i], a = e(o), s = a.length, u = 0; s > u; u++) {
                                var l = a[u];
                                t && void 0 !== n[l] || (n[l] = o[l])
                            }
                        return n
                    }
                },
                T = function(e) {
                    if (!y.isObject(e)) return {};
                    if (g) return g(e);
                    _.prototype = e;
                    var t = new _;
                    return _.prototype = null, t
                },
                w = function(e) {
                    return function(t) {
                        return null == t ? void 0 : t[e]
                    }
                },
                S = Math.pow(2, 53) - 1,
                E = w("length"),
                C = function(e) {
                    var t = E(e);
                    return "number" == typeof t && t >= 0 && S >= t
                };
            y.each = y.forEach = function(e, t, n) {
                t = v(t, n);
                var r, i;
                if (C(e))
                    for (r = 0, i = e.length; i > r; r++) t(e[r], r, e);
                else {
                    var o = y.keys(e);
                    for (r = 0, i = o.length; i > r; r++) t(e[o[r]], o[r], e)
                }
                return e
            }, y.map = y.collect = function(e, t, n) {
                t = b(t, n);
                for (var r = !C(e) && y.keys(e), i = (r || e).length, o = Array(i), a = 0; i > a; a++) {
                    var s = r ? r[a] : a;
                    o[a] = t(e[s], s, e)
                }
                return o
            }, y.reduce = y.foldl = y.inject = e(1), y.reduceRight = y.foldr = e(-1), y.find = y.detect = function(e, t, n) {
                var r;
                return r = C(e) ? y.findIndex(e, t, n) : y.findKey(e, t, n), void 0 !== r && -1 !== r ? e[r] : void 0
            }, y.filter = y.select = function(e, t, n) {
                var r = [];
                return t = b(t, n), y.each(e, function(e, n, i) {
                    t(e, n, i) && r.push(e)
                }), r
            }, y.reject = function(e, t, n) {
                return y.filter(e, y.negate(b(t)), n)
            }, y.every = y.all = function(e, t, n) {
                t = b(t, n);
                for (var r = !C(e) && y.keys(e), i = (r || e).length, o = 0; i > o; o++) {
                    var a = r ? r[o] : o;
                    if (!t(e[a], a, e)) return !1
                }
                return !0
            }, y.some = y.any = function(e, t, n) {
                t = b(t, n);
                for (var r = !C(e) && y.keys(e), i = (r || e).length, o = 0; i > o; o++) {
                    var a = r ? r[o] : o;
                    if (t(e[a], a, e)) return !0
                }
                return !1
            }, y.contains = y.includes = y.include = function(e, t, n, r) {
                return C(e) || (e = y.values(e)), ("number" != typeof n || r) && (n = 0), y.indexOf(e, t, n) >= 0
            }, y.invoke = function(e, t) {
                var n = c.call(arguments, 2),
                    r = y.isFunction(t);
                return y.map(e, function(e) {
                    var i = r ? t : e[t];
                    return null == i ? i : i.apply(e, n)
                })
            }, y.pluck = function(e, t) {
                return y.map(e, y.property(t))
            }, y.where = function(e, t) {
                return y.filter(e, y.matcher(t))
            }, y.findWhere = function(e, t) {
                return y.find(e, y.matcher(t))
            }, y.max = function(e, t, n) {
                var r, i, o = -1 / 0,
                    a = -1 / 0;
                if (null == t && null != e) {
                    e = C(e) ? e : y.values(e);
                    for (var s = 0, u = e.length; u > s; s++)(r = e[s]) > o && (o = r)
                } else t = b(t, n), y.each(e, function(e, n, r) {
                    ((i = t(e, n, r)) > a || i === -1 / 0 && o === -1 / 0) && (o = e, a = i)
                });
                return o
            }, y.min = function(e, t, n) {
                var r, i, o = 1 / 0,
                    a = 1 / 0;
                if (null == t && null != e) {
                    e = C(e) ? e : y.values(e);
                    for (var s = 0, u = e.length; u > s; s++) r = e[s], o > r && (o = r)
                } else t = b(t, n), y.each(e, function(e, n, r) {
                    i = t(e, n, r), (a > i || 1 / 0 === i && 1 / 0 === o) && (o = e, a = i)
                });
                return o
            }, y.shuffle = function(e) {
                for (var t, n = C(e) ? e : y.values(e), r = n.length, i = Array(r), o = 0; r > o; o++) t = y.random(0, o), t !== o && (i[o] = i[t]), i[t] = n[o];
                return i
            }, y.sample = function(e, t, n) {
                return null == t || n ? (C(e) || (e = y.values(e)), e[y.random(e.length - 1)]) : y.shuffle(e).slice(0, Math.max(0, t))
            }, y.sortBy = function(e, t, n) {
                return t = b(t, n), y.pluck(y.map(e, function(e, n, r) {
                    return {
                        value: e,
                        index: n,
                        criteria: t(e, n, r)
                    }
                }).sort(function(e, t) {
                    var n = e.criteria,
                        r = t.criteria;
                    if (n !== r) {
                        if (n > r || void 0 === n) return 1;
                        if (r > n || void 0 === r) return -1
                    }
                    return e.index - t.index
                }), "value")
            };
            var P = function(e) {
                return function(t, n, r) {
                    var i = {};
                    return n = b(n, r), y.each(t, function(r, o) {
                        var a = n(r, o, t);
                        e(i, r, a)
                    }), i
                }
            };
            y.groupBy = P(function(e, t, n) {
                y.has(e, n) ? e[n].push(t) : e[n] = [t]
            }), y.indexBy = P(function(e, t, n) {
                e[n] = t
            }), y.countBy = P(function(e, t, n) {
                y.has(e, n) ? e[n]++ : e[n] = 1
            }), y.toArray = function(e) {
                return e ? y.isArray(e) ? c.call(e) : C(e) ? y.map(e, y.identity) : y.values(e) : []
            }, y.size = function(e) {
                return null == e ? 0 : C(e) ? e.length : y.keys(e).length
            }, y.partition = function(e, t, n) {
                t = b(t, n);
                var r = [],
                    i = [];
                return y.each(e, function(e, n, o) {
                    (t(e, n, o) ? r : i).push(e)
                }), [r, i]
            }, y.first = y.head = y.take = function(e, t, n) {
                return null == e ? void 0 : null == t || n ? e[0] : y.initial(e, e.length - t)
            }, y.initial = function(e, t, n) {
                return c.call(e, 0, Math.max(0, e.length - (null == t || n ? 1 : t)))
            }, y.last = function(e, t, n) {
                return null == e ? void 0 : null == t || n ? e[e.length - 1] : y.rest(e, Math.max(0, e.length - t))
            }, y.rest = y.tail = y.drop = function(e, t, n) {
                return c.call(e, null == t || n ? 1 : t)
            }, y.compact = function(e) {
                return y.filter(e, y.identity)
            };
            var O = function(e, t, n, r) {
                for (var i = [], o = 0, a = r || 0, s = E(e); s > a; a++) {
                    var u = e[a];
                    if (C(u) && (y.isArray(u) || y.isArguments(u))) {
                        t || (u = O(u, t, n));
                        var l = 0,
                            c = u.length;
                        for (i.length += c; c > l;) i[o++] = u[l++]
                    } else n || (i[o++] = u)
                }
                return i
            };
            y.flatten = function(e, t) {
                return O(e, t, !1)
            }, y.without = function(e) {
                return y.difference(e, c.call(arguments, 1))
            }, y.uniq = y.unique = function(e, t, n, r) {
                y.isBoolean(t) || (r = n, n = t, t = !1), null != n && (n = b(n, r));
                for (var i = [], o = [], a = 0, s = E(e); s > a; a++) {
                    var u = e[a],
                        l = n ? n(u, a, e) : u;
                    t ? (a && o === l || i.push(u), o = l) : n ? y.contains(o, l) || (o.push(l), i.push(u)) : y.contains(i, u) || i.push(u)
                }
                return i
            }, y.union = function() {
                return y.uniq(O(arguments, !0, !0))
            }, y.intersection = function(e) {
                for (var t = [], n = arguments.length, r = 0, i = E(e); i > r; r++) {
                    var o = e[r];
                    if (!y.contains(t, o)) {
                        for (var a = 1; n > a && y.contains(arguments[a], o); a++);
                        a === n && t.push(o)
                    }
                }
                return t
            }, y.difference = function(e) {
                var t = O(arguments, !0, !0, 1);
                return y.filter(e, function(e) {
                    return !y.contains(t, e)
                })
            }, y.zip = function() {
                return y.unzip(arguments)
            }, y.unzip = function(e) {
                for (var t = e && y.max(e, E).length || 0, n = Array(t), r = 0; t > r; r++) n[r] = y.pluck(e, r);
                return n
            }, y.object = function(e, t) {
                for (var n = {}, r = 0, i = E(e); i > r; r++) t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
                return n
            }, y.findIndex = t(1), y.findLastIndex = t(-1), y.sortedIndex = function(e, t, n, r) {
                n = b(n, r, 1);
                for (var i = n(t), o = 0, a = E(e); a > o;) {
                    var s = Math.floor((o + a) / 2);
                    n(e[s]) < i ? o = s + 1 : a = s
                }
                return o
            }, y.indexOf = n(1, y.findIndex, y.sortedIndex), y.lastIndexOf = n(-1, y.findLastIndex), y.range = function(e, t, n) {
                null == t && (t = e || 0, e = 0), n = n || 1;
                for (var r = Math.max(Math.ceil((t - e) / n), 0), i = Array(r), o = 0; r > o; o++, e += n) i[o] = e;
                return i
            };
            var A = function(e, t, n, r, i) {
                if (!(r instanceof t)) return e.apply(n, i);
                var o = T(e.prototype),
                    a = e.apply(o, i);
                return y.isObject(a) ? a : o
            };
            y.bind = function(e, t) {
                if (m && e.bind === m) return m.apply(e, c.call(arguments, 1));
                if (!y.isFunction(e)) throw new TypeError("Bind must be called on a function");
                var n = c.call(arguments, 2),
                    r = function() {
                        return A(e, r, t, this, n.concat(c.call(arguments)))
                    };
                return r
            }, y.partial = function(e) {
                var t = c.call(arguments, 1),
                    n = function() {
                        for (var r = 0, i = t.length, o = Array(i), a = 0; i > a; a++) o[a] = t[a] === y ? arguments[r++] : t[a];
                        for (; r < arguments.length;) o.push(arguments[r++]);
                        return A(e, n, this, this, o)
                    };
                return n
            }, y.bindAll = function(e) {
                var t, n, r = arguments.length;
                if (1 >= r) throw new Error("bindAll must be passed function names");
                for (t = 1; r > t; t++) n = arguments[t], e[n] = y.bind(e[n], e);
                return e
            }, y.memoize = function(e, t) {
                var n = function(r) {
                    var i = n.cache,
                        o = "" + (t ? t.apply(this, arguments) : r);
                    return y.has(i, o) || (i[o] = e.apply(this, arguments)), i[o]
                };
                return n.cache = {}, n
            }, y.delay = function(e, t) {
                var n = c.call(arguments, 2);
                return setTimeout(function() {
                    return e.apply(null, n)
                }, t)
            }, y.defer = y.partial(y.delay, y, 1), y.throttle = function(e, t, n) {
                var r, i, o, a = null,
                    s = 0;
                n || (n = {});
                var u = function() {
                    s = !1 === n.leading ? 0 : y.now(), a = null, o = e.apply(r, i), a || (r = i = null)
                };
                return function() {
                    var l = y.now();
                    s || !1 !== n.leading || (s = l);
                    var c = t - (l - s);
                    return r = this, i = arguments, 0 >= c || c > t ? (a && (clearTimeout(a), a = null), s = l, o = e.apply(r, i), a || (r = i = null)) : a || !1 === n.trailing || (a = setTimeout(u, c)), o
                }
            }, y.debounce = function(e, t, n) {
                var r, i, o, a, s, u = function() {
                    var l = y.now() - a;
                    t > l && l >= 0 ? r = setTimeout(u, t - l) : (r = null, n || (s = e.apply(o, i), r || (o = i = null)))
                };
                return function() {
                    o = this, i = arguments, a = y.now();
                    var l = n && !r;
                    return r || (r = setTimeout(u, t)), l && (s = e.apply(o, i), o = i = null), s
                }
            }, y.wrap = function(e, t) {
                return y.partial(t, e)
            }, y.negate = function(e) {
                return function() {
                    return !e.apply(this, arguments)
                }
            }, y.compose = function() {
                var e = arguments,
                    t = e.length - 1;
                return function() {
                    for (var n = t, r = e[t].apply(this, arguments); n--;) r = e[n].call(this, r);
                    return r
                }
            }, y.after = function(e, t) {
                return function() {
                    return --e < 1 ? t.apply(this, arguments) : void 0
                }
            }, y.before = function(e, t) {
                var n;
                return function() {
                    return --e > 0 && (n = t.apply(this, arguments)), 1 >= e && (t = null), n
                }
            }, y.once = y.partial(y.before, 2);
            var M = !{
                    toString: null
                }.propertyIsEnumerable("toString"),
                I = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
            y.keys = function(e) {
                if (!y.isObject(e)) return [];
                if (p) return p(e);
                var t = [];
                for (var n in e) y.has(e, n) && t.push(n);
                return M && r(e, t), t
            }, y.allKeys = function(e) {
                if (!y.isObject(e)) return [];
                var t = [];
                for (var n in e) t.push(n);
                return M && r(e, t), t
            }, y.values = function(e) {
                for (var t = y.keys(e), n = t.length, r = Array(n), i = 0; n > i; i++) r[i] = e[t[i]];
                return r
            }, y.mapObject = function(e, t, n) {
                t = b(t, n);
                for (var r, i = y.keys(e), o = i.length, a = {}, s = 0; o > s; s++) r = i[s], a[r] = t(e[r], r, e);
                return a
            }, y.pairs = function(e) {
                for (var t = y.keys(e), n = t.length, r = Array(n), i = 0; n > i; i++) r[i] = [t[i], e[t[i]]];
                return r
            }, y.invert = function(e) {
                for (var t = {}, n = y.keys(e), r = 0, i = n.length; i > r; r++) t[e[n[r]]] = n[r];
                return t
            }, y.functions = y.methods = function(e) {
                var t = [];
                for (var n in e) y.isFunction(e[n]) && t.push(n);
                return t.sort()
            }, y.extend = x(y.allKeys), y.extendOwn = y.assign = x(y.keys), y.findKey = function(e, t, n) {
                t = b(t, n);
                for (var r, i = y.keys(e), o = 0, a = i.length; a > o; o++)
                    if (r = i[o], t(e[r], r, e)) return r
            }, y.pick = function(e, t, n) {
                var r, i, o = {},
                    a = e;
                if (null == a) return o;
                y.isFunction(t) ? (i = y.allKeys(a), r = v(t, n)) : (i = O(arguments, !1, !1, 1), r = function(e, t, n) {
                    return t in n
                }, a = Object(a));
                for (var s = 0, u = i.length; u > s; s++) {
                    var l = i[s],
                        c = a[l];
                    r(c, l, a) && (o[l] = c)
                }
                return o
            }, y.omit = function(e, t, n) {
                if (y.isFunction(t)) t = y.negate(t);
                else {
                    var r = y.map(O(arguments, !1, !1, 1), String);
                    t = function(e, t) {
                        return !y.contains(r, t)
                    }
                }
                return y.pick(e, t, n)
            }, y.defaults = x(y.allKeys, !0), y.create = function(e, t) {
                var n = T(e);
                return t && y.extendOwn(n, t), n
            }, y.clone = function(e) {
                return y.isObject(e) ? y.isArray(e) ? e.slice() : y.extend({}, e) : e
            }, y.tap = function(e, t) {
                return t(e), e
            }, y.isMatch = function(e, t) {
                var n = y.keys(t),
                    r = n.length;
                if (null == e) return !r;
                for (var i = Object(e), o = 0; r > o; o++) {
                    var a = n[o];
                    if (t[a] !== i[a] || !(a in i)) return !1
                }
                return !0
            };
            var R = function(e, t, n, r) {
                if (e === t) return 0 !== e || 1 / e == 1 / t;
                if (null == e || null == t) return e === t;
                e instanceof y && (e = e._wrapped), t instanceof y && (t = t._wrapped);
                var i = h.call(e);
                if (i !== h.call(t)) return !1;
                switch (i) {
                    case "[object RegExp]":
                    case "[object String]":
                        return "" + e == "" + t;
                    case "[object Number]":
                        return +e != +e ? +t != +t : 0 == +e ? 1 / +e == 1 / t : +e == +t;
                    case "[object Date]":
                    case "[object Boolean]":
                        return +e == +t
                }
                var o = "[object Array]" === i;
                if (!o) {
                    if ("object" != typeof e || "object" != typeof t) return !1;
                    var a = e.constructor,
                        s = t.constructor;
                    if (a !== s && !(y.isFunction(a) && a instanceof a && y.isFunction(s) && s instanceof s) && "constructor" in e && "constructor" in t) return !1
                }
                n = n || [], r = r || [];
                for (var u = n.length; u--;)
                    if (n[u] === e) return r[u] === t;
                if (n.push(e), r.push(t), o) {
                    if ((u = e.length) !== t.length) return !1;
                    for (; u--;)
                        if (!R(e[u], t[u], n, r)) return !1
                } else {
                    var l, c = y.keys(e);
                    if (u = c.length, y.keys(t).length !== u) return !1;
                    for (; u--;)
                        if (l = c[u], !y.has(t, l) || !R(e[l], t[l], n, r)) return !1
                }
                return n.pop(), r.pop(), !0
            };
            y.isEqual = function(e, t) {
                return R(e, t)
            }, y.isEmpty = function(e) {
                return null == e || (C(e) && (y.isArray(e) || y.isString(e) || y.isArguments(e)) ? 0 === e.length : 0 === y.keys(e).length)
            }, y.isElement = function(e) {
                return !(!e || 1 !== e.nodeType)
            }, y.isArray = f || function(e) {
                return "[object Array]" === h.call(e)
            }, y.isObject = function(e) {
                var t = typeof e;
                return "function" === t || "object" === t && !!e
            }, y.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(e) {
                y["is" + e] = function(t) {
                    return h.call(t) === "[object " + e + "]"
                }
            }), y.isArguments(arguments) || (y.isArguments = function(e) {
                return y.has(e, "callee")
            }), "function" != typeof /./ && "object" != typeof Int8Array && (y.isFunction = function(e) {
                return "function" == typeof e || !1
            }), y.isFinite = function(e) {
                return isFinite(e) && !isNaN(parseFloat(e))
            }, y.isNaN = function(e) {
                return y.isNumber(e) && e !== +e
            }, y.isBoolean = function(e) {
                return !0 === e || !1 === e || "[object Boolean]" === h.call(e)
            }, y.isNull = function(e) {
                return null === e
            }, y.isUndefined = function(e) {
                return void 0 === e
            }, y.has = function(e, t) {
                return null != e && d.call(e, t)
            }, y.noConflict = function() {
                return i._ = o, this
            }, y.identity = function(e) {
                return e
            }, y.constant = function(e) {
                return function() {
                    return e
                }
            }, y.noop = function() {}, y.property = w, y.propertyOf = function(e) {
                return null == e ? function() {} : function(t) {
                    return e[t]
                }
            }, y.matcher = y.matches = function(e) {
                return e = y.extendOwn({}, e),
                    function(t) {
                        return y.isMatch(t, e)
                    }
            }, y.times = function(e, t, n) {
                var r = Array(Math.max(0, e));
                t = v(t, n, 1);
                for (var i = 0; e > i; i++) r[i] = t(i);
                return r
            }, y.random = function(e, t) {
                return null == t && (t = e, e = 0), e + Math.floor(Math.random() * (t - e + 1))
            }, y.now = Date.now || function() {
                return (new Date).getTime()
            };
            var D = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#x27;",
                    "`": "&#x60;"
                },
                L = y.invert(D),
                k = function(e) {
                    var t = function(t) {
                            return e[t]
                        },
                        n = "(?:" + y.keys(e).join("|") + ")",
                        r = RegExp(n),
                        i = RegExp(n, "g");
                    return function(e) {
                        return e = null == e ? "" : "" + e, r.test(e) ? e.replace(i, t) : e
                    }
                };
            y.escape = k(D), y.unescape = k(L), y.result = function(e, t, n) {
                var r = null == e ? void 0 : e[t];
                return void 0 === r && (r = n), y.isFunction(r) ? r.call(e) : r
            };
            var B = 0;
            y.uniqueId = function(e) {
                var t = ++B + "";
                return e ? e + t : t
            }, y.templateSettings = {
                evaluate: /<%([\s\S]+?)%>/g,
                interpolate: /<%=([\s\S]+?)%>/g,
                escape: /<%-([\s\S]+?)%>/g
            };
            var N = /(.)^/,
                F = {
                    "'": "'",
                    "\\": "\\",
                    "\r": "r",
                    "\n": "n",
                    "\u2028": "u2028",
                    "\u2029": "u2029"
                },
                j = /\\|'|\r|\n|\u2028|\u2029/g,
                G = function(e) {
                    return "\\" + F[e]
                };
            y.template = function(e, t, n) {
                !t && n && (t = n), t = y.defaults({}, t, y.templateSettings);
                var r = RegExp([(t.escape || N).source, (t.interpolate || N).source, (t.evaluate || N).source].join("|") + "|$", "g"),
                    i = 0,
                    o = "__p+='";
                e.replace(r, function(t, n, r, a, s) {
                    return o += e.slice(i, s).replace(j, G), i = s + t.length, n ? o += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : r ? o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : a && (o += "';\n" + a + "\n__p+='"), t
                }), o += "';\n", t.variable || (o = "with(obj||{}){\n" + o + "}\n"), o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n";
                try {
                    var a = new Function(t.variable || "obj", "_", o)
                } catch (e) {
                    throw e.source = o, e
                }
                var s = function(e) {
                    return a.call(this, e, y)
                };
                return s.source = "function(" + (t.variable || "obj") + "){\n" + o + "}", s
            }, y.chain = function(e) {
                var t = y(e);
                return t._chain = !0, t
            };
            var U = function(e, t) {
                return e._chain ? y(t).chain() : t
            };
            y.mixin = function(e) {
                y.each(y.functions(e), function(t) {
                    var n = y[t] = e[t];
                    y.prototype[t] = function() {
                        var e = [this._wrapped];
                        return l.apply(e, arguments), U(this, n.apply(y, e))
                    }
                })
            }, y.mixin(y), y.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(e) {
                var t = a[e];
                y.prototype[e] = function() {
                    var n = this._wrapped;
                    return t.apply(n, arguments), "shift" !== e && "splice" !== e || 0 !== n.length || delete n[0], U(this, n)
                }
            }), y.each(["concat", "join", "slice"], function(e) {
                var t = a[e];
                y.prototype[e] = function() {
                    return U(this, t.apply(this._wrapped, arguments))
                }
            }), y.prototype.value = function() {
                return this._wrapped
            }, y.prototype.valueOf = y.prototype.toJSON = y.prototype.value, y.prototype.toString = function() {
                return "" + this._wrapped
            }, "function" == typeof define && define.amd && define("underscore", [], function() {
                return y
            })
        }.call(this),
        function(e, t) {
            "object" == typeof module && module.exports ? module.exports = t(require("underscore")) : "function" == typeof define && define.amd ? define("riveter", ["underscore"], function(n) {
                return t(n, e)
            }) : e.riveter = t(e._, e)
        }(this, function(e, t, n) {
            var r = Array.prototype.slice,
                i = function() {
                    for (var e = r.call(arguments, 0); e.length;) i.rivet(e.shift())
                };
            return i.rivet = function(e) {
                e.hasOwnProperty("extend") || (e.extend = function(t, n) {
                    return i.extend(e, t, n)
                }), e.hasOwnProperty("compose") || (e.compose = function() {
                    return i.compose.apply(this, [e].concat(r.call(arguments, 0)))
                }), e.hasOwnProperty("inherits") || (e.inherits = function(t, n) {
                    i.inherits(e, t, n)
                }), e.hasOwnProperty("mixin") || (e.mixin = function() {
                    i.mixin.apply(this, [e].concat(r.call(arguments, 0)))
                })
            }, i.inherits = function(t, n, r) {
                var o, a = function() {},
                    s = function() {
                        n.apply(this, arguments)
                    };
                return "object" == typeof t ? (t.hasOwnProperty("constructor") && (s = t.constructor), o = t) : (s = t, o = t.prototype), i.rivet(s), e.defaults(s, n, r), a.prototype = n.prototype, s.prototype = new a, e.extend(s.prototype, o, {
                    constructor: s
                }), s.__super = n, s.__super__ = n.prototype, s
            }, i.extend = function(e, t, n) {
                return i.inherits(t, e, n)
            }, i.compose = function() {
                var t = r.call(arguments, 0),
                    n = t.shift();
                i.rivet(n);
                var o = e.reduce(t, function(e, t) {
                        return t.hasOwnProperty("_preInit") && e.preInit.push(t._preInit), t.hasOwnProperty("_postInit") && e.postInit.push(t._postInit), t = t.mixin || t, e.items.push(t), e
                    }, {
                        items: [],
                        preInit: [],
                        postInit: []
                    }),
                    a = n.extend({
                        constructor: function() {
                            var t = r.call(arguments, 0);
                            e.each(o.preInit, function(e) {
                                e.apply(this, t)
                            }, this), n.prototype.constructor.apply(this, t), e.each(o.postInit, function(e) {
                                e.apply(this, t)
                            }, this)
                        }
                    });
                return i.rivet(a), e.defaults(a.prototype, e.extend.apply(null, [{}].concat(o.items))), a
            }, i.mixin = function() {
                var t = r.call(arguments, 0),
                    n = t.shift();
                i.rivet(n), e.defaults(n.prototype, e.extend.apply(null, [{}].concat(t)))
            }, i
        }),
        function(e, t) {
            "object" == typeof module && module.exports ? module.exports = function(e) {
                return t(require("lodash"), e, require("riveter"))
            } : "function" == typeof define && define.amd ? define("postal.federation", ["lodash", "postal", "riveter"], function(n, r, i) {
                return t(n, r, i, e)
            }) : e.postal = t(e._, e.postal, e.riveter, e)
        }(this, function(e, t, n, r, i) {
            function o(e) {
                t.fedx.signalReady.apply(this, e)
            }

            function a(e) {
                t.fedx.send.apply(this, e)
            }

            function s(e) {
                t.fedx.onFederatedMsg.call(this, e)
            }
            t.createUUID || (t.createUUID = function() {
                for (var e = [], t = "0123456789abcdef", n = 0; n < 36; n++) e[n] = t.substr(Math.floor(16 * Math.random()), 1);
                return e[14] = "4", e[19] = t.substr(3 & e[19] | 8, 1), e[8] = e[13] = e[18] = e[23] = "-", e.join("")
            }), t.instanceId || (t.instanceId = function() {
                var e, n;
                return function(r) {
                    return r && (n = e, e = r, t.publish({
                        channel: t.configuration.SYSTEM_CHANNEL,
                        topic: "instanceId.changed",
                        data: {
                            oldId: n,
                            newId: e
                        }
                    })), e
                }
            }());
            var u = function() {},
                l = !1,
                c = [],
                h = [],
                d = [],
                f = {
                    enabled: !0,
                    filterMode: "whitelist",
                    filterDirection: "both"
                },
                p = f,
                m = function(n, r, i) {
                    var o = Object.prototype.hasOwnProperty.call(t.fedx.filters[i], n),
                        a = o && e.any(t.fedx.filters[i][n], function(e) {
                            return t.configuration.resolver.compare(e, r)
                        }),
                        s = "blacklist" === p.filterMode;
                    return p.enabled && (s && (!o || o && !a) || !s && o && a)
                },
                g = {
                    ping: function() {
                        return {
                            type: "federation.ping",
                            instanceId: t.instanceId(),
                            timeStamp: new Date,
                            ticket: t.createUUID()
                        }
                    },
                    pong: function(e) {
                        return {
                            type: "federation.pong",
                            instanceId: t.instanceId(),
                            timeStamp: new Date,
                            pingData: {
                                instanceId: e.instanceId,
                                timeStamp: e.timeStamp,
                                ticket: e.ticket
                            }
                        }
                    },
                    message: function(e) {
                        return {
                            type: "federation.message",
                            instanceId: t.instanceId(),
                            timeStamp: new Date,
                            envelope: e
                        }
                    },
                    disconnect: function() {
                        return {
                            type: "federation.disconnect",
                            instanceId: t.instanceId(),
                            timeStamp: new Date
                        }
                    },
                    bundle: function(e) {
                        return {
                            type: "federation.bundle",
                            instanceId: t.instanceId(),
                            timeStamp: new Date,
                            packingSlips: e
                        }
                    }
                },
                _ = {
                    "federation.ping": function(e) {
                        e.source.setInstanceId(e.packingSlip.instanceId), e.source.handshakeComplete ? e.source.sendPong(e.packingSlip) : e.source.sendBundle([t.fedx.getPackingSlip("pong", e.packingSlip), t.fedx.getPackingSlip("ping")])
                    },
                    "federation.pong": function(n) {
                        n.source.handshakeComplete = !0, n.source.setInstanceId(n.packingSlip.instanceId), n.source.pings[n.packingSlip.pingData.ticket] && (n.source.pings[n.packingSlip.pingData.ticket].callback({
                            ticket: n.packingSlip.pingData.ticket,
                            instanceId: n.packingSlip.instanceId,
                            source: n.source
                        }), n.source.pings[n.packingSlip.pingData.ticket] = i), e.contains(t.fedx.clients, n.packingSlip.instanceId) || t.fedx.clients.push(n.packingSlip.instanceId), t.publish({
                            channel: "postal.federation",
                            topic: "client.federated",
                            data: {
                                remoteId: n.source.instanceId,
                                localId: t.instanceId(),
                                transport: n.transport
                            }
                        })
                    },
                    "federation.disconnect": function(n) {
                        t.fedx.clients = e.without(t.fedx.clients, n.source.instanceId), t.fedx.disconnect({
                            transport: n.source.transportName,
                            instanceId: n.source.instanceId,
                            doNotNotify: !0
                        })
                    },
                    "federation.message": function(e) {
                        var n = e.packingSlip.envelope;
                        m(n.channel, n.topic, "in") && (n.lastSender = e.packingSlip.instanceId, t.publish(n))
                    },
                    "federation.bundle": function(n) {
                        e.each(n.packingSlip.packingSlips, function(r) {
                            t.fedx.onFederatedMsg(e.extend({}, n, {
                                packingSlip: r
                            }))
                        })
                    }
                },
                y = function(e, t, n) {
                    this.target = e, this.options = t || {}, this.pings = {}, this.instanceId = n, this.handshakeComplete = !1
                };
            return y.prototype.sendPing = function(e) {
                var n = t.fedx.getPackingSlip("ping");
                this.pings[n.ticket] = {
                    ticket: n.ticket,
                    callback: e || u
                }, this.send(n)
            }, y.prototype.sendPong = function(e) {
                this.send(t.fedx.getPackingSlip("pong", e))
            }, y.prototype.sendBundle = function(e) {
                this.send(t.fedx.getPackingSlip("bundle", e))
            }, y.prototype.sendMessage = function(n) {
                if (this.handshakeComplete) {
                    n.originId = n.originId || t.instanceId();
                    var r = e.clone(n);
                    !this.instanceId || this.instanceId === r.lastSender || r.knownIds && r.knownIds.length && (!r.knownIds || e.include(r.knownIds, this.instanceId)) || (r.knownIds = (r.knownIds || []).concat(e.without(t.fedx.clients, this.instanceId)), this.send(t.fedx.getPackingSlip("message", r)))
                }
            }, y.prototype.disconnect = function() {
                this.send(t.fedx.getPackingSlip("disconnect"))
            }, y.prototype.onMessage = function(e) {
                this.shouldProcess() && t.fedx.onFederatedMsg({
                    transport: this.transportName,
                    packingSlip: e,
                    source: this
                })
            }, y.prototype.shouldProcess = function() {
                return !0
            }, y.prototype.send = function() {
                throw new Error("An object deriving from FederationClient must provide an implementation for 'send'.")
            }, y.prototype.setInstanceId = function(e) {
                this.instanceId = e
            }, n(y), t.fedx = e.extend({
                FederationClient: y,
                packingSlips: g,
                handlers: _,
                clients: [],
                transports: {},
                filters: { in: {},
                    out: {}
                },
                addFilter: function(t) {
                    t = e.isArray(t) ? t : [t], e.each(t, function(t) {
                        t.direction = t.direction || p.filterDirection, e.each("both" === t.direction ? ["in", "out"] : [t.direction], function(n) {
                            this.filters[n][t.channel] ? e.include(this.filters[n][t.channel], t.topic) || this.filters[n][t.channel].push(t.topic) : this.filters[n][t.channel] = [t.topic]
                        }, this)
                    }, this)
                },
                removeFilter: function(t) {
                    t = e.isArray(t) ? t : [t], e.each(t, function(t) {
                        t.direction = t.direction || p.filterDirection, e.each("both" === t.direction ? ["in", "out"] : [t.direction], function(n) {
                            this.filters[n][t.channel] && e.include(this.filters[n][t.channel], t.topic) && (this.filters[n][t.channel] = e.without(this.filters[n][t.channel], t.topic))
                        }, this)
                    }, this)
                },
                canSendRemote: function(e, t) {
                    return m(e, t, "out")
                },
                configure: function(t) {
                    if (t && t.filterMode && "blacklist" !== t.filterMode && "whitelist" !== t.filterMode) throw new Error("postal.fedx filterMode must be 'blacklist' or 'whitelist'.");
                    return t && (p = e.defaults(t, f)), p
                },
                getPackingSlip: function(e) {
                    if (Object.prototype.hasOwnProperty.call(g, e)) return g[e].apply(this, Array.prototype.slice.call(arguments, 1))
                },
                onFederatedMsg: function(e) {
                    if (!l) return void c.push(e);
                    if (!Object.prototype.hasOwnProperty.call(_, e.packingSlip.type)) throw new Error("postal.federation does not have a message handler for '" + e.packingSlip.type + "'.");
                    _[e.packingSlip.type](e)
                },
                sendMessage: function(t) {
                    if (!l) return void h.push(arguments);
                    e.each(this.transports, function(e) {
                        e.sendMessage(t)
                    })
                },
                disconnect: function(t) {
                    t = t || {};
                    var n = this.transports;
                    t.transport && (n = {}, n[t.transport] = this.transports[t.transport]), e.each(n, function(e) {
                        e.disconnect({
                            target: t.target,
                            instanceId: t.instanceId,
                            doNotNotify: !!t.doNotNotify
                        })
                    }, this)
                },
                _getTransports: function() {
                    return e.reduce(this.transports, function(e, t, n) {
                        return e[n] = !0, e
                    }, {})
                },
                signalReady: function(t, n, r) {
                    if (!l) return void d.push(arguments);
                    var i = this._getTransports();
                    switch (arguments.length) {
                        case 1:
                            "function" == typeof t ? r = t : "string" == typeof t && (i = {}, i[t] = this.transports[t], r = u);
                            break;
                        case 2:
                            "string" == typeof t ? (i = {}, i[t] = this.transports[t]) : i = t, r = n || u;
                            break;
                        case 3:
                            i = {}, i[t] = [n]
                    }
                    e.each(i, function(e, t) {
                        e = "boolean" == typeof e ? [] : e, this.transports[t].signalReady(e, r)
                    }, this)
                }
            }, t.fedx), t.addWireTap(function(e, n) {
                t.fedx.canSendRemote(n.channel, n.topic) && t.fedx.sendMessage(n)
            }), t.subscribe({
                channel: t.configuration.SYSTEM_CHANNEL,
                topic: "instanceId.changed",
                callback: function() {
                    for (l = !0; d.length;) o(d.shift());
                    for (; h.length;) a(h.shift());
                    for (; c.length;) s(c.shift())
                }
            }), t.instanceId() !== i && (l = !0), t
        }),
        function(e, t) {
            "function" == typeof define && define.amd ? define("xframe", ["lodash", "postal.federation"], function(n, r) {
                return t(n, r, e)
            }) : "object" == typeof module && module.exports ? module.exports = function(e) {
                return t(require("lodash"), e)
            } : e.postal = t(e._, e.postal, e)
        }(this, function(e, t, n, r) {
            function i() {
                _.routeMessage.apply(_, arguments)
            }

            function o(t) {
                for (var n in t) t.hasOwnProperty(n) && ("function" == typeof t[n] && delete t[n], e.isPlainObject(t[n]) && o(t[n]), e.isArray(t[n]) && e.each(t[n], o));
                return t
            }
            var a = location.origin || location.protocol + "//" + location.host,
                s = /MSIE [8,9]/.test(navigator.userAgent),
                u = function(t, n) {
                    var r = e.find(this.remotes, function(e) {
                        return e.instanceId === n
                    });
                    return r && t.push(r), t
                },
                l = function(t, n) {
                    var r = e.find(this.remotes, function(e) {
                        return e.target === n
                    });
                    return r && t.push(r), t
                },
                c = function(e) {
                    e.disconnect()
                },
                h = "undefined" == typeof window && postMessage && location,
                d = [],
                f = function() {},
                p = {
                    allowedOrigins: [a],
                    enabled: !0,
                    defaultOriginUrl: "*",
                    safeSerialize: !1
                },
                m = e.extend({}, p),
                g = t.fedx.FederationClient.extend({
                    transportName: "xframe",
                    shouldProcess: function() {
                        var t = !!m.allowedOrigins.length;
                        return m.enabled && ("*" === this.options.origin || t && e.contains(m.allowedOrigins, this.options.origin) || !t || this.options.isWorker && e.contains(d, this.target) || h)
                    },
                    send: function(e) {
                        var n, r;
                        this.shouldProcess() && (r = h ? null : this.target, n = [t.fedx.transports.xframe.wrapForTransport(e)], this.options.isWorker || h || n.push(this.options.origin), h ? this.target.postMessage.apply(r, n) : 1 === n.length ? this.target.postMessage(n[0]) : this.target.postMessage(n[0], n[1]))
                    }
                }, {
                    getInstance: function(e, t, n) {
                        var r = new g(e, {
                            origin: t,
                            isWorker: "undefined" != typeof Worker && e instanceof Worker
                        }, n);
                        return r.options.isWorker && _.listenToWorker(r.target), r
                    }
                }),
                _ = t.fedx.transports.xframe = {
                    eagerSerialize: s,
                    XFrameClient: g,
                    configure: function(t) {
                        return t && (m = e.defaults(e.extend(m, t), p)), m
                    },
                    clearConfiguration: function() {
                        m = e.extend({}, p)
                    },
                    getTargets: h ? function() {
                        return [{
                            target: {
                                postMessage: postMessage
                            }
                        }]
                    } : function() {
                        var t = e.map(document.getElementsByTagName("iframe"), function(e) {
                            var t = document.createElement("a");
                            t.href = e.src;
                            var n = t.protocol + "//" + t.host;
                            return "//" === n && (n = null), {
                                target: e.contentWindow,
                                origin: n || m.defaultOriginUrl
                            }
                        });
                        return window.parent && window.parent !== window && t.push({
                            target: window.parent,
                            origin: "*"
                        }), t.concat(d)
                    },
                    remotes: [],
                    wrapForTransport: s ? function(e) {
                        return JSON.stringify({
                            postal: !0,
                            packingSlip: e
                        })
                    } : function(e) {
                        return {
                            postal: !0,
                            packingSlip: e
                        }
                    },
                    unwrapFromTransport: function(e) {
                        if ("string" != typeof e || !s && -1 === e.indexOf('"postal":true')) return e;
                        try {
                            return JSON.parse(e)
                        } catch (e) {
                            return {}
                        }
                    },
                    routeMessage: function(n) {
                        var r = n.source || n.currentTarget,
                            i = this.unwrapFromTransport(n.data);
                        if (i.postal) {
                            t.instanceId();
                            var o = e.find(this.remotes, function(e) {
                                return e.target === r
                            });
                            o || (o = g.getInstance(r, n.origin, i.packingSlip.instanceId), this.remotes.push(o)), o.onMessage(i.packingSlip)
                        }
                    },
                    sendMessage: function(t) {
                        var n = t;
                        m.safeSerialize && (n = o(e.cloneDeep(t))), e.each(this.remotes, function(e) {
                            e.sendMessage(n)
                        })
                    },
                    disconnect: function(t) {
                        t = t || {};
                        var n = t.instanceId ? e.reduce(e.isArray(t.instanceId) ? t.instanceId : [t.instanceId], u, [], this) : t.target ? e.reduce(e.isArray(t.target) ? t.target : [t.target], l, [], this) : this.remotes;
                        t.doNotNotify || e.each(n, c, this), this.remotes = e.without.apply(null, [this.remotes].concat(n))
                    },
                    signalReady: function(t, n) {
                        t = e.isArray(t) ? t : [t], t = t.length ? t : this.getTargets(), n = n || f, e.each(t, function(t) {
                            if (t.target) {
                                t.origin = t.origin || m.defaultOriginUrl;
                                var r = e.find(this.remotes, function(e) {
                                    return e.target === t.target
                                });
                                r || (r = g.getInstance(t.target, t.origin), this.remotes.push(r)), r.sendPing(n)
                            }
                        }, this)
                    },
                    addEventListener: h ? function() {
                        addEventListener("message", i)
                    } : function(e, t, n, r) {
                        "undefined" != typeof window && ("addEventListener" in e ? e.addEventListener(t, n, r) : e.attachEvent("on" + t, n))
                    },
                    listenToWorker: function(t) {
                        e.include(d, t) || (t.addEventListener("message", i), d.push(t))
                    },
                    stopListeningToWorker: function(t) {
                        if (t) t.removeEventListener("message", i), d = e.without(d, t);
                        else
                            for (; d.length;) d.pop().removeEventListener("message", i)
                    }
                };
            return _.addEventListener(this, "message", i, !1), t
        }),
        function(e, t) {
            "function" == typeof define && define.amd ? define("request-response", ["lodash", "postal"], function(n, r) {
                return t(n, r, e)
            }) : "object" == typeof module && module.exports ? module.exports = function(e) {
                return t(require("lodash"), e, this)
            } : e.postal = t(e._, e.postal, e)
        }(this, function(e, t, n, r) {
            t.configuration.promise = {
                createDeferred: function() {
                    throw new Error("You need to provide an implementation for postal.configuration.promise.createDeferred that returns a deferred/promise instance.")
                },
                getPromise: function() {
                    throw new Error("You need to provide an implementation for postal.configuration.promise.getPromise that returns a promise safe for consuming APIs to use.")
                },
                fulfill: "resolve",
                fail: "reject"
            };
            var i = function() {
                for (var e = {}, t = [], n = 0; n < 256; n++) t[n] = (n < 16 ? "0" : "") + n.toString(16);
                return e.create = function() {
                    var e = 4294967295 * Math.random() | 0,
                        n = 4294967295 * Math.random() | 0,
                        r = 4294967295 * Math.random() | 0,
                        i = 4294967295 * Math.random() | 0;
                    return t[255 & e] + t[e >> 8 & 255] + t[e >> 16 & 255] + t[e >> 24 & 255] + "-" + t[255 & n] + t[n >> 8 & 255] + "-" + t[n >> 16 & 15 | 64] + t[n >> 24 & 255] + "-" + t[63 & r | 128] + t[r >> 8 & 255] + "-" + t[r >> 16 & 255] + t[r >> 24 & 255] + t[255 & i] + t[i >> 8 & 255] + t[i >> 16 & 255] + t[i >> 24 & 255]
                }, e
            }();
            t.ChannelDefinition.prototype.request = function(e) {
                var n = e.envelope ? e.envelope : {
                        topic: e.topic,
                        data: e.data,
                        headers: e.headers
                    },
                    r = i.create(),
                    o = e.replyTopic || r,
                    a = e.replyChannel || "postal.request-response",
                    s = t.configuration.promise.createDeferred();
                n.headers = n.headers || {}, n.headers.replyable = !0, n.headers.requestId = r, n.headers.replyTopic = o, n.headers.replyChannel = a;
                t.subscribe({
                    channel: a,
                    topic: o,
                    callback: function(e, n) {
                        n.headers && n.headers.isError ? s[t.configuration.promise.fail](e) : s[t.configuration.promise.fulfill](e)
                    }
                }).once();
                return e.timeout && setTimeout(function() {
                    s[t.configuration.promise.fail](new Error("Timeout limit exceeded for request."))
                }, e.timeout), this.publish(n), t.configuration.promise.getPromise(s)
            };
            var o = t.publish;
            return t.publish = function(e) {
                e.headers && e.headers.replyable && (e.reply = function(n, r) {
                    t.publish({
                        channel: e.headers.replyChannel,
                        topic: e.headers.replyTopic,
                        headers: {
                            isReply: !0,
                            isError: !!n,
                            requestId: e.headers.requestId,
                            resolverNoCache: !0
                        },
                        data: n || r
                    })
                }), o.call(this, e)
            }, t
        }), define("skbJet/component/gameMsgBus/PlatformMessageBus", ["postal", "promise", "postal.federation", "xframe", "request-response"], function(e, t) {
            "use strict";

            function n(n) {
                if (0 === arguments.length) throw new Error("Message Bus Configuration Payload cannot be empty, malformed or undefined");
                return s = n, e.instanceId("Game"), e.fedx.configure({
                    filterMode: "blacklist"
                }), e.fedx.transports.xframe.configure({
                    filterMode: "blacklist",
                    safeSerialize: !0
                }), e.configuration.promise.createDeferred = function() {
                    return t.defer()
                }, e.configuration.promise.getPromise = function(e) {
                    return e.promise
                }, e.addWireTap(function() {}), e.fedx.signalReady(function() {}), !0
            }

            function r(t) {
                e.publish(t)
            }

            function i(t, n, r) {
                e.channel(t.channel).request(t).then(n, r)
            }

            function o(t) {
                e.subscribe(t)
            }

            function a(t) {
                e.unsubscribe(t)
            }
            var s;
            return function() {
                return Object.freeze({
                    init: n,
                    publish: r,
                    subscribe: o,
                    unsubscribe: a,
                    getPostal: e,
                    request: i
                })
            }
        }), define("skbJet/component/gameMsgBus/PlatformMsgBusAdapter", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gameMsgBus/PlatformMessageBus"], function(e, t) {
            var n = t();
            n.init({
                allowedDomains: ["*"],
                defaultOrigin: "http://localhost:3000:8080",
                channels: [{
                    channel: "Kernel",
                    topic: "#",
                    direction: "both"
                }, {
                    channel: "ClientService",
                    topic: "#",
                    direction: "both"
                }, {
                    channel: "ConsoleService",
                    topic: "#",
                    direction: "both"
                }, {
                    channel: "Game",
                    topic: "#",
                    direction: "both"
                }, {
                    channel: "postal.request-response",
                    topic: "#",
                    direction: "both"
                }]
            }), n.getPostal.addWireTap(function(t, n) {
                "postal" !== n.channel && "postal.federation" !== n.channel && e.publish("platformMsg/" + n.channel + "/" + n.topic, n.data)
            }), e.subscribe("toPlatform", function(e) {
                n.publish(e)
            }), e.subscribe("toPlatformRequest", function(e) {
                n.request({
                    channel: e.channel,
                    topic: e.topic,
                    data: e.data
                }, e.successCallback, e.failCallback)
            }), e.subscribe("error", function(e) {
                var t = e;
                e.errorCode || (t = {
                    errorCode: "GM-001",
                    message: "" + e
                }), n.publish({
                    channel: "Game",
                    topic: "ErrorHandler.Throw",
                    data: t
                })
            });
            var r = null;
            return n.getPostal.channel("ClientService").subscribe("StateChange", function(t, n) {
                r = function() {
                    n.reply(null, {
                        state: t.state
                    })
                }, e.publish(t.state, t)
            }), e.subscribe("nextState", function() {
                r && r()
            }), {}
        }), define("skbJet/component/resourceLoader/Util", [], function() {
            var e = {};
            return e.httpGetJson = function(t, n, r) {
                e.httpGetText(t, function(e) {
                    n(JSON.parse(e))
                }, r)
            }, e.httpGetText = function(e, t, n) {
                var r = new XMLHttpRequest;
                r.withCredentials = !0, r.addEventListener("load", function(e) {
                    e.target.status >= 200 && e.target.status < 300 ? t(e.target.responseText) : n()
                }), r.addEventListener("error", n), r.addEventListener("timeout", n), r.open("GET", e), r.send()
            }, e.removeQueryStr = function(e) {
                var t = e.match(/(.*)\?/);
                return t ? t[1] : e
            }, e.getFileNameFromPath = function(e) {
                var t = e.match(/\/?([^\/]+)$/);
                return t ? t[1] : e
            }, e.getFileExt = function(t, n) {
                t = e.removeQueryStr(t), t = e.getFileNameFromPath(t);
                var r = t.match(/\.(\w+)$/);
                return r && r[1] ? n ? r[1].toLowerCase() : r[1] : null
            }, e.getFileNameWithoutExt = function(t) {
                t = e.removeQueryStr(t), t = e.getFileNameFromPath(t);
                var n = t.match(/(.*)(\.\w+)+$/);
                return n ? n[1] : t
            }, e.getParentFolder = function(t) {
                t = e.removeQueryStr(t);
                var n = e.getFileNameFromPath(t);
                return t.substring(0, t.length - n.length)
            }, e
        }), define("skbJet/component/resourceLoader/LoaderContext", [], function() {
            function e(e, t, n) {
                this.assetPackUrl = e, this.languageCode = t, this.skinCode = n, this.totalResAmount = 0, this.currentLoaded = 0, this.gameFolder = null, this.i18nParent = null, this.queryStr = "", window._cacheFlag && window._cacheFlag.queryStr && (this.queryStr = window._cacheFlag.queryStr), this.fileListMap = {
                    i18n: null
                }, this.subLoaderMap = {}, this.onFileLoaded = function() {}, this.onLoadFailed = function() {}
            }
            return e
        }), define("skbJet/component/resourceLoader/LoaderChainHandler", [], function() {
            function e() {}
            return e.prototype.next = null, e.prototype.handle = null, e
        }), define("skbJet/component/resourceLoader/handlers/languageListHandler", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/LoaderChainHandler"], function(e, t) {
            function n(e, t) {
                for (var n = {}, r = 0; r < e.length; r++) n[e[r]] = [e[r].toLowerCase()], e[r].indexOf("_") > -1 ? n[e[r]].push(e[r].replace("_", "-").toLowerCase()) : e[r].indexOf("-") > -1 && n[e[r]].push(e[r].replace("-", "_").toLowerCase());
                var i;
                for (var o in n)
                    if (n[o].indexOf("i18n/" + t.languageCode.toLowerCase() + ".json") >= 0) {
                        i = o.substring(o.lastIndexOf("/") + 1, o.lastIndexOf("."));
                        break
                    }
                if (!i)
                    for (var o in n)
                        if (n[o].indexOf("i18n/default.json") >= 0) {
                            i = o.substring(o.lastIndexOf("/") + 1, o.lastIndexOf("."));
                            break
                        }
                if (!i)
                    for (var o in n)
                        if (n[o].indexOf("i18n/en.json") >= 0) {
                            i = o.substring(o.lastIndexOf("/") + 1, o.lastIndexOf("."));
                            break
                        }
                return !!i && (t.languageCode = i, !0)
            }

            function r(e) {
                var t = e.gameFolder,
                    n = !1;
                if (window.location.search.match(/&?custom=true&?/) && (n = !0), window.gtk && window.gtk.jLottery && window.gtk.jLottery.embeddedParams && window.gtk.jLottery.embeddedParams.custom && (n = !0), n) {
                    var r = e.gameFolder.match(/\/([^\/]+\/)$/)[1];
                    t = "/custom_lang/" + e.skinCode + "/" + r
                }
                return t
            }
            var i = new t;
            return i.handle = function(t) {
                t.languageCode = t.languageCode || "default", t.languageCode = t.languageCode.toLowerCase();
                var o = t.assetPackUrl.substring(0, t.assetPackUrl.lastIndexOf("/"));
                t.gameFolder = o.substring(0, o.lastIndexOf("/") + 1), t.i18nParent = r(t), e.httpGetJson(t.i18nParent + "i18n.json" + t.queryStr, function(e) {
                    n(e.i18n, t) ? i.next.handle(t) : t.onLoadFailed()
                }, t.onLoadFailed)
            }, i
        }), define("skbJet/component/resourceLoader/handlers/skinListHandler", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/LoaderChainHandler"], function(e, t) {
            function n(e, t) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    if (r = r.substring(r.lastIndexOf("/") + 1, r.lastIndexOf(".")), t.skinCode.toLowerCase() === r.toLowerCase()) return
                }
                t.skinCode = "default"
            }
            var r = new t;
            return r.handle = function(t) {
                t.skinCode = t.skinCode || "default";
                var i = t.i18nParent + "i18n/" + t.languageCode + ".json" + t.queryStr;
                e.httpGetJson(i, function(e) {
                    n(e[t.languageCode], t), r.next.handle(t)
                }, t.onLoadFailed)
            }, r
        }), define("skbJet/component/resourceLoader/handlers/fileListHandler", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/LoaderChainHandler"], function(e, t) {
            function n(e, t, n, r) {
                r.fileListMap[e] || (r.fileListMap[e] = {});
                for (var i = 0; i < t.length; i++) r.fileListMap[e][t[i]] = n
            }

            function r(t, r) {
                var o = t.assetPackUrl + ".json" + t.queryStr;
                e.httpGetJson(o, function(e) {
                    for (var o in e) n(o, e[o], t.gameFolder + "assetPacks/", t);
                    var s = t.assetPackUrl.substring(t.assetPackUrl.lastIndexOf("assetPacks"));
                    r && r.indexOf(t.skinCode + "/" + s + ".json") > -1 ? i(t, s) : a.next.handle(t)
                }, t.onLoadFailed)
            }

            function i(t, r) {
                var i = t.i18nParent + "i18n/" + t.languageCode + "/" + t.skinCode + "/",
                    o = i + r + ".json" + t.queryStr;
                e.httpGetJson(o, function(e) {
                    for (var r in e) n(r, e[r], i + "assetPacks/", t);
                    a.next.handle(t)
                }, t.onLoadFailed)
            }

            function o(t) {
                var i = t.i18nParent + "i18n/",
                    o = i + t.languageCode + "/",
                    a = o + t.skinCode + ".json" + t.queryStr;
                e.httpGetJson(a, function(e) {
                    n("i18n", e[t.skinCode], o, t), r(t, e.assetPacks)
                }, t.onLoadFailed)
            }
            var a = new t;
            return a.handle = o, a
        }), define("skbJet/component/resourceLoader/handlers/fileLoadHandler", ["skbJet/component/resourceLoader/LoaderChainHandler"], function(e) {
            function t(e, t, n) {
                setTimeout(function() {
                    e.load(t, n)
                }, 1)
            }
            var n = new e;
            return n.handle = function(e) {
                for (var n in e.fileListMap) e.subLoaderMap[n] && t(e.subLoaderMap[n], e.fileListMap[n], {
                    onFileLoaded: e.onFileLoaded,
                    onLoadFailed: e.onLoadFailed,
                    queryStr: e.queryStr
                })
            }, n.addSubLoader = function(e, t, n) {
                e.subLoaderMap[t] = n
            }, n.summary = function(e) {
                var t = 0,
                    n = 0,
                    r = !0;
                for (var i in e.fileListMap) e.subLoaderMap[i] && (t += e.subLoaderMap[i].getTotal(), n += e.subLoaderMap[i].getCurrent(), r = r && e.subLoaderMap[i].isComplete());
                return {
                    total: t,
                    current: n,
                    complete: r
                }
            }, n
        }), define("skbJet/component/resourceLoader/ResourceLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/LoaderContext", "skbJet/component/resourceLoader/handlers/languageListHandler", "skbJet/component/resourceLoader/handlers/skinListHandler", "skbJet/component/resourceLoader/handlers/fileListHandler", "skbJet/component/resourceLoader/handlers/fileLoadHandler"], function(e, t, n, r, i, o) {
            function a(e, a, s) {
                this.context = new t(e, a, s), this.loadChain = [n, r, i, o]
            }
            var s;
            return a.prototype.load = function(e, t) {
                for (var n = 0; n < this.loadChain.length - 1; n++) this.loadChain[n].next = this.loadChain[n + 1];
                this.context.onFileLoaded = e, this.context.onLoadFailed = t, this.loadChain[0].handle(this.context)
            }, a.prototype.addSubLoader = function(e, t) {
                o.addSubLoader(this.context, e, t)
            }, a.prototype.currentProgress = function() {
                return o.summary(this.context)
            }, a.initDefault = function(e, t, n) {
                if (s) throw "Default loader already inited.";
                s = new a(e, t, n)
            }, a.getDefault = function() {
                return s
            }, a
        }), define("skbJet/component/resourceLoader/AbstractSubLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/resourceLib"], function(e, t) {
            function n() {}

            function r() {}
            return r.prototype._initOptions = function(e, n) {
                this._count = {
                    total: 0,
                    current: 0,
                    complete: !1
                }, this.options = n || {}, this.options.type = this.options.type || e, t[this.options.type] || (t[this.options.type] = {})
            }, r.prototype.getTotal = function() {
                return this._count.total
            }, r.prototype.getCurrent = function() {
                return this._count.current
            }, r.prototype.isComplete = function() {
                return this._count.complete
            }, r.prototype._prepareLoad = function(e) {
                e = e || {}, this._count.total = 0, this._count.current = 0, e.queryStr = e.queryStr ? e.queryStr : "", e.onFileLoaded = e.onFileLoaded ? e.onFileLoaded : n, e.onLoadFailed = e.onLoadFailed ? e.onLoadFailed : n;
                for (var t in e) this.options[t] = e[t]
            }, r.prototype.load = function(n, r) {
                this._prepareLoad(r);
                var i = [];
                for (var o in n)
                    if (n[o]) {
                        if (this.options.fileExtFilterList) {
                            var a = e.getFileExt(o, !0);
                            if (this.options.fileExtFilterList.indexOf(a) < 0) continue
                        }
                        this._count.total++, i.push(o)
                    }
                if (0 === this._count.total) return this._count.complete = !0, void this.options.onFileLoaded();
                for (var s = this, u = 0; u < i.length; u++) {
                    var o = i[u];
                    this._doLoadFile(n[o] + o + this.options.queryStr, function(e) {
                        return function(n) {
                            s._count.current++, s._count.current === s._count.total && (s._count.complete = !0), t[s.options.type] = t[s.options.type] || {}, t[s.options.type][e] = n, s.options.onFileLoaded()
                        }
                    }(e.getFileNameWithoutExt(o)), this.options.onLoadFailed)
                }
            }, r.prototype._doLoadFile = function(e, t, n) {
                throw "Not implemented yet. Params: url:" + e + "   success:" + t + "   fail:" + n
            }, r
        }), define("skbJet/component/resourceLoader/subLoaders/TextFilesSubLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/AbstractSubLoader"], function(e, t) {
            function n(e) {
                this._initOptions("_text_files", e)
            }
            return n.prototype = new t, n.prototype._doLoadFile = function(t, n, r) {
                "json" === e.getFileExt(t, !0) && this.options.parseJson ? e.httpGetJson(t, n, r) : e.httpGetText(t, n, r)
            }, n
        }), define("skbJet/component/resourceLoader/subLoaders/HtmlTagSubLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/AbstractSubLoader"], function(e, t) {
            function n(e) {
                this._initOptions("_html_tags", e)
            }
            return n.prototype = new t, n.prototype._doLoadFile = function(e, t, n) {
                var r = document.createElement(this.options.tagName);
                if (r.onload = function() {
                        t(r)
                    }, r.onerror = n, this.options.parentTag && this.options.parentTag.appendChild(r), this.options.tagAttributes)
                    for (var i in this.options.tagAttributes) r.setAttribute(i, this.options.tagAttributes[i]);
                r.src = e
            }, n
        }), define("skbJet/component/pixiResourceLoader/PixiSpriteSubLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/AbstractSubLoader", "com/pixijs/pixi"], function(e, t, n) {
            function r(e) {
                e = e || {}, e.fileExtFilterList = ["json"], this._initOptions("sprites", e)
            }
            return r.prototype = new t, r.prototype._load = r.prototype.load, r.prototype.load = function(t, r) {
                this.loader = new n.loaders.Loader, this.loader.defaultQueryString = r.queryStr, r.queryStr = null, this._load(t, r);
                var i = this;
                this.loader.on("load", function(t, r) {
                    if (r.textures) {
                        for (var o in r.textures) {
                            var a = e.getFileNameWithoutExt(o);
                            n.Texture.addToCache(r.textures[o], a)
                        }
                        i._count.current++, i.options.onFileLoaded()
                    }
                }), this.loader.once("complete", function() {
                    i._count.current === i._count.total && (i._count.complete = !0, i.options.onFileLoaded())
                }), this.loader.on("error", this.options.onLoadFailed), this.loader.load()
            }, r.prototype._doLoadFile = function(t) {
                var n = e.getFileNameWithoutExt(t);
                this.loader.add(n, t)
            }, r
        }), define("skbJet/component/pixiResourceLoader/PixiImageSubLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/AbstractSubLoader", "com/pixijs/pixi"], function(e, t, n) {
            function r(e) {
                this._initOptions("images", e)
            }
            return r.prototype = new t, r.prototype._load = r.prototype.load, r.prototype.load = function(e, t) {
                this.loader = new n.loaders.Loader, this._load(e, t);
                var r = this;
                this.loader.on("load", function(e, t) {
                    n.Texture.addToCache(t.texture, t.name), r._count.current++, r.options.onFileLoaded()
                }), this.loader.once("complete", function() {
                    r._count.current === r._count.total && (r._count.complete = !0, r.options.onFileLoaded())
                }), this.loader.on("error", this.options.onLoadFailed), this.loader.load()
            }, r.prototype._doLoadFile = function(t) {
                var n = e.getFileNameWithoutExt(t);
                this.loader.add(n, t)
            }, r
        }), define("skbJet/component/pixiResourceLoader/pixiResourceLoader", ["skbJet/component/gameMsgBus/GameMsgBus", "com/pixijs/pixi", "skbJet/component/resourceLoader/resourceLib", "skbJet/component/resourceLoader/ResourceLoader", "skbJet/component/resourceLoader/subLoaders/TextFilesSubLoader", "skbJet/component/resourceLoader/subLoaders/HtmlTagSubLoader", "skbJet/component/pixiResourceLoader/PixiSpriteSubLoader", "skbJet/component/pixiResourceLoader/PixiImageSubLoader"], function(e, t, n, r, i, o, a, s) {
            function u() {
                f = h.currentProgress(), f.complete && (d.i18n = n.i18n.game || {}, d.i18n.helpHTML = n.i18n.help, d.i18n.paytableHTML = n.i18n.paytable), e.publish("resourceLoader.loadProgress", {
                    total: f.total,
                    current: f.current,
                    complete: f.complete
                })
            }

            function l() {
                e.publish("toPlatform", {
                    channel: "Kernel",
                    topic: "LoadProgress",
                    data: {
                        id: "game",
                        items: f.total,
                        current: f.current,
                        complete: !1,
                        fail: !0
                    }
                })
            }

            function c(e) {
                if (t.utils.TextureCache[e]) {
                    var n = t.utils.TextureCache[e],
                        r = new t.CanvasRenderer(n.orig.width, n.orig.height, {
                            transparent: !0
                        }),
                        i = new t.Sprite(n);
                    m.addChild(i), r.render(m);
                    var o = new Image;
                    o.src = r.view.toDataURL(), p[e] = o, m.removeChild(i)
                }
            }
            n.sounds = n.sounds || {}, n.images = n.images || {}, n.layout = n.layout || {}, n.sprites = n.sprites || {}, n.i18n = n.i18n || {};
            var h, d = {
                    audio: n.sounds,
                    images: n.images,
                    layout: n.layout,
                    sprites: n.sprites,
                    i18n: null
                },
                f = {};
            d.load = function(e, t, n) {
                r.initDefault(e, t, n), h = r.getDefault(), h.addSubLoader("images", new s({
                    type: "images"
                })), h.addSubLoader("sprites", new a({
                    type: "sprites"
                }));
                var c = new i({
                    type: "i18n",
                    parseJson: !0
                });
                c.origLoad = c.load, c.load = function(e, t) {
                    for (var n in e) n.match(/splash\.json$/) && delete e[n];
                    this.origLoad(e, t)
                }, h.addSubLoader("i18n", c), h.addSubLoader("layout", new o({
                    tagName: "script",
                    tagAttributes: {
                        type: "text/javascript"
                    },
                    fileExtFilterList: ["js"],
                    parentTag: document.getElementsByTagName("head")[0]
                })), h.load(u, l)
            };
            var p = {},
                m = new t.Container;
            return d.getImgObj = function(e) {
                return p[e] || c(e), p[e]
            }, d
        }), define("skbJet/componentCRDC/audioPlayer/HowlerAudioSubLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/AbstractSubLoader", "skbJet/component/resourceLoader/resourceLib", "skbJet/component/gameMsgBus/GameMsgBus", "skbJet/componentCRDC/audioPlayer/HowlerChannel", "skbJet/componentCRDC/audioPlayer/Html5Channel", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer"], function(e, t, n, r, i, o, a) {
            function s(e) {
                e = e || {}, e.fileExtFilterList = ["json"], this._initOptions("sounds", e)
            }
            return s.prototype = new t, s.prototype._doLoadFile = function(t, n, r) {
                var s = this.options.queryStr;
                e.httpGetJson(t, function(u) {
                    var l = null;
                    l = window.AudioContext || window.webkitAudioContext ? new i : new o;
                    for (var c = e.getFileNameWithoutExt(t), h = e.getParentFolder(t), d = 0; d < u.urls.length; d++) u.urls[d] = h + u.urls[d] + s;
                    l.load(u, n, r);
                    var f = c.match(/\d+$/);
                    f && f[0] && a._addChannel(l, parseInt(f[0]))
                }, r)
            }, s
        }), define("skbJet/componentManchester/webfontLoader/FontSubLoader", ["skbJet/component/resourceLoader/Util", "skbJet/component/resourceLoader/AbstractSubLoader"], function(e, t) {
            function n(e) {
                e = e || {}, e.fileExtFilterList = ["json"], e.checkInterval = e.checkInterval || 250, e.timeout = e.timeout || 3e4, e.testString = e.testString || "abcdefghijklmnopqrstuvwxyz 1234567890_-", this._initOptions("fonts", e), this._testCanvas = document.createElement("canvas"), this._testCtx = this._testCanvas.getContext("2d")
            }
            return n.prototype = new t, n.prototype._doLoadFile = function(t, n, r) {
                var i = {
                        woff: "woff",
                        woff2: "woff2",
                        ttf: "truetype"
                    },
                    o = ["woff2", "woff", "ttf"],
                    a = this._testCtx,
                    s = this.options;
                e.httpGetJson(t, function(u) {
                    function l() {
                        _ += 1, a.font = p + u.family + ", sans-serif", a.measureText(s.testString).width !== m ? n() : _ > s.timeout / s.checkInterval ? r() : setTimeout(l, s.checkInterval)
                    }
                    var c = e.getParentFolder(t);
                    "string" == typeof u.files && (u.files = [u.files]), u.files.sort(function(t, n) {
                        return o.indexOf(e.getFileExt(t, !0)) > o.indexOf(e.getFileExt(n, !0))
                    });
                    var h = u.files.map(function(t) {
                        var n = "url(" + c + t + s.queryStr + ") ",
                            r = e.getFileExt(t, !0);
                        return n += 'format("' + i[r] + '")'
                    });
                    if ("FontFace" in window) {
                        var d = new window.FontFace(u.family, h[0], u);
                        d.display = "block", document.fonts.add(d), d.load().then(function() {
                            n()
                        }).catch(function() {
                            r()
                        })
                    } else {
                        var f = "@font-face {";
                        f += 'font-family: "' + u.family + '";', f += "src: " + h.join(", ") + ";", f += "font-weight: " + (u.weight || "normal") + ";", f += "font-style: " + (u.style || "normal") + ";", f += "font-display: block; }";
                        var p = (u.style || "normal") + " " + (u.weight || "normal") + " 30px ";
                        a.font = p + "sans-serif";
                        var m = a.measureText(s.testString).width,
                            g = document.createElement("style");
                        document.head.appendChild(g), g.sheet.insertRule(f, 0);
                        var _ = 0;
                        l()
                    }
                }, r)
            }, n
        }), define("game/LoadController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/resourceLoader/ResourceLoader", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/componentCRDC/audioPlayer/HowlerAudioSubLoader", "skbJet/componentManchester/webfontLoader/FontSubLoader"], function(e, t, n, r, i, o) {
            function a(t) {
                e.publish("toPlatform", {
                    channel: "Kernel",
                    topic: "LoadProgress",
                    data: {
                        id: "game",
                        items: t.total + 1,
                        current: t.current,
                        complete: !1
                    }
                }), t.complete && (r.init(null, null, "desktop" === s ? "2d" : null), r.showScene("_GameScene"), e.publish("toPlatform", {
                    channel: "Kernel",
                    topic: "LoadProgress",
                    data: {
                        id: "game",
                        items: t.total + 1,
                        current: t.total + 1,
                        complete: !0
                    }
                }))
            }
            var s = window.location.search.match(/&?assetPack=(\w+)&?/)[1];
            e.subscribe("resourceLoader.loadProgress", a);
            var u = window.location.search.match(/&?language=([^&]+)&?/)[1],
                l = window.location.search.match(/&?skincode=(\w+)&?/)[1];
            return n.load("assetPacks/" + s, u, l), t.getDefault().addSubLoader("sounds", new i({
                type: "sounds"
            })), t.getDefault().addSubLoader("fonts", new o), {}
        }), define("game/GameSizeController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer"], function(e, t) {
            function n() {
                var e = Number(window.innerWidth),
                    n = Number(window.innerHeight);
                if (document.documentElement.style.width = e + "px", document.documentElement.style.height = n + "px", document.body.style.width = e + "px", document.body.style.height = n + "px", o.style.width = e + "px", o.style.height = n + "px", t.fitSize(e, n), a) {
                    var r = t.animMap._landscape2portrait;
                    e < n ? (t.switchPixiRenderer("portrait"), r.updateStyleToTime(r.maxTime)) : (t.switchPixiRenderer("default"), r.updateStyleToTime(0))
                }
            }

            function r() {
                if (a = a && !!t.animMap._landscape2portraitTemplate) {
                    var e = t.getPixiRenderer(),
                        r = Number(e.view.height),
                        i = Number(e.view.width);
                    t.newPixiRenderer("portrait", r, Math.floor(.9 * i));
                    for (var s = [], u = t.animMap._landscape2portraitTemplate._spritesNameList, l = 0; l < u.length; l++) {
                        var c = u[l].match(/^_portrait_(.*)$/);
                        c ? s.push("_" + c[1]) : s.push(u[l])
                    }
                    t.animMap._landscape2portraitTemplate.clone(s, "_landscape2portrait")
                }
                o.width = 2 * window._gladData._width, o.height = 2 * window._gladData._height, window.addEventListener("resize", n), n()
            }

            function i(e) {
                "INT" !== e.serverConfig.channel && "STD" === e.serverConfig.presenttype && (a = !0)
            }
            var o = document.getElementById("game"),
                a = !1;
            return e.subscribe("platformMsg/Kernel/System.Init", i), e.subscribe("onBeforeShowStage", r), {}
        }), define("skbJet/component/currencyHelper/Currency", [], function() {
            function e(e) {
                this.currencyData = e, this.decimalPrecision = Number(e.DECIMAL_PRECISION)
            }

            function t(e, t) {
                var n = Math.floor(e);
                if ("no" === t.USE_THOUSANDS_SEPARATOR) return n + "";
                for (var r = ""; n.toString().length > 3;) {
                    var i = n.toString().length - 3,
                        o = t.THOUSANDS_SEPARATOR;
                    o = "_" === o ? "Â " : o, r = o + n.toString().substring(i) + r, n = parseInt(n.toString().substring(0, i))
                }
                return r = n + r
            }

            function n(e, t, n) {
                if (!isNaN(e = Number(e))) {
                    if (n <= 0) return "";
                    var r = e.toFixed(n),
                        i = r.indexOf(".");
                    return -1 === i ? "" : t.DECIMAL_SEPARATOR + r.substring(i + 1)
                }
            }
            return e.prototype.formatBalance = function(e) {
                var r = t(Number(e), this.currencyData) + n(Number(e), this.currencyData, this.decimalPrecision);
                return "left" === this.currencyData.MAJOR_SYMBOL_ALIGNMENT ? r = "false" === this.currencyData.MAJOR_SYMBOL_PADDING_SPACE || !1 === this.currencyData.MAJOR_SYMBOL_PADDING_SPACE ? this.currencyData.MAJOR_SYMBOL + r : this.currencyData.MAJOR_SYMBOL + "Â " + r : "false" === this.currencyData.MAJOR_SYMBOL_PADDING_SPACE || !1 === this.currencyData.MAJOR_SYMBOL_PADDING_SPACE ? r += this.currencyData.MAJOR_SYMBOL : r = r + "Â " + this.currencyData.MAJOR_SYMBOL, r
            }, e.prototype.formatDecimal = function(e) {
                return e = Number(e), this.decimalPrecision <= 0 ? e : e.toFixed(this.decimalPrecision)
            }, e.prototype.formatFloat = function(e) {
                return e = Number(e), Number(this.decimalPrecision <= 0 ? e : e.toFixed(this.decimalPrecision))
            }, e.prototype.getCurrencyCode = function() {
                return this.currencyData["@currencyCode"]
            }, e
        }), define("skbJet/component/currencyHelper/currencyHelper", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/currencyHelper/Currency"], function(e, t) {
            function n(e) {
                if (Array.isArray(e.CurrencyResponse))
                    for (var n = 0; n < e.CurrencyResponse.length; n++) {
                        var r = new t(e.CurrencyResponse[n].CURRENCY);
                        f[r.getCurrencyCode()] = r
                    } else {
                        var r = new t(e.CurrencyResponse.CURRENCY);
                        f[d] = r
                    }
            }

            function r(e) {
                h = Number(e.serverConfig.denomamount), d = e.gameConfig.currencycode
            }

            function i(e, t) {
                return t || (t = d), f[t] ? f[t].formatBalance(e) : ""
            }

            function o(e) {
                return u(e.replace(/[^\d.]/g, ""))
            }

            function a(e, t) {
                return t || (t = d), f[t] ? f[t].formatDecimal(e) : ""
            }

            function s(e) {
                if (!isNaN(e = Number(e))) return parseInt(e)
            }

            function u(e, t) {
                return t || (t = d), f[t] ? f[t].formatFloat(e) : ""
            }

            function l(e) {
                return e * (1e3 * h) / 1e3
            }

            function c(e) {
                return 1e3 * e / (1e3 * h)
            }
            var h, d, f = {};
            return e.subscribe("platformMsg/ClientService/Game.Init", n), e.subscribe("platformMsg/Kernel/System.Init", r), {
                formatBalance: i,
                formatFloat: u,
                formatInteger: s,
                convertToNumber: o,
                formatDecimal: a,
                fromStakeUnits: l,
                toStakeUnits: c
            }
        }), define("game/WinHelper", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/currencyHelper/currencyHelper"], function(e, t) {
            function n(e) {
                v = Number(e.serverConfig.denomamount)
            }

            function r(e) {
                T = e.PaytableResponse.AwardCapInfo.CurrencyCap.AwardCap, w = e.GameLogicResponse.OutcomeDetail.Stage
            }

            function i(e) {
                w = e.response.OutcomeDetail.NextStage
            }

            function o(e) {
                "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && i(e)
            }

            function a(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && i(e)
            }

            function s(e) {
                for (var t = 0, n = e.response.PrizeOutcome, r = 0; r < n.length; r++) "FreeSpin.Lines" !== n[r]["@name"] && "FreeSpin.Scatter" !== n[r]["@name"] || (t += Number(n[r]["@totalPay"]));
		console.log(t);
                return t = m(t)
            }

            function u(e) {
                for (var t = 0, n = e.response.PrizeOutcome, r = 0; r < n.length; r++) "BaseGame.Lines" !== n[r]["@name"] && "BaseGame.Scatter" !== n[r]["@name"] || (t += Number(n[r]["@totalPay"]));
                return t = m(t)
            }

            function l(e) {
                for (var t = 0, n = e.response.PrizeOutcome, r = 0; r < n.length; r++)
                    if ("Game.Total" === n[r]["@name"]) {
                        t += Number(n[r]["@totalPay"]);
                        break
                    }
                return t = m(t)
            }

            function c(e) {
                for (var t = 0, n = e.response.PrizeOutcome, r = 0; r < n.length; r++)
                    if ("BaseGame.Lines" === n[r]["@name"]) {
                        t += Number(n[r]["@totalPay"]);
                        break
                    }
                return t = m(t)
            }

            function h(e, t, n) {
                for (var r = 0, i = e.response.PrizeOutcome, o = 0; o < i.length; o++)
                    if (i[o]["@name"] === t + ".Lines" && i[o].Prize)
                        if (Array.isArray(i[o].Prize)) {
                            for (var a = 0; a < i[o].Prize.length; a++)
                                if (i[o].Prize[a]["@name"] === "Line " + n) {
                                    r = Number(i[o].Prize[a]["@totalPay"]);
                                    break
                                }
                        } else if (i[o].Prize["@name"] === "Line " + n) {
                    r = Number(i[o].Prize["@totalPay"]);
                    break
                }
                return r = m(r)
            }

            function d(e, t) {
                for (var n = 0, r = e.response.PrizeOutcome, i = 0; i < r.length; i++)
                    if (r[i]["@name"] === t + ".Scatter") {
                        n += Number(r[i]["@totalPay"]);
                        break
                    }
                return n = m(n)
            }

            function f(e) {
                if ("true" === e.response.AwardCapOutcome.AwardCapExceeded) return T;
                for (var t = 0, n = e.response.PrizeOutcome, r = 0; r < n.length; r++) "FreeSpin.Total" === n[r]["@name"] && (t += Number(n[r]["@totalPay"])), "BaseGame.Scatter" === n[r]["@name"] && (t += Number(n[r]["@totalPay"]));
                return t = m(t)
            }

            function p(e) {
                return "true" === e.response.AwardCapOutcome.AwardCapExceeded ? T : "FreeSpin" === e.response.OutcomeDetail.Stage ? l(e) : u(e)
            }

            function m(e) {
                return Number(t.formatDecimal(e * v))
            }

            function g(e) {
                if ("true" === e.response.AwardCapOutcome.AwardCapExceeded) S = "maxwin";
                else {
                    var t, n = _();
                    "BaseGame" === w ? (t = p(e), S = t / n >= 10 ? "bigwin" : t <= 0 ? "nowin" : "win") : (t = s(e), S = t <= 0 ? "nowin" : "win")
                }
                return S
            }

            function _() {
                return b * x * v
            }

            function y(e) {
                e.patternsBet && (b = Number(e.patternsBet)), e.betPerPattern && (x = Number(e.betPerPattern))
            }
            var v, b, x, T, w, S;
            return e.subscribe("platformMsg/Kernel/System.Init", n), e.subscribe("platformMsg/ClientService/Game.Init", r), e.subscribe("onEnterNextStage", i), e.subscribe("onStartGameInProgressStage", o), e.subscribe("onStartGameInProgressNextStage", a), e.subscribe("onBetConfigChanged", y), {
                getPerWinInBonusGame: s,
                getAllLinePayOnBaseGame: c,
                getSingleLinePay: h,
                getScatterPay: d,
                getCurBonusPay: f,
                getCurBasePay: p,
                detectWinType: g,
                calculateTotalBet: _
            }
        }), define("game/ButtonHelper", [], function() {
            function e() {
                var e = Date.now(),
                    n = e - t;
                return t = e, n < 150
            }
            var t = 0;
            return {
                atSameTime: e
            }
        }), define("game/AutoSpinController", ["com/pixijs/pixi", "skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/component/currencyHelper/currencyHelper", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "game/WinHelper", "game/ButtonHelper"], function(e, t, n, r, i, o, a) {
            function s() {
                K && (K = !1, t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.AutoSpinStopped"
                }, !0))
            }

            function u(e) {
                "freespin" === e.serverConfig.paramGame.playMode && (ee = !0), e.serverConfig.autospin && 2 === Number(e.serverConfig.autospin.version) && (ne = !0), z = e.serverConfig.paramGame.assetPack
            }

            function l(e) {
                var t = e.getImage();
                return !(!t || !t.match(/Inactive$/))
            }

            function c(t, n) {
                e.utils.TextureCache[n + "Over"] && (t.on("mouseover", function() {
                    l(t) || t.setImage(n + "Over")
                }), t.on("mouseout", function() {
                    l(t) || t.setImage(n)
                })), t.on("mousedown", function() {
                    l(t) || t.setImage(n + "Pressed")
                }), t.on("mouseup", function() {
                    l(t) || t.setImage(n)
                })
            }

            function h(e) {
                n.lib._autoSpinSet && (S(), e.PaytableResponse && e.PaytableResponse.AutoSpinInfo && (Q = "false" === e.PaytableResponse.AutoSpinInfo["@enable"].toLowerCase()), Q ? (k(), "desktop" !== z && n.lib._autoSpinSet.show(!1)) : w(e))
            }

            function d(e) {
                ee && (Y = Number(e.response.PromotionalFreeSpin["@count"])) <= 0 && (Y = 0, n.lib._autoSpinSet && k())
            }

            function f(e) {
                J = "onBeforeRequest", te && n.getTimer().clearTimeout(te), "BaseGame" === e.response.OutcomeDetail.NextStage && n.lib._autoSpinSet && (A(), K ? (B(), V--) : "desktop" === z ? k() : n.lib._autoSpinBtn.show(!1)), re = !1
            }

            function p(e) {
                ee && (Y = Number(e.response.PromotionalFreeSpin["@count"])) <= 0 && (Y = 0)
            }

            function m() {
                if (n.lib._autoSpinSet) {
                    if (ee && Y <= 0) return N(), k(), void s();
                    K && (V <= 0 ? s() : "nowin" === q || "maxwin" === q ? t.publish("nextState") : re && (t.publish("nextState"), re = !1)), !1 === K && F(), J = "onBeginNewGame"
                }
            }

            function g(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && (N(), k())
            }

            function _(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && (s(), V = null, A(), L(), t.publish("AutoSpinController.autoSpinEnd"))
            }

            function y(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage ? n.lib._autoSpinSet && (s(), S()) : "FreeSpin" === e.response.OutcomeDetail.Stage && "BaseGame" === e.response.OutcomeDetail.NextStage && "desktop" === z && k()
            }

            function v(e) {
                n.lib._autoSpinSet && ("FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && S(), "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && ("desktop" === z ? k() : S()))
            }

            function b(e) {
                n.lib._autoSpinSet && "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && S()
            }

            function x() {
                n.lib._Num.setText(V + "")
            }

            function T(e) {
                e.on("click", function(t) {
                    t.stopPropagation(), R(e)
                })
            }

            function w(e) {
                n.lib._autoSpinBtn.setImage("AutoSpin"), n.lib._autoSpinBtn.show(!0), n.lib._autoSpinBtn.on("click", P), c(n.lib._autoSpinBtn, "AutoSpin"), n.lib._autoSpinStop.on("click", I), c(n.lib._autoSpinStop, "StopAutoSpin"), H = e.PaytableResponse.AutoSpinInfo.Step.sort(function(e, t) {
                    return parseInt(t) - parseInt(e)
                });
                for (var t = Object.keys(n.lib._autoSpinTabPanel.sprites), r = 0; r < t.length; r++) n.lib[t[r]].setImage("autoSpinBG"), n.lib["_T" + (r + 1)].setText(H[r] + ""), T(n.lib[t[r]]), c(n.lib[t[r]], "autoSpinBG")
            }

            function S() {
                n.lib._autoSpinBtn.show(!1), n.lib._autoSpinTabPanel.show(!1), n.lib._autoSpinT1.show(!1), n.lib._autoSpinT2.show(!1), n.lib._autoSpinT3.show(!1), n.lib._autoSpinT4.show(!1), n.lib._autoSpinT5.show(!1), n.lib._autoSpinStop.show(!1), n.lib._autoSpinNum.show(!1), n.lib._Num.show(!1)
            }

            function E(e) {
                V = e, A(), n.lib._autoSpinBtn.show(!1), B(), K = !0, D(), t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.AutoSpinStart"
                })
            }

            function C() {
                t.publish("toPlatformRequest", {
                    channel: "Game",
                    topic: "Game.AutoSpinOption",
                    data: {},
                    successCallback: function(e) {
                        e && "cancel" !== e.action ? E(Number(e.steps)) : t.publish("AutoSpinController.UKAutoSpinCancelled")
                    },
                    failCallback: function() {
                        t.publish("AutoSpinController.UKAutoSpinCancelled")
                    }
                })
            }

            function P() {
                Z || Q || a.atSameTime() || (ne ? C() : $ ? (A(), t.publish("AutoSpinController.hideAutoTabpanel")) : (O(), t.publish("AutoSpinController.showAutoTabpanel")), i.play("ButtonAutoPlay", 4))
            }

            function O() {
                n.lib._autoSpinTabPanel.show(!0), n.lib._autoSpinT1.show(!0), n.lib._autoSpinT2.show(!0), n.lib._autoSpinT3.show(!0), n.lib._autoSpinT4.show(!0), n.lib._autoSpinT5.show(!0), $ = !0
            }

            function A() {
                n.lib._autoSpinTabPanel.show(!1), n.lib._autoSpinT1.show(!1), n.lib._autoSpinT2.show(!1), n.lib._autoSpinT3.show(!1), n.lib._autoSpinT4.show(!1), n.lib._autoSpinT5.show(!1), $ = !1, n.lib._autoSpinT1.setImage("autoSpinBG"), n.lib._autoSpinT2.setImage("autoSpinBG"), n.lib._autoSpinT3.setImage("autoSpinBG"), n.lib._autoSpinT4.setImage("autoSpinBG"), n.lib._autoSpinT5.setImage("autoSpinBG")
            }

            function M() {
                N(), k(), s(), "onBase2BaseReelStop" !== J || "nowin" !== q && "maxwin" !== q || t.publish("nextState"), "onBeginNewGame" === J && (F(), te && n.getTimer().clearTimeout(te))
            }

            function I() {
                a.atSameTime() || (M(), i.play("ButtonAutoPlayStop", 4))
            }

            function R(e) {
                var t = e.getName(),
                    n = t.charAt(t.length - 1) - 1;
                E(Number(H[n]))
            }

            function D() {
                K && V > 0 && (n.lib._spinButton.show(!1), n.lib._inactiveButton.show(!0), t.publish("nextState"))
            }

            function L() {
                n.lib._autoSpinSet && !Q && (n.lib._autoSpinBtn.setImage("AutoSpin"), n.lib._autoSpinBtn.show(!0), Z = !1)
            }

            function k() {
                n.lib._autoSpinBtn.setImage("AutoSpinInactive"), n.lib._autoSpinBtn.show(!0), Z = !0
            }

            function B() {
                n.lib._autoSpinStop.show(!0), x(), n.lib._autoSpinNum.show(!0), n.lib._Num.show(!0)
            }

            function N() {
                n.lib._autoSpinStop.show(!1), n.lib._autoSpinNum.show(!1), n.lib._Num.show(!1)
            }

            function F() {
                Q || (N(), L(), t.publish("AutoSpinController.autoSpinEnd"))
            }

            function j() {
                return K
            }

            function G() {
                S()
            }

            function U() {
                n.lib._autoSpinBtn.show(!0)
            }

            function X(e) {
                J = "onBase2BaseReelStop", q = o.detectWinType(e)
            }

            function W() {
                re = !0
            }
            var H, V, Y, z, q, J, K = !1,
                $ = !1,
                Z = !1,
                Q = !0,
                ee = !1,
                te = null,
                ne = !1,
                re = !1;
            return t.subscribe("platformMsg/Kernel/System.Init", u), t.subscribe("platformMsg/ClientService/Game.Init", h), t.subscribe("onBeforeShowStage", d), t.subscribe("onBeforeRequest", f), t.subscribe("onResolveStage", p), t.subscribe("onBeginNewGame", m), t.subscribe("onAbortNextStage", g), t.subscribe("onResetNextStage", _), t.subscribe("onEnterNextStage", y), t.subscribe("onStartGameInProgressStage", v), t.subscribe("onStartGameInProgressNextStage", b), t.subscribe("platformMsg/ClientService/Game.StopAutoSpin", M), t.subscribe("BetController.showBetPanel", G), t.subscribe("BetController.okayBtnClicked", U), t.subscribe("base2BaseReelStop", X), t.subscribe("WinlineAnimComplete", W), {
                autoSpin: D,
                currentAutoSpinState: j
            }
        }), define("skbJet/component/phoenixReel/animationLayer", ["com/pixijs/pixi"], function(e) {
            return function(t, n) {
                function r(t) {
                    var n = new e.extras.AnimatedSprite([e.Texture.EMPTY]);
                    return n.visible = !1, n.zIndex = 1, n
                }

                function i(r, i) {
                    E[r] = [];
                    for (var a = -1; a < t.options.reels[r].symbolCount + 1; a++) {
                        var s = S[r][a + 1],
                            u = i.spriteRefs[a + 1];
                        u ? (Array.isArray(n[u].textures) ? (s.textures = n[u].textures, s.texture = s.textures[0], s.visible = !0, s.gotoAndStop(0), s.loop = !0) : (s.visible = !0, s.textures = [n[u].textures], s.texture = s.textures[0], s.gotoAndStop(0), s.loop = !0), s.position.x = s.position.rx + n[u].xOffset, s.position.y = s.position.ry + n[u].yOffset, s.zIndex = n[u].zOffset) : s.visible = !1, E[r].push(u), a >= 0 && a < t.options.reels[r].symbolCount && (C[r][a].textures = [e.Texture.EMPTY], C[r][a].texture = e.Texture.EMPTY, C[r][a].visible = !1, C[r][a].gotoAndStop(0), C[r][a].loop = !0)
                    }
                    E[r].pop(), E[r].shift(), o(T), o(w)
                }

                function o(e) {
                    e.children.sort(function(e, t) {
                        return e.zIndex - t.zIndex || t.x - e.x || e.y - t.y
                    })
                }

                function a(e, t) {
                    for (var n = [], r = 0; r < t; r++) n = n.concat(e);
                    return n
                }

                function s(t) {
                    return t ? Array.isArray(t) ? t.map(function(t) {
                        return t ? e.utils.TextureCache[t] : e.Texture.EMPTY
                    }) : [e.utils.TextureCache[t]] : [e.Texture.EMPTY]
                }

                function u(e) {
                    var t = !0;
                    return e.forEach(function(e) {
                        e.hasOwnProperty("completed") && !e.completed && (t = e.completed)
                    }), t
                }

                function l(e, t, n, r, i, o, a) {
                    var s = {},
                        u = {};
                    return e instanceof Object ? (s = e, u = t) : (s = {
                        location: e,
                        textures: t,
                        animationSpeed: n,
                        layer: r,
                        position: i,
                        playmode: o
                    }, u = a), c(s, u)
                }

                function c(e, t) {
                    F.push({
                        location: e.location,
                        layer: e.layer
                    });
                    var n;
                    return 0 === e.layer ? n = P[A[e.location]] : 1 === e.layer && (n = O[A[e.location]]), n && (e.textures ? (n.visible = !0, n.textures = s(e.playmode && e.playmode.playCount ? a(e.textures, e.playmode.playCount) : e.textures), n.texture = n.textures[0], n.position.x = n.position.rx, n.position.y = n.position.ry, e.position && (e.position.x && (n.position.x += e.position.x), e.position.y && (n.position.y += e.position.y)), n.animationSpeed = e.animationSpeed, n.loop = !0, e.playmode && (!1 === e.playmode.loop || e.playmode.hasOwnProperty("playCount")) && (n.loop = !1), n.gotoAndStop(0), t && (t.onComplete && (n.onComplete = t.onComplete), t.onFrameChange && (n.onFrameChange = t.onFrameChange))) : n.visible = !1), {
                        gotoAndPlay: function(e) {
                            n.gotoAndPlay(e)
                        },
                        gotoAndStop: function(e) {
                            n.gotoAndStop(e)
                        }
                    }
                }

                function h(e, t) {
                    return e.map(function(n) {
                        return n.completed = !1, l(n, {
                            onComplete: function() {
                                n.completed = !0, u(e) && t && t.onComplete && t.onComplete()
                            }
                        })
                    })
                }

                function d(e) {
                    return 0 === e ? T : 1 === e ? w : void 0
                }

                function f(e, t) {
                    return 0 === t ? P[A[e]] : 1 === t ? O[A[e]] : void 0
                }

                function p() {
                    F.forEach(function(e) {
                        var t;
                        0 === e.layer ? t = P[A[e.location]] : 1 === e.layer && (t = O[A[e.location]]), t.gotoAndPlay(0)
                    })
                }

                function m() {
                    F.forEach(function(e) {
                        var t;
                        0 === e.layer ? t = P[A[e.location]] : 1 === e.layer && (t = O[A[e.location]]), t.gotoAndStop(0), t.loop = !0, t.onFrameChange = void 0, t.onComplete = void 0
                    })
                }

                function g(r) {
                    if (m(), !F || 0 !== F.length) {
                        for (var i = 0; i < t.options.reels.length; i++)
                            for (var o = 0; o < t.options.reels[i].symbolCount; o++) {
                                if (!r || 0 === r) {
                                    var a = S[i][o + 1],
                                        s = E[i][o];
                                    Array.isArray(n[s].textures) ? (a.textures = n[s].textures, a.texture = a.textures[0], a.gotoAndStop(0), a.loop = !0) : (a.textures = [n[s].textures], a.texture = a.textures[0], a.gotoAndStop(0), a.loop = !0), a.onFrameChange = void 0, a.onComplete = void 0, a.visible = !0, a.position.x = a.position.rx + n[s].xOffset, a.position.y = a.position.ry + n[s].yOffset, a.zIndex = n[s].zOffset
                                }
                                0 !== r && (C[i][o].textures = [e.Texture.EMPTY], C[i][o].texture = e.Texture.EMPTY, C[i][o].gotoAndStop(0), C[i][o].loop = !0, C[i][o].onFrameChange = void 0, C[i][o].onComplete = void 0)
                            }
                        F = []
                    }
                }

                function _() {
                    if (m(), !F || 0 !== F.length) {
                        for (var n = 0; n < t.options.reels.length; n++) {
                            for (var r = 0; r < S[n].length; r++) S[n][r].textures = [e.Texture.EMPTY], S[n][r].texture = e.Texture.EMPTY, S[n][r].gotoAndStop(0), S[n][r].loop = !0, S[n][r].onFrameChange = void 0, S[n][r].onComplete = void 0;
                            for (r = 0; r < C[n].length; r++) C[n][r].textures = [e.Texture.EMPTY], C[n][r].texture = e.Texture.EMPTY, C[n][r].gotoAndStop(0), C[n][r].loop = !0, C[n][r].onFrameChange = void 0, C[n][r].onComplete = void 0
                        }
                        F = []
                    }
                }

                function y(e) {
                    x.visible = !0;
                    for (var n = -1; n < t.options.reels[e].symbolCount + 1; n++) {
                        S[e][n + 1].visible = !0, n >= 0 && n < t.options.reels[e].symbolCount && (C[e][n].visible = !0)
                    }
                }

                function v(e) {
                    for (var n = -1; n < t.options.reels[e].symbolCount + 1; n++) {
                        S[e][n + 1].visible = !1, n >= 0 && n < t.options.reels[e].symbolCount && (C[e][n].visible = !1)
                    }
                }

                function b() {
                    return {
                        startAnimating: p,
                        stopAnimating: m,
                        resetAnimations: g,
                        clearAnimations: _,
                        setCellAnimation: l,
                        setCellAnimations: h,
                        getLayerContainer: d,
                        getCellHandle: f,
                        getContainer: function() {
                            return x
                        }
                    }
                }
                var x = new e.Container,
                    T = new e.Container,
                    w = new e.Container;
                x.addChild(T), x.addChild(w);
                var S = [],
                    E = [],
                    C = [],
                    P = [],
                    O = [],
                    A = t.locationsMap.reduce(function(e, t, n) {
                        return e[t] = n, e
                    }, {});
                e.extras.AnimatedSprite || (e.extras.AnimatedSprite = e.extras.MovieClip);
                for (var M, I = new e.Graphics, R = !0, D = 0; D < t.options.reels.length; D++) 0 !== t.options.reels[D].y && (R = !1);
                if (t.options.reels.length > 1 && R)
                    for (D = 1; D < t.options.reels.length; D++) t.options.reels[D - 1].symbolCount != t.options.reels[D].symbolCount && (R = !1);
                if (t.options.clip) t.options.clip.forEach(function(e) {
                    I.beginFill(), I.drawRect(e.x, e.y, e.w, e.h), I.endFill()
                });
                else if (R) I.beginFill(), I.drawRect(t.options.pos.x + t.options.reels[0].x, t.options.pos.y + t.options.reels[0].y, (t.symbolSlotWidth + t.symbolSpacingW) * t.options.reels.length - t.symbolSpacingW, (t.symbolSlotHeight + t.symbolSpacingH) * t.options.reels[0].symbolCount - t.symbolSpacingH), I.endFill();
                else {
                    for (I.beginFill(), D = 0; D < t.options.reels.length; D++) I.drawRect(t.options.pos.x + t.options.reels[D].x, t.options.pos.y + t.options.reels[D].y, t.symbolSlotWidth + t.symbolSpacingW, (t.symbolSlotHeight + t.symbolSpacingH) * t.options.reels[D].symbolCount);
                    I.endFill()
                }
                for (I.zIndex = 1e3, T.addChild(I), M = I, T.mask = M, D = 0; D < t.options.reels.length; D++) {
                    for (var L = [], k = [], B = -1; B < t.options.reels[D].symbolCount + 1; B++) {
                        var N = r(D);
                        N.position.x = t.options.pos.x + t.options.reels[D].x, N.position.y = t.options.pos.y + t.options.reels[D].y + t.symbolSlotHeight * B, N.position.rx = N.position.x,
                            N.position.ry = N.position.y, L.push(N), B >= 0 && B < t.options.reels[D].symbolCount && (P.push(N), N = r(D), N.position.x = t.options.pos.x + t.options.reels[D].x, N.position.y = t.options.pos.y + t.options.reels[D].y + t.symbolSlotHeight * B, N.position.rx = N.position.x, N.position.ry = N.position.y, O.push(N), k.push(N))
                    }
                    S.push(L), E.push([]), C.push(k)
                }
                for (D = 0; D < t.options.reels.length; D++) S[D].forEach(function(e) {
                    T.addChild(e)
                });
                for (D = 0; D < t.options.reels.length; D++) C[D].forEach(function(e) {
                    w.addChild(e)
                });
                var F = [];
                return {
                    setViewData: i,
                    show: y,
                    hide: v,
                    startAnimating: p,
                    stopAnimating: m,
                    resetAnimations: g,
                    clearAnimations: _,
                    setCellAnimation: l,
                    setCellAnimations: h,
                    getLayerContainer: d,
                    getCellHandle: f,
                    getContainer: function() {
                        return x
                    },
                    getLimitedAccess: b
                }
            }
        }), define("skbJet/component/phoenixReel/winline", ["com/pixijs/pixi", "skbJet/component/phoenixReel/animationLayer"], function(e, t) {
            return function(n, r, i) {
                function o() {
                    1 !== W && (j.cacheAsBitmap = !0, j.alpha = W)
                }

                function a() {}

                function s(e, t, n, r) {
                    if (!Z || !Z[e]) {
                        q = !0;
                        var i = ne[e];
                        j.lineStyle(n, t, r), n = Math.max(H, V), l(i.x, i.y, i.width, i.height)
                    }
                }

                function u(e, t, n, r) {
                    if (!Z || !Z[e]) {
                        q = !0;
                        var i = ne[e];
                        j.lineStyle(n, t, r), n = Math.max(H, V), l(i.x, i.y, i.width, i.height)
                    }
                }

                function l(e, t, n, r) {
                    "round" === z ? j.drawRoundedRect(e, t, n, r, Math.max(n, r) / 16) : j.drawRect(e, t, n, r)
                }

                function c() {
                    var e = Math.max(V, H);
                    Y && (e -= Y);
                    var t = [];
                    return r.options.reels.forEach(function(n) {
                        for (var i = 0; i < n.symbolCount; i++) {
                            var o = {};
                            o.x = r.options.pos.x + n.x + e / 2, o.y = r.options.pos.y + n.y + (r.symbolSlotHeight + r.symbolSpacingH) * i + e / 2, o.width = r.symbolSlotWidth - e, o.height = r.symbolSlotHeight - e, t.push(o)
                        }
                    }), t
                }

                function h(e, t, n, r, i, o) {
                    return Math.abs(n - e) <= i / 2 && Math.abs(r - t) <= o / 2
                }

                function d(e) {
                    ie = e.reduce(function(e, t, n) {
                        return e[t] = n, e
                    }, {})
                }

                function f(e) {
                    return ((16711680 & e) / 2 & 16711680) + ((65280 & e) / 2 & 65280) + ((255 & e) / 2 & 255)
                }

                function p(e) {
                    re.winlines.forEach(function(e) {
                        var t, n, i, o, a, s, u, l, c;
                        e.hasOwnProperty("backgroundColour") || (e.backgroundColour = 0), e.x = [], e.y = [], e.leftx = [], e.lefty = [], e.rightx = [], e.righty = [], e.leftToRight || (e.locations = e.locations.reverse());
                        for (var d, f = re.leftx + r.options.pos.x, p = 0; p < e.locations.length; p++) {
                            if (u = ne[e.locations[p]], l = u.x + u.width / 2, c = u.y + u.height / 2 + e.yOffset, e.x.push(l), e.y.push(c), d || (d = c), a = f - l, 0 === (s = d - c)) e.leftx.push(u.x), e.lefty.push(c);
                            else if (Math.abs(a) > Math.abs(s)) {
                                for (t = s / a, i = e.x[p], o = e.y[p]; h(i, o, l, c - e.yOffset, u.width, u.height);) i -= 1, o -= t;
                                i += 1, o += t, e.leftx.push(i), e.lefty.push(o)
                            } else {
                                for (t = a / s, i = e.x[p], o = e.y[p], n = s < 0 ? -1 : 1; h(i, o, l, c - e.yOffset, u.width, u.height);) i -= Math.abs(t), o += n;
                                i += Math.abs(t), o -= n, e.leftx.push(i), e.lefty.push(o)
                            }
                            f = l, d = c
                        }
                        for (p = 0; p < e.locations.length - 1; p++)
                            if (a = e.x[p] - e.x[p + 1], s = e.y[p] - e.y[p + 1], u = ne[e.locations[p]], 0 === s) e.rightx.push(u.x + u.width), e.righty.push(e.y[p]);
                            else if (Math.abs(a) > Math.abs(s)) {
                            for (t = s / a, i = e.x[p], o = e.y[p]; h(i, o, e.x[p], e.y[p] - e.yOffset, u.width, u.height);) i += 1, o += t;
                            i -= 1, o -= t, e.rightx.push(i), e.righty.push(o)
                        } else {
                            for (t = a / s, i = e.x[p], o = e.y[p], n = s < 0 ? 1 : -1; h(i, o, e.x[p], e.y[p] - e.yOffset, u.width, u.height);) i += Math.abs(t), o += n;
                            i -= Math.abs(t), o -= n, e.rightx.push(i), e.righty.push(o)
                        }
                        e.rightx.push(e.x[e.locations.length - 1] + ne[e.locations.length - 1].width / 2), e.righty.push(e.y[e.locations.length - 1]), e.leftToRight || (e.locations = e.locations.reverse(), e.x = e.x.reverse(), e.y = e.y.reverse(), e.leftx = e.leftx.reverse(), e.lefty = e.lefty.reverse(), e.rightx = e.rightx.reverse(), e.righty = e.righty.reverse())
                    }), e || (re.leftx += r.options.pos.x, re.rightx += r.options.pos.x)
                }

                function m(e, t, n, r, i) {
                    q = !0, j.moveTo(re.leftx, e.y[0]), g(re.leftx, e.y[0], n, r, i), j.moveTo(re.leftx, e.y[0]);
                    for (var o = 0; o < e.locations.length; o++) t > o ? (j.lineTo(e.leftx[o], e.lefty[o]), j.moveTo(e.rightx[o], e.righty[o])) : j.lineTo(e.x[o], e.y[o]);
                    var a = re.shortenright ? re.shortenright : 0;
                    (t < e.locations.length || 0 === a) && (j.lineTo(re.rightx - a, e.y[e.locations.length - 1]), g(re.rightx - a, e.y[e.locations.length - 1], n, r, i))
                }

                function g(e, t, n, r, i) {
                    if (q = !0, "round" === oe) j.lineStyle(n / 2, i, r), j.drawCircle(e, t, 1), j.lineStyle(n, i, r);
                    else {
                        if ("square" !== oe) return;
                        j.moveTo(e, t), j.lineTo(e, t)
                    }
                }

                function _(e, t, n, r, i) {
                    q = !0, j.moveTo(re.rightx + (oe ? n / 2 : 0), e.y[0]), g(re.rightx + (oe ? n / 2 : 0), e.y[0], n, r, i), j.moveTo(re.rightx + (oe ? n / 2 : 0), e.y[0]);
                    for (var o = 0; o < e.locations.length; o++) t > e.locations.length - 1 - o ? (j.lineTo(e.rightx[o], e.righty[o]), j.moveTo(e.leftx[o], e.lefty[o])) : j.lineTo(e.x[o], e.y[o]);
                    var a = re.shortenleft ? re.shortenleft : 0;
                    0 !== t && 0 !== a || (j.lineTo(re.leftx + a - (oe ? n / 2 : 0), e.y[e.locations.length - 1]), g(re.leftx - n / 2 + a, e.y[e.locations.length - 1], n, r, i))
                }

                function y(e, t, n, r, i) {
                    q = !0;
                    var o = re.winlines[e];
                    j.lineStyle(n, i || o.backgroundColour, r), re.winlines[e].leftToRight ? m(o, t, n, r, i || o.backgroundColour) : _(o, t, n, r, i || o.backgroundColour)
                }

                function v(e, t, n, r, i) {
                    q = !0;
                    var o = re.winlines[e];
                    j.lineStyle(n, i || o.colour, r), re.winlines[e].leftToRight ? m(o, t, n, r, i || o.colour) : _(o, t, n, r, i || o.colour)
                }

                function b(e) {
                    te(), q = !0, e.forEach(function(e) {
                        y(e - 1, 0, V, X), v(e - 1, 0, H, X)
                    }), o()
                }

                function x(e, t) {
                    te(), q = !0;
                    var n = e - 1;
                    y(n, t, V, X);
                    for (var r, i = 0; i < t; i++) r = re.winlines[n].leftToRight ? i : re.winlines[n].locations.length - 1 - i, s(re.winlines[n].locations[r], re.winlines[n].backgroundColour, V, X);
                    for (v(n, t, H, X), i = 0; i < t; i++) r = re.winlines[n].leftToRight ? i : re.winlines[n].locations.length - 1 - i, u(re.winlines[n].locations[r], re.winlines[n].colour, H, X);
                    o()
                }

                function T(e) {
                    var t = parseInt(e["@name"].substring(5)) - 1,
                        n = e.Cell.map(function(e) {
                            return ie[e["@name"]]
                        });
                    te(), q = !0, y(t, n.length, V, X);
                    for (var r = 0; r < n.length; r++) s(n[r], re.winlines[t].backgroundColour, V, X);
                    for (v(t, n.length, H, X), r = 0; r < n.length; r++) u(n[r], re.winlines[t].colour, H, X);
                    o()
                }

                function w(t, n) {
                    var r = parseInt(t["@name"].substring(5)) - 1,
                        i = t.Cell.map(function(e) {
                            return ie[e["@name"]]
                        });
                    n.opacity && (n.opacity = parseFloat(n.opacity)), n.height && (n.height = parseInt(n.height)), te(), q = !0;
                    var o, a;
                    y(r, i.length, V, X);
                    for (var l = 0; l < i.length; l++) s(i[l], re.winlines[r].backgroundColour, V, X), n && n.location === t.Cell[l]["@name"] && (o = ne[i[l]], a = V, j.moveTo(o.x, o.y + (o.height - n.height)), j.lineTo(o.x + o.width, o.y + (o.height - n.height)), n.hasOwnProperty("backgroundColor") && (j.lineStyle(1, n.backgroundColor, X), j.beginFill(n.backgroundColor, n.hasOwnProperty("opacity") ? n.opacity : X), j.drawRect(o.x + a / 2, o.y + (o.height - parseInt(n.height)), o.width - a, parseInt(n.height) - a / 2), j.endFill()));
                    for (v(r, i.length, H, X), l = 0; l < i.length; l++) u(i[l], re.winlines[r].colour, H, X), n && n.location === t.Cell[l]["@name"] && (o = ne[i[l]], a = H, j.moveTo(o.x, o.y + (o.height - n.height)), j.lineTo(o.x + o.width, o.y + (o.height - n.height)), n.displayText && n.textStyle && (G && U.removeChild(G), G = new e.Text(n.displayText, n.textStyle), G.x = o.x + 2 * a, G.y = o.y + (o.height - n.height / 2 - G.height / 2), "center" === n.textStyle.align && (G.x = o.x + o.width / 2 - G.width / 2), U.addChild(G)))
                }

                function S(e, t, n) {
                    q = !0, e.forEach(function(e) {
                        s(e, n || 0, V, X), u(e, t, H, X)
                    })
                }

                function E(e, t, n) {
                    q = !0, e.forEach(function(e) {
                        void 0 !== ie[e] && (s(ie[e], n || 0, V, X), u(ie[e], t, H, X))
                    })
                }

                function C(t, n, r, i) {
                    q = !0, t.forEach(function(t) {
                        if (void 0 !== ie[t]) {
                            var o, a = V;
                            s(ie[t], r, a, X), i && i.location === t && (o = ne[ie[t]], j.moveTo(o.x, o.y + (o.height - i.height)), j.lineTo(o.x + o.width, o.y + (o.height - i.height)), i.hasOwnProperty("backgroundColor") && (j.lineStyle(1, i.backgroundColor, X), j.beginFill(i.backgroundColor, i.hasOwnProperty("opacity") ? i.opacity : X), j.drawRect(o.x + a / 2, o.y + (o.height - parseInt(i.height)), o.width - a, parseInt(i.height) - a / 2), j.endFill())), a = H, u(ie[t], n, a, X), i && i.location === t && (o = ne[ie[t]], j.moveTo(o.x + a / 2, o.y + (o.height - i.height)), j.lineTo(o.x + a / 2 + (o.width - a), o.y + (o.height - i.height)), i.displayText && i.textStyle && (G && U.removeChild(G), G = new e.Text(i.displayText, i.textStyle), G.x = o.x + 2 * a, G.y = o.y + (o.height - i.height / 2 - G.height / 2), "center" === i.textStyle.align && (G.x = o.x + o.width / 2 - G.width / 2), U.addChild(G)))
                        }
                    }), o()
                }

                function P(e) {
                    j && (j.visible = e), G && (G.visible = e)
                }

                function O(e) {
                    var t = e - 1,
                        n = {};
                    return n.lineData = re.winlines[t], n.boxData = [], re.winlines[t].locations.forEach(function(e) {
                        n.boxData.push(ne[e])
                    }), n.thickness = V, n.leftx = re.leftx, n.rightx = re.rightx, n
                }

                function A(e) {
                    oe = "round" === e || "square" === e ? e : void 0
                }

                function M(e, t) {
                    var n = e,
                        r = arguments.length > 1 ? t : 2 * e;
                    H === n && V === r || (H = n, V = r, ne = c(), p(!0))
                }

                function I(e) {
                    W = e
                }

                function R(e) {
                    z = "round" === e ? "round" : "square"
                }

                function D(e) {
                    Y = e, ne = c(), p(!0)
                }

                function L() {
                    return $
                }

                function k(e) {
                    e ? ae || (ae = te, te = function() {}) : ae && (te = ae, ae = void 0)
                }

                function B() {
                    for (var e = JSON.parse(JSON.stringify(re)), t = 0; t < re.winlines.length; t++) delete e.winlines[t].x, delete e.winlines[t].y, delete e.winlines[t].leftx, delete e.winlines[t].lefty, delete e.winlines[t].rightx, delete e.winlines[t].righty, delete e.winlines[t].backgroundColour
                }

                function N(e) {
                    switch (e.key.toLowerCase()) {
                        case "arrowleft":
                            --ue < 0 && (ue = re.winlines.length - 1);
                            break;
                        case "arrowright":
                            ++ue >= re.winlines.length && (ue = 0);
                            break;
                        case "arrowup":
                            re.winlines[ue].yOffset--;
                            break;
                        case "arrowdown":
                            re.winlines[ue].yOffset++;
                            break;
                        case "g":
                            le = !le, ce = !1;
                            break;
                        case "x":
                            F(!1);
                            break;
                        case "d":
                            B();
                            break;
                        default:
                            return void e.preventDefault()
                    }
                    if (re.winlines[ue].yOffset > r.symbolSlotHeight / 2 && (re.winlines[ue].yOffset = Math.floor(r.symbolSlotHeight / 2)), re.winlines[ue].yOffset < -r.symbolSlotHeight / 2 && (re.winlines[ue].yOffset = -Math.floor(r.symbolSlotHeight / 2)), p(!0), !se) return void te();
                    if (ae(), le)
                        for (var t = 0; t < re.winlines.length; t++) y(t, 0, V, X, 0), v(t, 0, H, X, 6710886);
                    x(ue + 1, 0), e.preventDefault()
                }

                function F(e) {
                    e ? (se && window.removeEventListener("keydown", N), window.addEventListener("keydown", N, !1), x(ue + 1, 0), se = !0) : (window.removeEventListener("keydown", N), se = !1), k(se)
                }
                var j, G, U = new e.Container,
                    X = 1,
                    W = 1,
                    H = 4,
                    V = 8,
                    Y = 0,
                    z = "square",
                    q = !1,
                    J = t(r, null),
                    K = J.getContainer(),
                    $ = J.getLimitedAccess(),
                    Z = {},
                    Q = $.clearAnimations;
                $.clearAnimations = function() {
                    Z = {}, Q()
                };
                var ee = $.setCellAnimation;
                $.setCellAnimation = function(e, t, n, r, i) {
                    0 === r && void 0 !== ie[e] && (Z[ie[e]] = !0), ee(e, t, n, r, i)
                };
                var te = function() {
                        j ? q && (q = !1, j.cacheAsBitmap = !1, j.clear()) : (j = new e.Graphics, U.addChild(j), U.addChild(K)), G && (U.removeChild(G), G = null)
                    },
                    ne = [],
                    re = i,
                    ie = {};
                ! function() {
                    ne = c(), p(), d(r.locationsMap)
                }();
                var oe, ae, se = !1,
                    ue = 0,
                    le = !1,
                    ce = !1;
                return {
                    drawWinline: x,
                    drawHighlightOutcome: T,
                    drawHighlightOutcomeWithWinBox: w,
                    drawSpaghetti: b,
                    drawBoxes: S,
                    drawBoxesFromLocations: E,
                    drawBoxesFromLocationsWithWinBox: C,
                    setLineCap: A,
                    clear: te,
                    done: a,
                    show: P,
                    getContainer: function() {
                        return U
                    },
                    getWinline: O,
                    setLineThickness: M,
                    setOpacity: I,
                    setBoxMode: R,
                    setBoxPadding: D,
                    getHalfbrightColour: f,
                    getAnimationLayer: L,
                    editLines: F
                }
            }
        }), define("game/WinlineAnimController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/component/phoenixReel/winline", "skbJet/component/gladPixiRenderer/Sprite", "skbJet/component/currencyHelper/currencyHelper", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "game/AutoSpinController", "game/WinHelper", "com/pixijs/pixi"], function(e, t, n, r, i, o, a, s, u) {
            function l() {
                return fe = window.location.search.match(/&?assetPack=([^&]+)&?/)[1], "mobile" === fe || "tablet" === fe ? d() : "desktop" === fe ? h() : "desktopmini" === fe || "tabletmini" === fe ? c() : void 0
            }

            function c() {
                return {
                    winlines: [{
                        id: "Line 1",
                        locations: [1, 4, 7, 10, 13],
                        colour: "0XD8B8D8",
                        backgroundColour: "0X846E84",
                        leftToRight: 1,
                        yOffset: -1
                    }, {
                        id: "Line 2",
                        locations: [0, 3, 6, 9, 12],
                        colour: "0XD88A24",
                        backgroundColour: "0X84591E",
                        leftToRight: 1,
                        yOffset: 7
                    }, {
                        id: "Line 3",
                        locations: [2, 5, 8, 11, 14],
                        colour: "0XD825D8",
                        backgroundColour: "0X841E84",
                        leftToRight: 1,
                        yOffset: -7
                    }, {
                        id: "Line 4",
                        locations: [0, 4, 8, 10, 12],
                        colour: "0XD82E2E",
                        backgroundColour: "0X841E1E",
                        leftToRight: 1,
                        yOffset: -29
                    }, {
                        id: "Line 5",
                        locations: [2, 4, 6, 10, 14],
                        colour: "0X764DD8",
                        backgroundColour: "0X473284",
                        leftToRight: 1,
                        yOffset: 30
                    }, {
                        id: "Line 6",
                        locations: [0, 3, 7, 11, 14],
                        colour: "0XD8BB2E",
                        backgroundColour: "0X84731E",
                        leftToRight: 1,
                        yOffset: 25
                    }, {
                        id: "Line 7",
                        locations: [2, 5, 7, 9, 12],
                        colour: "0XD875D8",
                        backgroundColour: "0X844684",
                        leftToRight: 1,
                        yOffset: -25
                    }, {
                        id: "Line 8",
                        locations: [1, 3, 7, 11, 13],
                        colour: "0XD892D8",
                        backgroundColour: "0X845A84",
                        leftToRight: 1,
                        yOffset: 23
                    }, {
                        id: "Line 9",
                        locations: [13, 9, 7, 5, 1],
                        colour: "0X76D84E",
                        backgroundColour: "0X468432",
                        leftToRight: 0,
                        yOffset: 22
                    }, {
                        id: "Line 10",
                        locations: [0, 4, 7, 10, 14],
                        colour: "0XD86A30",
                        backgroundColour: "0X84401E",
                        leftToRight: 1,
                        yOffset: 8
                    }, {
                        id: "Line 11",
                        locations: [2, 4, 7, 10, 12],
                        colour: "0X9330D8",
                        backgroundColour: "0X5B1E84",
                        leftToRight: 1,
                        yOffset: 11
                    }, {
                        id: "Line 12",
                        locations: [1, 3, 6, 10, 14],
                        colour: "0XD8D8B1",
                        backgroundColour: "0X848469",
                        leftToRight: 1,
                        yOffset: -25
                    }, {
                        id: "Line 13",
                        locations: [12, 10, 8, 5, 1],
                        colour: "0X2F92D8",
                        backgroundColour: "0X1E5B84",
                        leftToRight: 0,
                        yOffset: -1
                    }, {
                        id: "Line 14",
                        locations: [14, 10, 6, 4, 1],
                        colour: "0X44A544",
                        backgroundColour: "0X1E461E",
                        leftToRight: 0,
                        yOffset: 22
                    }, {
                        id: "Line 15",
                        locations: [12, 10, 8, 4, 1],
                        colour: "0X4F74D9",
                        backgroundColour: "0X314784",
                        leftToRight: 0,
                        yOffset: -26
                    }, {
                        id: "Line 16",
                        locations: [13, 11, 7, 3, 0],
                        colour: "0X70CBCB",
                        backgroundColour: "0X4D8B8B",
                        leftToRight: 0,
                        yOffset: -25
                    }, {
                        id: "Line 17",
                        locations: [13, 9, 7, 5, 2],
                        colour: "0X66CC84",
                        backgroundColour: "0X46845A",
                        leftToRight: 0,
                        yOffset: -2
                    }, {
                        id: "Line 18",
                        locations: [14, 11, 7, 3, 1],
                        colour: "0X5EB249",
                        backgroundColour: "0X3A6E2C",
                        leftToRight: 0,
                        yOffset: -26
                    }, {
                        id: "Line 19",
                        locations: [12, 9, 7, 5, 1],
                        colour: "0X48A2BF",
                        backgroundColour: "0X327084",
                        leftToRight: 0,
                        yOffset: 22
                    }, {
                        id: "Line 20",
                        locations: [14, 10, 6, 3, 0],
                        colour: "0X4DA542",
                        backgroundColour: "0X2C5A26",
                        leftToRight: 0,
                        yOffset: -2
                    }],
                    leftx: -20,
                    rightx: 662,
                    shortenright: 40,
                    shortenleft: 40
                }
            }

            function h() {
                return {
                    winlines: [{
                        id: "Line 1",
                        locations: [1, 4, 7, 10, 13],
                        colour: "0XD8B8D8",
                        backgroundColour: "0X846E84",
                        leftToRight: 1,
                        yOffset: 0
                    }, {
                        id: "Line 2",
                        locations: [0, 3, 6, 9, 12],
                        colour: "0XD88A24",
                        backgroundColour: "0X84591E",
                        leftToRight: 1,
                        yOffset: 23
                    }, {
                        id: "Line 3",
                        locations: [2, 5, 8, 11, 14],
                        colour: "0XD825D8",
                        backgroundColour: "0X841E84",
                        leftToRight: 1,
                        yOffset: -26
                    }, {
                        id: "Line 4",
                        locations: [0, 4, 8, 10, 12],
                        colour: "0XD82E2E",
                        backgroundColour: "0X841E1E",
                        leftToRight: 1,
                        yOffset: -90
                    }, {
                        id: "Line 5",
                        locations: [2, 4, 6, 10, 14],
                        colour: "0X764DD8",
                        backgroundColour: "0X473284",
                        leftToRight: 1,
                        yOffset: 100
                    }, {
                        id: "Line 6",
                        locations: [0, 3, 7, 11, 14],
                        colour: "0XD8BB2E",
                        backgroundColour: "0X84731E",
                        leftToRight: 1,
                        yOffset: 80
                    }, {
                        id: "Line 7",
                        locations: [2, 5, 7, 9, 12],
                        colour: "0XD875D8",
                        backgroundColour: "0X844684",
                        leftToRight: 1,
                        yOffset: -80
                    }, {
                        id: "Line 8",
                        locations: [1, 3, 7, 11, 13],
                        colour: "0XD892D8",
                        backgroundColour: "0X845A84",
                        leftToRight: 1,
                        yOffset: 70
                    }, {
                        id: "Line 9",
                        locations: [13, 9, 7, 5, 1],
                        colour: "0X76D84E",
                        backgroundColour: "0X468432",
                        leftToRight: 0,
                        yOffset: 74
                    }, {
                        id: "Line 10",
                        locations: [0, 4, 7, 10, 14],
                        colour: "0XD86A30",
                        backgroundColour: "0X84401E",
                        leftToRight: 1,
                        yOffset: -35
                    }, {
                        id: "Line 11",
                        locations: [2, 4, 7, 10, 12],
                        colour: "0X9330D8",
                        backgroundColour: "0X5B1E84",
                        leftToRight: 1,
                        yOffset: 44
                    }, {
                        id: "Line 12",
                        locations: [1, 3, 6, 10, 14],
                        colour: "0XD8D8B1",
                        backgroundColour: "0X848469",
                        leftToRight: 1,
                        yOffset: -70
                    }, {
                        id: "Line 13",
                        locations: [12, 10, 8, 5, 1],
                        colour: "0X2F92D8",
                        backgroundColour: "0X1E5B84",
                        leftToRight: 0,
                        yOffset: -10
                    }, {
                        id: "Line 14",
                        locations: [14, 10, 6, 4, 1],
                        colour: "0X44A544",
                        backgroundColour: "0X1E461E",
                        leftToRight: 0,
                        yOffset: 74
                    }, {
                        id: "Line 15",
                        locations: [12, 10, 8, 4, 1],
                        colour: "0X4F74D9",
                        backgroundColour: "0X314784",
                        leftToRight: 0,
                        yOffset: -76
                    }, {
                        id: "Line 16",
                        locations: [13, 11, 7, 3, 0],
                        colour: "0X70CBCB",
                        backgroundColour: "0X4D8B8B",
                        leftToRight: 0,
                        yOffset: -64
                    }, {
                        id: "Line 17",
                        locations: [13, 9, 7, 5, 2],
                        colour: "0X66CC84",
                        backgroundColour: "0X46845A",
                        leftToRight: 0,
                        yOffset: 0
                    }, {
                        id: "Line 18",
                        locations: [14, 11, 7, 3, 1],
                        colour: "0X5EB249",
                        backgroundColour: "0X3A6E2C",
                        leftToRight: 0,
                        yOffset: -57
                    }, {
                        id: "Line 19",
                        locations: [12, 9, 7, 5, 1],
                        colour: "0X48A2BF",
                        backgroundColour: "0X327084",
                        leftToRight: 0,
                        yOffset: 60
                    }, {
                        id: "Line 20",
                        locations: [14, 10, 6, 3, 0],
                        colour: "0X4DA542",
                        backgroundColour: "0X2C5A26",
                        leftToRight: 0,
                        yOffset: 0
                    }],
                    leftx: -20,
                    rightx: 662,
                    shortenright: 40,
                    shortenleft: 40
                }
            }

            function d() {
                return {
                    winlines: [{
                        id: "Line 1",
                        locations: [1, 4, 7, 10, 13],
                        colour: "0XD8B8D8",
                        backgroundColour: "0X846E84",
                        leftToRight: 1,
                        yOffset: 0
                    }, {
                        id: "Line 2",
                        locations: [0, 3, 6, 9, 12],
                        colour: "0XD88A24",
                        backgroundColour: "0X84591E",
                        leftToRight: 1,
                        yOffset: 13
                    }, {
                        id: "Line 3",
                        locations: [2, 5, 8, 11, 14],
                        colour: "0XD825D8",
                        backgroundColour: "0X841E84",
                        leftToRight: 1,
                        yOffset: -10
                    }, {
                        id: "Line 4",
                        locations: [0, 4, 8, 10, 12],
                        colour: "0XD82E2E",
                        backgroundColour: "0X841E1E",
                        leftToRight: 1,
                        yOffset: -44
                    }, {
                        id: "Line 5",
                        locations: [2, 4, 6, 10, 14],
                        colour: "0X764DD8",
                        backgroundColour: "0X473284",
                        leftToRight: 1,
                        yOffset: 45
                    }, {
                        id: "Line 6",
                        locations: [0, 3, 7, 11, 14],
                        colour: "0XD8BB2E",
                        backgroundColour: "0X84731E",
                        leftToRight: 1,
                        yOffset: 40
                    }, {
                        id: "Line 7",
                        locations: [2, 5, 7, 9, 12],
                        colour: "0XD875D8",
                        backgroundColour: "0X844684",
                        leftToRight: 1,
                        yOffset: -39
                    }, {
                        id: "Line 8",
                        locations: [1, 3, 7, 11, 13],
                        colour: "0XD892D8",
                        backgroundColour: "0X845A84",
                        leftToRight: 1,
                        yOffset: 39
                    }, {
                        id: "Line 9",
                        locations: [13, 9, 7, 5, 1],
                        colour: "0X76D84E",
                        backgroundColour: "0X468432",
                        leftToRight: 0,
                        yOffset: 39
                    }, {
                        id: "Line 10",
                        locations: [0, 4, 7, 10, 14],
                        colour: "0XD86A30",
                        backgroundColour: "0X84401E",
                        leftToRight: 1,
                        yOffset: -15
                    }, {
                        id: "Line 11",
                        locations: [2, 4, 7, 10, 12],
                        colour: "0X9330D8",
                        backgroundColour: "0X5B1E84",
                        leftToRight: 1,
                        yOffset: 17
                    }, {
                        id: "Line 12",
                        locations: [1, 3, 6, 10, 14],
                        colour: "0XD8D8B1",
                        backgroundColour: "0X848469",
                        leftToRight: 1,
                        yOffset: -40
                    }, {
                        id: "Line 13",
                        locations: [12, 10, 8, 5, 1],
                        colour: "0X2F92D8",
                        backgroundColour: "0X1E5B84",
                        leftToRight: 0,
                        yOffset: 1
                    }, {
                        id: "Line 14",
                        locations: [14, 10, 6, 4, 1],
                        colour: "0X44A544",
                        backgroundColour: "0X1E461E",
                        leftToRight: 0,
                        yOffset: 37
                    }, {
                        id: "Line 15",
                        locations: [12, 10, 8, 4, 1],
                        colour: "0X4F74D9",
                        backgroundColour: "0X314784",
                        leftToRight: 0,
                        yOffset: -40
                    }, {
                        id: "Line 16",
                        locations: [13, 11, 7, 3, 0],
                        colour: "0X70CBCB",
                        backgroundColour: "0X4D8B8B",
                        leftToRight: 0,
                        yOffset: -40
                    }, {
                        id: "Line 17",
                        locations: [13, 9, 7, 5, 2],
                        colour: "0X66CC84",
                        backgroundColour: "0X46845A",
                        leftToRight: 0,
                        yOffset: 0
                    }, {
                        id: "Line 18",
                        locations: [14, 11, 7, 3, 1],
                        colour: "0X5EB249",
                        backgroundColour: "0X3A6E2C",
                        leftToRight: 0,
                        yOffset: -42
                    }, {
                        id: "Line 19",
                        locations: [12, 9, 7, 5, 1],
                        colour: "0X48A2BF",
                        backgroundColour: "0X327084",
                        leftToRight: 0,
                        yOffset: 41
                    }, {
                        id: "Line 20",
                        locations: [14, 10, 6, 3, 0],
                        colour: "0X4DA542",
                        backgroundColour: "0X2C5A26",
                        leftToRight: 0,
                        yOffset: -2
                    }],
                    leftx: -20,
                    rightx: 662,
                    shortenright: 40,
                    shortenleft: 40
                }
            }

            function f(e) {
                He.leftx = e.basegame.config.options.reels[0].x - 10, Ve.leftx = e.freespin.config.options.reels[0].x - 10, He.rightx = e.basegame.config.options.reels[e.basegame.config.options.reels.length - 1].x + e.basegame.config.symbolSlotWidth + 10, Ve.rightx = e.freespin.config.options.reels[e.freespin.config.options.reels.length - 1].x + e.freespin.config.symbolSlotWidth + 10, Fe = n(t.getPixiRenderer(), e.basegame.config, He), je = n(t.getPixiRenderer(), e.freespin.config, Ve), Xe = Fe.getContainer(), We = je.getContainer(), t.lib._reelFrameLayer.pixiContainer.addChild(Xe), t.lib._reelFrameLayer.pixiContainer.addChild(We), Ee = e.currentStage, F(), Ge = e.basegame.winPresentation, Ue = e.freespin.winPresentation
            }

            function p(e) {
                for (var t = "BaseGame" === Ee ? He : Ve, n = 0; n < t.winlines.length; n++)
                    if (e === t.winlines[n].id) return n + 1
            }

            function m() {
                return "BaseGame" === Ee ? Fe : je
            }

            function g() {
                return "BaseGame" === Ee ? Ge : Ue
            }

            function _() {
                var e = Se.PopulationOutcome;
                Ze = {};
                for (var t = 0; t < e.length; t++)
                    if (e[t]["@stage"] === Ee)
                        for (var n = e[t].Entry, r = 0; r < n.length; r++)
                            for (var i = n[r].Cell, o = 0; o < i.length; o++) {
                                var a = i[o];
                                Ze[a["@name"]] = a["#text"]
                            }
            }

            function y() {
                if (!Qe) {
                    var e = Se.HighlightOutcome;
                    Qe = [];
                    for (var t = null, n = [], r = 0; r < e.length; r++)
                        if (e[r].Highlight && 0 === e[r]["@name"].indexOf(Ee))
                            if (e[r]["@name"].match(/Lines$/)) {
                                var i = e[r].Highlight;
                                Array.isArray(i) || (i = [i]);
                                for (var o = 0; o < i.length; o++) {
                                    for (var a = new Array(i[o].Cell.length), u = 0; u < i[o].Cell.length; u++) a[u] = i[o].Cell[u]["@name"];
                                    n.push({
                                        mode: "line",
                                        line: p(i[o]["@name"]),
                                        boxLocations: a
                                    })
                                }
                            } else if (e[r]["@name"].match(/Scatter$/)) {
                        t = {
                            mode: "scatter",
                            boxLocations: []
                        };
                        for (var l = 0; l < e[r].Highlight.Cell.length; l++) t.boxLocations.push(e[r].Highlight.Cell[l]["@name"])
                    }
                    if (n.length > 0) {
                        for (var c = {
                                mode: "spag",
                                lines: []
                            }, h = 0; h < n.length; h++) c.lines.push(n[h].line);
                        Qe.push(c)
                    }
                    if (t && Qe.push(t), n.length > 0) {
                        n = n.sort(function(e, t) {
                            return s.getSingleLinePay(me, Ee, Number(t.line)) - s.getSingleLinePay(me, Ee, Number(e.line))
                        });
                        for (var d = 0; d < n.length; d++) Qe.push(n[d])
                    }
                }
            }

            function v(e) {
                var t = [];
                return Ne.forEach(function(n) {
                    e.indexOf(n) < 0 && t.push(n)
                }), t
            }

            function b() {
                x(), T()
            }

            function x() {
                var e = m();
                e.show(!1), e.clear()
            }

            function T() {
                var e = g();
                e.stopAnimating(), Ne.forEach(function(t) {
                    e.setCellAnimation(t, ["glow"], .1, 1)
                })
            }

            function w(e) {
                if (Te = !1, "spag" !== Qe[e].mode)
                    for (var t = Qe[e].boxLocations, n = 0; n < t.length; n++) {
                        var r = t[n],
                            i = Ze[r].toUpperCase();
                        if ("B01" === i || "W01" === i) {
                            Te = !0;
                            break
                        }
                    }
            }

            function S(e) {
                var t = g();
                t.resetAnimations(), xe = !1;
                var n = !0;
                if (me) var i = Number(s.getCurBasePay(me)),
                    o = s.calculateTotalBet(),
                    n = i > o;
                for (var a = 0; a < e.length; a++) {
                    var u = e[a],
                        l = E(u, e);
                    if ("B01" === l.substring(0, 3) || "W01" === l.substring(0, 3)) {
                        var c = r.getSpriteSheetAnimationFrameArray(l),
                            h = .4;
                        n || !$e || "B01" === l.substring(0, 3) ? (t.setCellAnimation(u, c, h, 0), xe = !0) : (c = ["W01BaseGame_0036"], h = 0, t.setCellAnimation(u, c, h, 0), xe = !0)
                    }
                }
                v(e).forEach(function(e) {
                    t.setCellAnimation(e, ["glow"], .1, 1)
                }), t.startAnimating()
            }

            function E(e, t) {
                var n, r = Ze[e].toUpperCase();
                return "B01" === r && (n = t.length < 3 ? "B01Scatter" : "B01Bonus"), "W01" === r && (t.every(A) ? n = "W01Normal" : t.some(A) && (n = r)), n += Ee
            }

            function C(e) {
                e.setLineCap("round"), e.setBoxMode("square"), "desktop" !== fe ? (e.setLineThickness(3, 7), Ke = 7) : (e.setLineThickness(6, 14), Ke = 14)
            }

            function P() {
                var n = m();
                if (C(n), g().resetAnimations(), Qe && Qe.length > 0) {
                    if (++et > 0 && 0 == (et %= Qe.length) && !Le) return X(), void e.publish("WinlineAnimComplete");
                    e.publish("drawWinline", Qe[et]), n.show(!0);
                    var r = Qe[et].boxLocations;
                    w(et);
                    var i = 0;
                    i = "FreeSpin" === Ee ? Number(s.getPerWinInBonusGame(me)) : Number(s.getCurBasePay(me));
                    var o, a = s.calculateTotalBet(),
                        u = i > a;
                    switch (o = be ? Ie : !Te || !u && $e ? Ie : Ae, Qe.some(function(e) {
                        return "spag" === e.mode
                    }) && (we = t.getTimer().setTimeout(b, o)), Qe[et].mode) {
                        case "spag":
                            n.drawSpaghetti(Qe[et].lines);
                            var l = I();
                            l && n.drawBoxesFromLocations(l, "0XFFA6A6", "0XFF0000"), ve = !0, be = !1, xe = !1;
                            break;
                        case "line":
                            var c = Number(Qe[et].line);
                            L(c, me), S(r), B(c), "bigwin" !== ye && O(r), be = et === Qe.length - 1, ve = !1;
                            break;
                        case "scatter":
                            k(r, me), S(r), "bigwin" !== ye && M(), ve = !1, be = !1
                    }
                }
            }

            function O(e) {
                if (Be.line) {
                    if ("BaseGame" === Ee) {
                        if (e.every(A)) o.play("Wild2", 5), o.play("S01", 3);
                        else if (e.some(A)) {
                            var t = Number(s.getCurBasePay(me)),
                                n = s.calculateTotalBet(),
                                r = t > n;
                            !r && $e || (o.play("Wild1", 5), o.play("S01", 3))
                        }
                    } else if (e.some(A)) {
                        var i = "BonusLevel" + Ye + "S01";
                        o.play(i, 3)
                    }
                    Be.line = !1
                }
            }

            function A(e) {
                return "W01" === Ze[e].toUpperCase()
            }

            function M() {
                if (Be.scatter) {
                    if ("BaseGame" === Ee) o.play("Scatter", 3);
                    else {
                        var e = "BonusLevel" + Ye + "Scatter";
                        o.play(e, 3)
                    }
                    Be.scatter = !1
                }
            }

            function I() {
                for (var e = 0; e < Qe.length; e++)
                    if ("scatter" === Qe[e].mode) return Qe[e].boxLocations
            }

            function R() {
                for (var e = 0; e < Qe.length; e++)
                    if ("spag" === Qe[e].mode) return Qe[e].lines
            }

            function D(e) {
                for (var n = parseInt(e.textStyle.fontSize), r = Number(t.lib._reels_0_0._currentStyle._width) - 2 * Ke, i = new u.Text(e.displayText, e.textStyle), o = Number(i.width); o > r && !((n = parseInt(n) - 1) < 3);) e.textStyle.fontSize = n, i = new u.Text(e.displayText, e.textStyle), o = Number(i.width)
            }

            function L(e, t) {
                var n = {};
                n = "desktop" !== fe ? {
                    height: 22,
                    fontSize: "16px"
                } : {
                    height: 46,
                    fontSize: "32px"
                };
                var r = m(),
                    o = N(e),
                    a = o.Cell[o.Cell.length - 1]["@name"],
                    u = s.getSingleLinePay(t, Ee, e),
                    l = i.formatBalance(u),
                    c = {
                        location: a,
                        height: n.height,
                        backgroundColor: "0X000000",
                        opacity: "0.7",
                        textStyle: {
                            fontWeight: "bold",
                            fontFamily: "Arial",
                            fontSize: n.fontSize,
                            fill: "#FFFFFF",
                            align: "center",
                            lineHeight: parseInt(n.fontSize)
                        },
                        displayText: l
                    };
                D(c), r.drawHighlightOutcomeWithWinBox(o, c)
            }

            function k(e, t) {
                var n = {};
                n = "desktop" !== fe ? {
                    height: 22,
                    fontSize: "16px"
                } : {
                    height: 46,
                    fontSize: "32px"
                };
                var r, o = m(),
                    a = e[e.length - 1];
                r = pe ? s.getCurBonusPay(t) : s.getScatterPay(t, Ee);
                var u = i.formatBalance(r),
                    l = {
                        location: a,
                        height: n.height,
                        backgroundColor: "0X000000",
                        opacity: "0.7",
                        textStyle: {
                            fontWeight: "bold",
                            fontFamily: "Arial",
                            fontSize: n.fontSize,
                            fill: "#FFFFFF",
                            align: "center",
                            lineHeight: parseInt(n.fontSize)
                        },
                        displayText: u
                    };
                D(l), o.drawBoxesFromLocationsWithWinBox(e, "0XFFA6A6", "0XFF0000", l)
            }

            function B(e) {
                if (("FreeSpin" === Ee ? Number(s.getPerWinInBonusGame(me)) : Number(s.getCurBasePay(me))) > s.calculateTotalBet() || !$e) {
                    e--;
                    var n = e < 10 ? "0" + e : e;
                    t.lib["_pipAnim_" + n].show(!0), t.lib["_pipAnim_" + n].gotoAndPlay("PipAnim", 1, !1)
                }
            }

            function N(e) {
                for (var t = Se.HighlightOutcome, n = [], r = 0; r < t.length; r++) {
                    var i = t[r]["@name"];
                    if (0 === i.indexOf(Ee) && i.match(/Lines$/)) {
                        n = t[r].Highlight, Array.isArray(n) || (n = [n]);
                        for (var o = 0; o < n.length; o++)
                            if (n[o]["@name"] === "Line " + e) return n[o]
                    }
                }
            }

            function F() {
                "BaseGame" === Ee ? (Xe.visible = !0, We.visible = !1) : (Xe.visible = !1, We.visible = !0)
            }

            function j() {
                return Qe.some(function(e) {
                    return "spag" === e.mode
                })
            }

            function G(n) {
                switch (ye) {
                    case "maxwin":
                        n || (Oe = t.getTimer().setTimeout(function() {
                            e.publish("WinlineAnimComplete"), ke && t.lib._dialogLayer.show(!1)
                        }, De));
                        break;
                    case "nowin":
                        n || (Pe = t.getTimer().setTimeout(function() {
                            e.publish("WinlineAnimComplete")
                        }, Re));
                        break;
                    default:
                        var r = m();
                        Le = n, r.clear(), y(), _(), r.show(!0), tt && t.getTimer().clearTimeout(tt), j() && (be = !0), U()
                }
            }

            function U() {
                P();
                var e = 0;
                e = "FreeSpin" === Ee ? Number(s.getPerWinInBonusGame(me)) : Number(s.getCurBasePay(me));
                var n, r = s.calculateTotalBet(),
                    i = e > r;
                n = ve ? Ie : !xe || !i && $e ? Ie : Ae, tt = t.getTimer().setTimeout(U, n + Me)
            }

            function X() {
                var e = m(),
                    n = g();
                e.clear(), e.show(!1), Qe = null, et = -1, t.getTimer().clearTimeout(we), t.getTimer().clearTimeout(tt), n.resetAnimations()
            }

            function W(e) {
                pe = "FreeSpin" === e.response.OutcomeDetail.Stage && "BaseGame" === e.response.OutcomeDetail.NextStage
            }

            function H(e) {
                e && e.gameConfig && ($e = !!e.gameConfig.rgPresentation && e.gameConfig.rgPresentation), ge = Number(e.serverConfig.denomamount)
            }

            function V(e) {
                _e = e.PaytableResponse.AwardCapInfo.CurrencyCap.AwardCap
            }

            function Y() {
                Ce && t.getTimer().clearTimeout(Ce), Pe && t.getTimer().clearTimeout(Pe), Oe && t.getTimer().clearTimeout(Oe), X(), ee(), o.stopChannel(3), o.stopChannel(5), Q(), pe = !1, ze = !1, qe = !1, Je = !1, ye = null
            }

            function z(e) {
                me = e, $(), ye = s.detectWinType(e), "true" === e.response.FreeSpinOutcome.IncrementTriggered ? Ce = t.getTimer().setTimeout(function() {
                    G(!1), Ce = null
                }, 4e3) : G(!1)
            }

            function q(e) {
                me = e, ye = s.detectWinType(e), "nowin" !== ye && "maxwin" !== ye || (qe = !0), W(e), $(), Je = a.currentAutoSpinState(), G(Je ? !1 : !0)
            }

            function J(e) {
                q(e)
            }

            function K(e) {
                q(e)
            }

            function $() {
                Be = {
                    spag: !0,
                    line: !0,
                    scatter: !0
                }
            }

            function Z(e) {
                Se = e.response, Q()
            }

            function Q() {
                for (var e = 0; e < 20; e++) {
                    var n = e < 10 ? "0" + e : e;
                    t.lib["_pipAnim_" + n].show(!1)
                }
            }

            function ee() {
                for (var e = 0; e < 20; e++) {
                    var n = e < 10 ? "0" + e : e;
                    t.lib["_pipAnim_" + n].stopPlay()
                }
            }

            function te(e) {
                Se = e.response, Ee = Se.OutcomeDetail.Stage, Qe = null
            }

            function ne(e) {
                ke = !0, ye = s.detectWinType(e), "FreeSpin" === e.response.OutcomeDetail.NextStage ? re() : (me = e, $(), G(!1))
            }

            function re() {
                var e = m();
                if (e.clear(), g().resetAnimations(), y(), _(), C(e), e.show(!0), R() && e.drawSpaghetti(R()), I()) {
                    var t = I();
                    e.drawBoxesFromLocations(t, "0XFFA6A6", "0XFF0000"), S(t)
                }
            }

            function ie(e) {
                ke = !1, X(), Se = e.response, Ee = Se.OutcomeDetail.NextStage, F()
            }

            function oe() {
                e.publish("nextState")
            }

            function ae() {
                "FreeSpin" === Ee ? ke ? (o.play("BonusExit"), o.play("BonusVOTerm", 2), t.getTimer().setTimeout(oe, 3500)) : oe() : (ze = !0, Je = a.currentAutoSpinState(), ze && qe && Je && oe())
            }

            function se(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && ne(e), "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && ie(e)
            }

            function ue(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && ie(e)
            }

            function le() {
                X()
            }

            function ce() {
                if (y(), Qe && 0 !== Qe.length) {
                    if (Se && "true" === Se.AwardCapOutcome.AwardCapExceeded) return De;
                    for (var e = 0 - Me, t = 0; t < Qe.length; t++) switch (Qe[t].mode) {
                        case "spag":
                            e += Ie + Me;
                            break;
                        case "line":
                        case "scatter":
                            e += Ae + Me
                    }
                    return e
                }
                return Re
            }

            function he(e) {
                Ye = e
            }

            function de() {
                qe = !0, Je = a.currentAutoSpinState(), ze && qe && Je && oe()
            }
            var fe, pe, me, ge, _e, ye, ve, be, xe, Te, we, Se = null,
                Ee = null,
                Ce = null,
                Pe = null,
                Oe = null,
                Ae = 3100,
                Me = 300,
                Ie = 1e3,
                Re = 1200,
                De = 3e3,
                Le = !0,
                ke = !1,
                Be = {
                    spag: !0,
                    line: !0,
                    scatter: !0
                },
                Ne = ["L0C0R0", "L0C1R0", "L0C2R0", "L0C3R0", "L0C4R0", "L0C0R1", "L0C1R1", "L0C2R1", "L0C3R1", "L0C4R1", "L0C0R2", "L0C1R2", "L0C2R2", "L0C3R2", "L0C4R2"],
                Fe = null,
                je = null,
                Ge = null,
                Ue = null,
                Xe = null,
                We = null,
                He = l(),
                Ve = l(),
                Ye = 0,
                ze = !1,
                qe = !1,
                Je = !1,
                Ke = 0,
                $e = !1,
                Ze = null,
                Qe = null,
                et = -1,
                tt = null;
            return e.subscribe("platformMsg/Kernel/System.Init", H), e.subscribe("platformMsg/ClientService/Game.Init", V), e.subscribe("onResolveStage", te), e.subscribe("onInProgressStage", z), e.subscribe("base2BaseReelStop", J), e.subscribe("returnToBaseGame", K), e.subscribe("onBeforeRequest", Y), e.subscribe("onExitStage", ne), e.subscribe("onEnterNextStage", ie), e.subscribe("onBeforeShowStage", Z), e.subscribe("RollUp.Stopped", de), e.subscribe("WinlineAnimComplete", ae), e.subscribe("onStartGameInProgressStage", se), e.subscribe("onStartGameInProgressNextStage", ue), e.subscribe("onBetControlButtonClicked", le), e.subscribe("ReelController.currentFreeSpinLevelChange", he), {
                init: f,
                start: G,
                stop: X,
                setWinlineStyle: C,
                getCurWinline: m,
                caculateWinLineAnimTime: ce
            }
        }), define("game/BetController", ["com/pixijs/pixi", "skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/component/currencyHelper/currencyHelper", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "game/AutoSpinController", "game/WinlineAnimController", "game/ButtonHelper"], function(e, t, n, r, i, o, a, s, u) {
            function l(t, n) {
                e.utils.TextureCache[n + "Over"] && (t.on("mouseover", function() {
                    var e = t.getImage();
                    e && e.match(/Inactive$/) || t.setImage(n + "Over")
                }), t.on("mouseout", function() {
                    var e = t.getImage();
                    e && e.match(/Inactive$/) || t.setImage(n)
                })), t.on("mousedown", function() {
                    var e = t.getImage();
                    e && e.match(/Inactive$/) || t.setImage(n + "Pressed")
                }), t.on("mouseup", function() {
                    var e = t.getImage();
                    e && e.match(/Inactive$/) || t.setImage(n)
                })
            }

            function c(e) {
                me = Number(e.serverConfig.denomamount), _e = e.serverConfig.presenttype, "freespin" === e.serverConfig.paramGame.playMode && (Se = !0, pe = Number(e.serverConfig.freespin_bet) / me, fe = Number(e.serverConfig.freespin_lines), t.publish("onBetConfigChanged", {
                    betPerPattern: pe,
                    patternsBet: fe
                })), "desktop" !== e.serverConfig.paramGame.assetPack && (Ee = !0)
            }

            function h(e) {
                xe = e.PaytableResponse.PatternSliderInfo.PatternInfo.Step, Array.isArray(xe) || (xe = [xe]), Te = xe.length, ye = e.PaytableResponse.PatternSliderInfo.BetInfo.Step, Array.isArray(ye) || (ye = [ye]), ve = ye.length, k(), D(), L(), d(e)
            }

            function d(e) {
                if (!Se && e && e.GameLogicResponse) {
                    var t = e.GameLogicResponse;
                    f(t), _(t)
                }
            }

            function f(e) {
                e.PatternSliderInput && e.PatternSliderInput.BetPerPattern ? (pe = Number(e.PatternSliderInput.BetPerPattern), m() && p()) : p()
            }

            function p() {
                pe = Number(ye[0])
            }

            function m() {
                return -1 === ye.indexOf(pe + "")
            }

            function g() {
                return -1 === xe.indexOf(fe + "")
            }

            function _(e) {
                e.PatternSliderInput && e.PatternSliderInput.PatternsBet ? (fe = Number(e.PatternSliderInput.PatternsBet), g() && y()) : y()
            }

            function y() {
                fe = Number(xe[xe.length - 1])
            }

            function v(e) {
                B(), N(), F(), be = ye.indexOf(pe + "") + 1, we = xe.indexOf(fe + "") + 1, Z({
                    countWhiteSquare4Lines: we,
                    countWhiteSquare4LineBet: be
                }), n.lib._betControlDialog && n.lib._betControlDialog.show(!1), n.lib._betControlButton && ("BaseGame" === e.response.OutcomeDetail.NextStage ? (n.lib._betControlButton.show(!0), "MIN" === _e && n.lib._betControlButton.setImage("buttonSettings")) : (n.lib._betControlButton.show(!1), "MIN" === _e && (n.lib._betControlButton.show(!0), n.lib._betControlButton.setImage("buttonSettingsInactive")))), Se ? n.lib._betPrompt && n.lib._betPrompt.show(!1) : n.lib._betPrompt && A()
            }

            function b() {
                W()
            }

            function x(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && (n.lib._betControlButton && (n.lib._betControlButton.show(!1), "MIN" === _e && (n.lib._betControlButton.show(!0), n.lib._betControlButton.setImage("buttonSettingsInactive"))), n.lib._betPrompt && n.lib._betPrompt.show(!1), n.lib._betControlDialog && n.lib._betControlDialog.show(!1), H(), U())
            }

            function T() {
                X(), t.publish("nextState")
            }

            function w() {
                n.lib._betControlButton && !a.currentAutoSpinState() && (n.lib._betControlButton.show(!0), "MIN" === _e && n.lib._betControlButton.setImage("buttonSettings")), Se || a.currentAutoSpinState() || (V(), Z({
                    countWhiteSquare4Lines: we,
                    countWhiteSquare4LineBet: be
                }))
            }

            function S(e) {
                n.lib._betControlButton || te(e)
            }

            function E(e) {
                "betPerPattern" === e.option && (be = ye.indexOf(e.value) + 1, Z({
                    countWhiteSquare4LineBet: be
                }), F(), t.publish("onBetControlButtonClicked")), "patternsBet" === e.option && (we = xe.indexOf(e.value) + 1, Z({
                    countWhiteSquare4Lines: we
                }), I(fe), M(), F(), t.publish("onBetControlButtonClicked"))
            }

            function C(e) {
                n.lib._betPrompt && n.lib._betPrompt.show(!1), n.lib._betControlButton && (n.lib._betControlButton.show(!1), "MIN" === _e && (n.lib._betControlButton.show(!0), n.lib._betControlButton.setImage("buttonSettingsInactive"))),
                    n.lib._betControlDialog && n.lib._betControlDialog.show(!1), I(fe), H(), G(), "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && S(e)
            }

            function P(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && S(e)
            }

            function O(e) {
                "BaseGame" === e.nextStage && (n.lib._betControlButton && (n.lib._betControlButton.show(!0), "MIN" === _e && n.lib._betControlButton.setImage("buttonSettings")), V())
            }

            function A() {
                n.lib._betPromptMsg.autoFontFitText = !0, n.lib._betPromptMsg.setText(i.i18n.Game.betPrompt);
                var t = r.formatFloat(n.lib._betPromptMsg.getTextWidth());
                "MIN" !== _e && t > 560 && (t = 560);
                var o = t + 20;
                n.lib._betPromptMsg.updateCurrentStyle({
                    _width: t
                });
                var a = new e.Graphics;
                if (a.beginFill(0, .75), "MIN" === _e) {
                    var s = Number(n.lib._betPrompt._currentStyle._width) - o;
                    n.lib._betPromptMsg.updateCurrentStyle({
                        _left: s
                    }), a.x = s, a.lineStyle(3, 0)
                } else a.lineStyle(3, 16763904);
                a.drawRoundedRect(0, 0, o, n.lib._betPromptBG._currentStyle._height, 5), a.endFill(), n.lib._betPromptBG.pixiContainer.addChild(a), n.lib._betPrompt.show(!0), n.lib._betPromptAngle.show(!0), n.lib._betPromptMsg.show(!0), n.lib._betPromptBG.show(!0)
            }

            function M() {
                if (!n.lib._betControlButton) {
                    var e = s.getCurWinline();
                    s.setWinlineStyle(e), e.show(!0);
                    for (var t = [], r = Number(xe[we - 1]), i = 1; i <= r; i++) t.push(i);
                    e.drawSpaghetti(t)
                }
            }

            function I(e) {
                for (var t = Number(xe[Te - 1]), r = 0; r < t; r++) {
                    var i = R(r),
                        o = R(r + 1);
                    r < e ? (n.lib["_pip_" + i].setImage("Pip_" + o), n.lib["_pip_" + i].updateCurrentStyle({
                        _opacity: 1
                    })) : (n.lib["_pip_" + i].setImage("Pip_inactive"), n.lib["_pip_" + i].updateCurrentStyle({
                        _opacity: .6
                    }))
                }
            }

            function R(e) {
                return e < 10 ? "0" + e : e
            }

            function D() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Register",
                    data: {
                        options: [{
                            type: "list",
                            name: "betPerPattern",
                            text: i.i18n.Game.consoleBetPerPattern,
                            enabled: 1,
                            value: ye[0],
                            valueText: ye.map(function(e) {
                                return r.formatBalance(Number(e) * me)
                            }),
                            values: ye
                        }]
                    }
                })
            }

            function L() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Register",
                    data: {
                        options: [{
                            type: "list",
                            name: "patternsBet",
                            text: i.i18n.Game.consoleLines,
                            enabled: 1,
                            valueText: xe,
                            values: xe,
                            value: xe[Te - 1]
                        }]
                    }
                })
            }

            function k() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Register",
                    data: {
                        options: [{
                            name: "stake",
                            text: i.i18n.Game.consoleStake,
                            type: "stake",
                            enabled: 0,
                            value: 0,
                            valueText: "0"
                        }]
                    }
                })
            }

            function B() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "patternsBet",
                        event: "change",
                        params: [fe]
                    }
                })
            }

            function N() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "betPerPattern",
                        event: "change",
                        params: [pe]
                    }
                })
            }

            function F() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "stake",
                        event: "change",
                        params: [ie(), r.formatBalance(ie())]
                    }
                })
            }

            function j() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "betPerPattern",
                        event: "enable",
                        params: [1]
                    }
                }), t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "patternsBet",
                        event: "enable",
                        params: [1]
                    }
                })
            }

            function G() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "betPerPattern",
                        event: "enable",
                        params: [0]
                    }
                }), t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "patternsBet",
                        event: "enable",
                        params: [0]
                    }
                })
            }

            function U() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.DeductStake",
                    data: ie()
                })
            }

            function X() {
                t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.PlayData",
                    data: {
                        ActionInput: {
                            Action: "play"
                        },
                        PatternSliderInput: {
                            BetPerPattern: pe,
                            PatternsBet: fe
                        }
                    }
                })
            }

            function W() {
                n.lib._betControlButton && (n.lib._betControlButton.on("click", Y), l(n.lib._betControlButton, "buttonSettings")), n.lib._betPrompt && n.lib._betPrompt.on("click", Y), n.lib._minusBtn4Lines.on("click", z), l(n.lib._minusBtn4Lines, "arrowMinus"), n.lib._plusBtn4Lines.on("click", q), l(n.lib._plusBtn4Lines, "arrowPlus"), n.lib._minusBtn4LineBet.on("click", J), l(n.lib._minusBtn4LineBet, "arrowMinus"), n.lib._plusBtn4LineBet.on("click", K), l(n.lib._plusBtn4LineBet, "arrowPlus"), n.lib._okayBtn && (n.lib._okayBtn.on("click", $), l(n.lib._okayBtn, "buttonOk"))
            }

            function H() {
                ge = !0, n.lib._minusBtn4Lines.setImage("arrowMinusInactive"), n.lib._plusBtn4Lines.setImage("arrowPlusInactive"), n.lib._minusBtn4LineBet.setImage("arrowMinusInactive"), n.lib._plusBtn4LineBet.setImage("arrowPlusInactive"), G()
            }

            function V() {
                Se || a.currentAutoSpinState() || (ge = !1, n.lib._betControlButton && (n.lib._betControlButton.setImage("buttonSettings"), n.lib._betControlButton.show(!0)), Q(we, Te, "Lines"), Q(be, ve, "LineBet"), j())
            }

            function Y() {
                if (!u.atSameTime()) {
                    if (n.lib._betControlButton) {
                        if (-1 !== n.lib._betControlButton.getImage().indexOf("Inactive")) return;
                        if ("MIN" !== _e) n.lib._betControlButton.show(!1), n.lib._actionButtonSet.show(!1);
                        else {
                            n.lib._betControlButton.show(!0), n.lib._betControlButton.setImage("buttonSettingsInactive");
                            var e = n.lib._actionButtonSet.sprites;
                            for (var r in e) e[r].show("_inactiveButton" === r)
                        }
                    }
                    n.lib._betPrompt && n.lib._betPrompt.show(!1), n.lib._betControlDialog && n.lib._betControlDialog.show(!0), t.publish("onBetControlButtonClicked"), t.publish("BetController.showBetPanel")
                }
            }

            function z() {
                ge || u.atSameTime() || we <= 1 || (we--, o.play("ButtonLinesDn", 4 + we % 3), t.publish("onBetControlButtonClicked"), Z({
                    countWhiteSquare4Lines: we
                }), I(fe), M(), B(), F())
            }

            function q() {
                ge || u.atSameTime() || we >= Te || (we++, o.play(we >= Te ? "ButtonLinesMax" : "ButtonLinesUp", 4 + we % 3), t.publish("onBetControlButtonClicked"), Z({
                    countWhiteSquare4Lines: we
                }), I(fe), M(), B(), F())
            }

            function J() {
                ge || u.atSameTime() || be <= 1 || (be--, o.play("ButtonBetDn", 4 + be % 3), t.publish("onBetControlButtonClicked"), Z({
                    countWhiteSquare4LineBet: be
                }), N(), F())
            }

            function K() {
                ge || u.atSameTime() || be >= ve || (be++, o.play(be >= ve ? "ButtonBetMax" : "ButtonBetUp", 4 + be % 3), t.publish("onBetControlButtonClicked"), Z({
                    countWhiteSquare4LineBet: be
                }), N(), F())
            }

            function $() {
                u.atSameTime() || (n.lib._betControlDialog && n.lib._betControlDialog.show(!1), n.lib._betControlButton && (n.lib._betControlButton.show(!0), "MIN" === _e && n.lib._betControlButton.setImage("buttonSettings")), n.lib._actionButtonSet.show(!0), n.lib._spinButton.show(!0), n.lib._inactiveButton.show(!1), n.lib._skipButton.show(!1), n.lib._startButton.show(!1), n.lib._networkActivity.show(!1), t.publish("BetController.okayBtnClicked"))
            }

            function Z(e) {
                1 === Te ? (n.lib._changeProgressBox4Lines && n.lib._changeProgressBox4Lines.show(!1), H()) : e.countWhiteSquare4Lines && (Q(we, Te, "Lines"), ee(we, Te, "Lines"), fe = Number(xe[we - 1]), t.publish("onBetConfigChanged", {
                    patternsBet: fe
                })), 1 === ve ? (n.lib._changeProgressBox4LineBet && n.lib._changeProgressBox4LineBet.show(!1), H()) : e.countWhiteSquare4LineBet && (Q(be, ve, "LineBet"), ee(be, ve, "LineBet"), pe = Number(ye[be - 1]), t.publish("onBetConfigChanged", {
                    betPerPattern: pe
                })), n.lib._linesValue.setText(fe + ""), n.lib._lineBetValue.setText(r.formatBalance(pe * me));
                var i = r.formatBalance(ie());
                n.lib._totalBetValue.setText(i), n.lib._betValue.setText(i)
            }

            function Q(e, t, r) {
                e <= 1 ? (n.lib["_plusBtn4" + r].setImage("arrowPlus"), n.lib["_minusBtn4" + r].setImage("arrowMinusInactive")) : e >= t ? (n.lib["_plusBtn4" + r].setImage("arrowPlusInactive"), n.lib["_minusBtn4" + r].setImage("arrowMinus")) : (n.lib["_plusBtn4" + r].setImage("arrowPlus"), n.lib["_minusBtn4" + r].setImage("arrowMinus"))
            }

            function ee(e, t, i) {
                if (Ee) {
                    for (var o = 12 * t, a = r.formatFloat((r.formatFloat(n.lib["_changeProgressBox4" + i]._currentStyle._width) - o) / 2), s = [], u = 0; u < t; u++) s[u] = u < e ? "#FFFFFF" : "#535353";
                    for (var l = 0; l < t; l++) {
                        var c = "_squares4_" + i + l;
                        n.lib[c] ? n.lib[c].updateCurrentStyle({
                            _background: {
                                _color: s[l]
                            }
                        }) : n.lib["_changeProgressBox4" + i].addChildFromData({
                            _id: "_squares4" + i + l,
                            _name: c,
                            _SPRITES: [],
                            _style: {
                                _width: "10",
                                _height: "10",
                                _top: "2",
                                _left: a + 12 * l + "",
                                _background: {
                                    _color: s[l]
                                }
                            }
                        })
                    }
                }
            }

            function te(e) {
                "FreeSpin" === e.response.OutcomeDetail.NextStage ? ne() : re()
            }

            function ne() {
                n.lib._minusBtn4Lines.show(!1), n.lib._plusBtn4Lines.show(!1), n.lib._minusBtn4LineBet.show(!1), n.lib._plusBtn4LineBet.show(!1)
            }

            function re() {
                n.lib._minusBtn4Lines.show(!0), n.lib._plusBtn4Lines.show(!0), n.lib._minusBtn4LineBet.show(!0), n.lib._plusBtn4LineBet.show(!0)
            }

            function ie() {
                return pe * fe * me
            }

            function oe() {
                return fe
            }

            function ae() {
                return pe
            }

            function se() {
                return me
            }

            function ue() {
                V()
            }

            function le(e) {
                e && "Game" === e.channel && "Game.AutoSpinOption" === e.topic && G()
            }

            function ce() {
                j()
            }

            function he() {
                n.lib._betControlButton && n.lib._betControlButton.show(!1), n.lib._betPrompt && n.lib._betPrompt.show(!1)
            }

            function de() {
                n.lib._betControlButton && n.lib._betControlButton.show(!0)
            }
            var fe, pe, me, ge, _e, ye, ve, be, xe, Te, we, Se = !1,
                Ee = !1;
            return t.subscribe("platformMsg/Kernel/System.Init", c), t.subscribe("platformMsg/ClientService/Game.Init", h), t.subscribe("onBeforeShowStage", v), t.subscribe("audioPlayer.playerSelectedWhenGameLaunch", b), t.subscribe("onBeforeRequest", x), t.subscribe("onMakeRequest", T), t.subscribe("onBeginNewGame", w), t.subscribe("onEnterNextStage", S), t.subscribe("platformMsg/ConsoleService/Game.Control", E), t.subscribe("onStartGameInProgressStage", C), t.subscribe("onStartGameInProgressNextStage", P), t.subscribe("onResetNextStage", O), t.subscribe("AutoSpinController.autoSpinEnd", ue), t.subscribe("toPlatformRequest", le), t.subscribe("AutoSpinController.UKAutoSpinCancelled", ce), t.subscribe("AutoSpinController.hideAutoTabpanel", de), t.subscribe("AutoSpinController.showAutoTabpanel", he), {
                calculateTotalBet: ie,
                getCurPatternsBet: oe,
                getCurBetPerPattern: ae,
                getCurDenomamount: se
            }
        }), define("game/RollUp", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "skbJet/component/currencyHelper/currencyHelper"], function(e, t, n, r) {
            function i(e, n) {
                this.spriteName = e, this.isPlaying = !1, this.timeCount = 0, this.totalTime = 0, this.startValue = 0, this.stopValue = 0, this.totalChange = 0, this.timeUnit = n || 1e3, t.animMap["rollUpAnimation" + e] = this
            }
            return i.prototype.start = function(e, t, r) {
                this.isPlaying = !0, this.timeCount = 0, this.startValue = e, this.stopValue = t, this.totalChange = t - e, this.totalChange <= 1 ? this.totalTime = this.timeUnit : this.totalTime = Math.floor((Math.log(this.totalChange) + 1) * this.timeUnit), r && (r.maxTime && r.maxTime < this.totalTime && (this.totalTime = r.maxTime), this.rollUpTermSound = r.rollUpTermSound, r.rollUpSoundChannel || 0 === r.rollUpSoundChannel ? this.rollUpSoundChannel = r.rollUpSoundChannel : this.rollUpSoundChannel = "rollUpSound", r.rollUpSound && this.totalChange > 0 && n.play(r.rollUpSound, this.rollUpSoundChannel, !0))
            }, i.prototype.stop = function(i, o) {
                if (void 0 !== i && (this.stopValue = i), void 0 === o && (o = !0), !1 !== this.isPlaying || i) {
                    var a = this;
                    a.isPlaying = !1;
                    var s = a.stopValue,
                        u = r.formatBalance(s);
                    t.lib[a.spriteName].setText(u), this.rollUpTermSound && this.totalChange > 0 && o ? n.play(this.rollUpTermSound, this.rollUpSoundChannel) : n.play("BaseRollupLow", 7), e.publish("RollUp.Stopped", {
                        spriteName: a.spriteName,
                        value: s,
                        text: u
                    })
                }
            }, i.prototype.updateStyleIfPlaying = function(n) {
                var i = this;
                if (i.isPlaying) {
                    i.timeCount += n;
                    var o = this.startValue + r.formatFloat(i.timeCount / i.totalTime * i.totalChange);
                    if (o >= i.stopValue) return void i.stop();
                    var a = r.formatBalance(o);
                    t.lib[i.spriteName].setText(a), e.publish("RollUp.Update", {
                        spriteName: i.spriteName,
                        value: o,
                        text: a
                    })
                }
            }, i
        }), define("game/BigWinController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "skbJet/component/currencyHelper/currencyHelper", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "game/BetController", "game/RollUp", "game/WinHelper", "game/AutoSpinController"], function(e, t, n, r, i, o, a, s, u) {
            function l(e) {
                E = e.serverConfig.presenttype, C = e.serverConfig.channel, h(), t.lib._bigWinText.setText(i.i18n.Game.bigWin), t.lib._bigWinLayer.show(!1)
            }

            function c(e) {
                S = e.PaytableResponse.AwardCapInfo.CurrencyCap.AwardCap, t.lib._maxAwardNum4BaseGame.setText(r.formatBalance(S)), t.lib._maxAwardNum4FreeSpin.setText(r.formatBalance(S)), t.lib._maxAwardLine1ForBaseGame.setText(i.i18n.Game.Dialog["CONGRATULATIONS!"]), t.lib._maxAwardLine2ForBaseGame.setText(i.i18n.Game.Dialog["YOU WON THE MAX AWARD!"]), t.lib._maxAwardLine1ForFreeSpin.setText(i.i18n.Game.Dialog["CONGRATULATIONS!"]), t.lib._maxAwardLine2ForFreeSpin.setText(i.i18n.Game.Dialog["YOU WON THE MAX AWARD!"]), t.lib._maxAwardLine4ForFreeSpin.setText(i.i18n.Game.Dialog["BONUS COMPLETE"])
            }

            function h() {
                t.lib._bigWinText.autoFontFitText = !0, t.lib._bigWinValue.autoFontFitText = !0, t.lib._maxAwardNum4BaseGame.autoFontFitText = !0, t.lib._maxAwardNum4FreeSpin.autoFontFitText = !0, t.lib._maxAwardLine1ForBaseGame.autoFontFitText = !0, t.lib._maxAwardLine2ForBaseGame.autoFontFitText = !0, t.lib._maxAwardLine1ForFreeSpin.autoFontFitText = !0, t.lib._maxAwardLine2ForFreeSpin.autoFontFitText = !0, t.lib._maxAwardLine4ForFreeSpin.autoFontFitText = !0
            }

            function d(e) {
                t.lib._bigWinLayer.show(!0), R.start(0, e, {
                    rollUpSound: "BigWin",
                    rollUpTermSound: "BigWinEnd",
                    rollUpSoundChannel: 1
                }), t.animMap._bigWinShow.play(), t.getTimer().setTimeout(function() {
                    t.lib._bigWinAnim.gotoAndPlay("bigWinAnim", .5, !0)
                }, 1e3)
            }

            function f() {
                u.currentAutoSpinState() || p(), P = t.getTimer().setTimeout(function() {
                    t.lib._bigWinAnim.stopPlay(), t.animMap._bigWinHide.play(), O = t.getTimer().setTimeout(function() {
                        t.lib._bigWinLayer.show(!1)
                    }, 1e3)
                }, 1e3)
            }

            function p() {
                var e = t.lib._actionButtonSet.sprites;
                for (var n in e) e[n].show(!1);
                t.lib._inactiveButton.show(!0)
            }

            function m(n) {
                t.lib._dialogLayer.show(!0);
                for (var r in t.lib._dialogLayer.sprites) t.lib[r].show(!1);
                t.lib[n].show(!0), "_maxAwardDialog4BaseGame" !== n || u.currentAutoSpinState() || e.publish("nextState")
            }

            function g() {
                t.lib._bigWinLayer.show(!1), D = !1
            }

            function _(t) {
                n.stopChannel(0), D = u.currentAutoSpinState(), A = s.detectWinType(t);
                var r = s.getCurBasePay(t);
                switch (A) {
                    case "nowin":
                        u.currentAutoSpinState() || e.publish("nextState");
                        break;
                    case "bigwin":
                        d(r);
                        break;
                    case "maxwin":
                        m("_maxAwardDialog4BaseGame")
                }
            }

            function y(e) {
                _(e)
            }

            function v(e) {
                _(e)
            }

            function b(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && "maxwin" === (A = s.detectWinType(e)) && (n.stopChannel(0), m("_maxAwardDialog4FreeSpin"))
            }

            function x(t) {
                "bigwin" === A && t.spriteName === M && (e.publish("nextState"), f()), "win" === A && t.spriteName === I && e.publish("nextState")
            }

            function T() {
                t.lib._dialogLayer.show(!1)
            }

            function w(e) {
                A = s.detectWinType(e)
            }
            var S, E, C, P, O, A, M = "_bigWinValue",
                I = "_winValue",
                R = new a(M),
                D = !1;
            return e.subscribe("platformMsg/Kernel/System.Init", l), e.subscribe("onBeforeRequest", g), e.subscribe("onExitStage", b), e.subscribe("base2BaseReelStop", v), e.subscribe("onInProgressStage", w), e.subscribe("returnToBaseGame", y), e.subscribe("platformMsg/ClientService/Game.Init", c), e.subscribe("RollUp.Stopped", x), e.subscribe("onBetControlButtonClicked", T), {
                bigwinRollUp: R,
                bigWinVauleSpName: M
            }
        }), define("game/MetersController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "skbJet/component/currencyHelper/currencyHelper", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "game/BetController", "game/BigWinController", "game/WinlineAnimController", "game/RollUp", "game/WinHelper"], function(e, t, n, r, i, o, a, s, u, l) {
            function c(e) {
                e && e.gameConfig && (ee = !!e.gameConfig.rgPresentation && e.gameConfig.rgPresentation), W = e.serverConfig.presenttype, H = e.serverConfig.channel, "freespin" === e.serverConfig.paramGame.playMode && (V = !0, j = Number(e.serverConfig.freespin_bet), G = Number(e.serverConfig.freespin_lines))
            }

            function h(e) {
                X = e.PaytableResponse.AwardCapInfo.CurrencyCap.AwardCap
            }

            function d(e) {
                f(), p(), m(), g(e.nextStage), t.lib._balanceValue.setText(r.formatBalance(e.response.Balances["@totalBalance"])), t.lib._bonusBalanceValue && t.lib._bonusBalanceValue.setText(r.formatBalance(e.response.Balances["@totalBalance"])), !1 === V ? t.lib._pfsMeter.show(!1) : (N(e), t.lib._balanceMeter.show(!1))
            }

            function f() {
                t.lib._balanceLabel.autoFontFitText = !0, t.lib._balanceValue.autoFontFitText = !0, t.lib._pfsLabel.autoFontFitText = !0, t.lib._pfsValue.autoFontFitText = !0, t.lib._winLabel.autoFontFitText = !0, t.lib._winValue.autoFontFitText = !0, t.lib._linesLabel.autoFontFitText = !0, t.lib._linesBetLabel.autoFontFitText = !0, t.lib._lineBetValue.autoFontFitText = !0, t.lib._totalBetLabel.autoFontFitText = !0, t.lib._totalBetValue.autoFontFitText = !0, t.lib._bonusWinLabel.autoFontFitText = !0, t.lib._bonusWinValue.autoFontFitText = !0, t.lib._freeSpinCountLabel.autoFontFitText = !0, t.lib._bonusBalanceLabel && (t.lib._bonusBalanceLabel.autoFontFitText = !0, t.lib._bonusBalanceValue.autoFontFitText = !0)
            }

            function p() {
                t.lib._balanceLabel.setText(i.i18n.Game.consoleBalance), t.lib._bonusBalanceLabel && t.lib._bonusBalanceLabel.setText(i.i18n.Game.consoleBalance), t.lib._winLabel.setText(i.i18n.Game.consoleWin), t.lib._betLabel.setText(i.i18n.Game.consoleBet), t.lib._linesLabel.setText(i.i18n.Game.selectorPatternsBet), t.lib._linesBetLabel.setText(i.i18n.Game.selectorBetPerPattern), t.lib._totalBetLabel.setText(i.i18n.Game.consoleBet), t.lib._freeSpinCountLabel.setText(i.i18n.Game.consoleBonusCount), t.lib._bonusWinLabel.setText(i.i18n.Game.consoleBonus), t.lib._pfsLabel.setText(i.i18n.Game.consoleBonusCount)
            }

            function m() {
                t.lib._balanceValue.setText(""), t.lib._winValue.setText(""), t.lib._pfsValue.setText(""), t.lib._freeSpinCountValue.setText(""), t.lib._bonusWinValue.setText(""), t.lib._bonusBalanceValue && t.lib._bonusBalanceValue.setText("")
            }

            function g(e) {
                "BaseGame" === e ? (t.lib._bonusMeterSet.show(!1), t.lib._meterSet.show(!0)) : (t.lib._meterSet.show(!1), t.lib._bonusMeterSet.show(!0))
            }

            function _(e) {
                t.lib._balanceValue.setText(e.balance)
            }

            function y(e) {
                var n = l.getCurBonusPay(e);
                if ("BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage || null === Y || "true" === e.response.AwardCapOutcome.AwardCapExceeded) Y = n, t.lib._bonusWinValue.setText(r.formatBalance(n));
                else {
                    if (Y < n) {
                        var i = l.getPerWinInBonusGame(e),
                            o = l.calculateTotalBet(),
                            a = i > o;
                        a || !ee ? $.start(Y, n, {
                            maxTime: s.caculateWinLineAnimTime(),
                            rollUpSound: "BonusRollupLevel" + Z,
                            rollUpTermSound: "BonusRollupTermLevel" + Z,
                            rollUpSoundChannel: 1
                        }) : $.stop(n, a || !ee)
                    }
                    Y = n
                }
            }

            function v() {
                z > 0 && t.lib._winValue.setText(r.formatBalance(z))
            }

            function b(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && t.lib._winValue.setText(""), "FreeSpin" === e.response.OutcomeDetail.NextStage && t.lib._freeSpinCountValue.setText(Number(e.response.FreeSpinOutcome.Count) + 1 + "/" + e.response.FreeSpinOutcome.TotalAwarded), Q = null
            }

            function x(e) {
                V && N(e)
            }

            function T() {
                $.stop()
            }

            function w(e) {
                if ("BaseGame" === e.response.OutcomeDetail.NextStage && y(e), "FreeSpin" === e.response.OutcomeDetail.NextStage && t.lib._bonusBalanceValue) {
                    var n = t.lib._balanceValue.getText();
                    t.lib._bonusBalanceValue.setText(n)
                }
            }

            function S(e) {
                g(e.response.OutcomeDetail.NextStage), "FreeSpin" === e.response.OutcomeDetail.NextStage && (y(e), t.lib._freeSpinCountValue.setText("1/" + e.response.FreeSpinOutcome.InitAwarded))
            }

            function E(e) {
                y(e), "true" === e.response.FreeSpinOutcome.IncrementTriggered && t.lib._freeSpinCountValue.setText(e.response.FreeSpinOutcome.Count + "/" + e.response.FreeSpinOutcome.TotalAwarded)
            }

            function C(e) {
                "FreeSpin" === e.response.OutcomeDetail.Stage && (t.lib._bonusWinValue.setText(""), t.lib._freeSpinCountValue.setText(""))
            }

            function P(e) {
                if (q = Number(e.response.Balances["@totalBalance"]), z = Number(l.getCurBasePay(e)), "win" === (Q = l.detectWinType(e))) {
                    var t = z > l.calculateTotalBet();
                    t || !ee ? K.start(0, z, {
                        rollUpSound: "BaseRollup",
                        rollUpTermSound: "BaseRollupTerm",
                        rollUpSoundChannel: 1
                    }) : K.stop(z, t || !ee)
                } else "maxwin" === Q && v(e)
            }

            function O(e) {
                P(e)
            }

            function A(e) {
                P(e)
            }

            function M() {}

            function I(e) {
                "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && (t.lib._freeSpinCountValue.setText(e.response.FreeSpinOutcome.Count + "/" + e.response.FreeSpinOutcome.TotalAwarded), y(e))
            }

            function R(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && S(e)
            }

            function D() {
                t.lib._winValue.setText("")
            }

            function L(e) {
                var n;
                e.spriteName !== a.bigWinVauleSpName && e.spriteName !== J || (t.lib._winValue.setText(e.text), n = r.formatBalance(q), t.lib._balanceValue.setText(n))
            }

            function k(e) {
                var n, i;
                e.spriteName !== a.bigWinVauleSpName && e.spriteName !== J || (n = q + e.value - z, i = r.formatBalance(n), t.lib._balanceValue.setText(i)), e.spriteName === a.bigWinVauleSpName && t.lib._winValue.setText(e.text)
            }

            function B(e) {
                Z = e
            }

            function N(e) {
                U = Number(e.response.PromotionalFreeSpin["@count"]), U <= 0 && (U = 0), t.lib._pfsValue.setText(U + "")
            }

            function F() {
                return U
            }
            var j, G, U, X, W, H, V = !1,
                Y = null,
                z = null,
                q = null,
                J = "_winValue",
                K = new u(J),
                $ = new u("_bonusWinValue"),
                Z = 0,
                Q = null,
                ee = !1;
            return e.subscribe("platformMsg/Kernel/System.Init", c), e.subscribe("platformMsg/ClientService/Game.Init", h), e.subscribe("onBeforeShowStage", d), e.subscribe("onBeforeRequest", b), e.subscribe("onResolveStage", x), e.subscribe("onInProgressStage", E), e.subscribe("onExitStage", w), e.subscribe("onEnterNextStage", S), e.subscribe("onEndGame", C), e.subscribe("onBeginNewGame", M), e.subscribe("platformMsg/ClientService/Account.Balances", _), e.subscribe("onStartGameInProgressStage", I), e.subscribe("onStartGameInProgressNextStage", R), e.subscribe("onBetControlButtonClicked", D), e.subscribe("RollUp.Stopped", L), e.subscribe("RollUp.Update", k), e.subscribe("ReelController.currentFreeSpinLevelChange", B), e.subscribe("WinlineAnimComplete", T), e.subscribe("base2BaseReelStop", A), e.subscribe("returnToBaseGame", O), {
                winValueRollUpAnim: K,
                bonusWinValueRollUpAnim: $,
                getCurPRSNum: F
            }
        }), define("game/ActionButtonController", ["com/pixijs/pixi", "skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "skbJet/component/currencyHelper/currencyHelper", "game/WinHelper", "game/AutoSpinController", "game/BigWinController", "game/WinlineAnimController", "game/MetersController", "game/ButtonHelper"], function(e, t, n, r, i, o, a, s, u, l, c, h) {
            function d(e) {
                "INT" !== e.serverConfig.channel && "MIN" !== e.serverConfig.presenttype && (q = !0), "freespin" === e.serverConfig.paramGame.playMode && (Y = !0), G = Number(e.serverConfig.denomamount)
            }

            function f(t, n) {
                e.utils.TextureCache[n + "Over"] && (t.on("mouseover", function() {
                    t.setImage(n + "Over")
                }), t.on("mouseout", function() {
                    t.setImage(n)
                })), t.on("mousedown", function() {
                    "_startButton" === t.getName() && B(), t.setImage(n + "Pressed")
                }), t.on("mouseup", function() {
                    t.setImage(n)
                })
            }

            function p(e) {
                n.lib._spinButton.on("click", j), f(n.lib._spinButton, "spinButton"), n.lib._startButton.on("click", F), f(n.lib._startButton, "startButton"), n.lib._skipButton.on("click", N), f(n.lib._skipButton, "skipButton"), U = e.GameLogicResponse.OutcomeDetail.Stage
            }

            function m() {
                H = !1
            }

            function g() {
                R("_spinButton"), n.lib._networkActivity.show(!1)
            }

            function _() {
                D();
                var e;
                "BaseGame" === U && (z %= 7, e = "BaseReelSpin" + ++z, r.play(e, 0, !0)), J = !1, R("_inactiveButton")
            }

            function y() {
                L()
            }

            function v() {
                t.publish("nextState")
            }

            function b(e) {
                "bigwin" !== (X = a.detectWinType(e)) && "win" !== X || (R("_skipButton"), J = s.currentAutoSpinState())
            }

            function x(e) {
                b(e)
            }

            function T(e) {
                b(e)
            }

            function w() {
                R("_spinButton"), H = !1
            }

            function S(e) {
                a.getPerWinInBonusGame(e) > 0 && R("_skipButton"), H = !1
            }

            function E(e) {
                "FreeSpin" === e.response.OutcomeDetail.NextStage ? (R("_startButton"), k()) : "true" !== e.response.AwardCapOutcome.AwardCapExceeded && a.getPerWinInBonusGame(e) > 0 && R("_skipButton"), V = !0
            }

            function C(e) {
                U = e.response.OutcomeDetail.NextStage, V = !1
            }

            function P() {
                "FreeSpin" === U && V && R("_inactiveButton")
            }

            function O(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && E(e), "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && (C(e), R("_startButton"))
            }

            function A(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && C(e)
            }

            function M() {
                R("_inactiveButton"), L(), t.publish("nextState")
            }

            function I(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && R("_spinButton"), "FreeSpin" === e.response.OutcomeDetail.NextStage && R("_startButton"), H = !1
            }

            function R(e) {
                var t = n.lib._actionButtonSet.sprites;
                for (var r in t) t[r].show(r === e)
            }

            function D() {
                n.lib._networkActivity.show(!0), n.lib._networkActivity.gotoAndPlay("networkActivity", .2, !0)
            }

            function L() {
                n.lib._networkActivity.stopPlay(), n.lib._networkActivity.show(!1)
            }

            function k() {
                n.lib._startAnim && (W = n.getTimer().setInterval(function() {
                    n.animMap._startButtonAnim.play()
                }, 1100))
            }

            function B() {
                n.lib._startAnim && (n.animMap._startButtonAnim.stop(), n.getTimer().clearInterval(W))
            }

            function N() {
                h.atSameTime() || (R("_inactiveButton"), "BaseGame" === U && ("bigwin" === X && u.bigwinRollUp.stop(), "win" === X && c.winValueRollUpAnim.stop()), "FreeSpin" === U && (c.bonusWinValueRollUpAnim.stop(), l.stop(), t.publish("WinlineAnimComplete")))
            }

            function F() {
                h.atSameTime() || (R("_inactiveButton"), t.publish("nextState"))
            }

            function j() {
                H || h.atSameTime() || (q && (q = !1, t.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Fullscreen"
                })), n.lib._betControlButton && n.lib._betControlButton.show(!1), n.lib._betPrompt && n.lib._betPrompt.show(!1), n.lib._betControlDialog && n.lib._betControlDialog.show(!1), J = s.currentAutoSpinState(), J && "BaseGame" === U ? s.autoSpin() : (H = !0, t.publish("nextState"), r.play("ButtonSpin", 6)))
            }
            var G, U, X, W, H = !0,
                V = !1,
                Y = !1,
                z = 0,
                q = !1,
                J = !1;
            return t.subscribe("platformMsg/Kernel/System.Init", d), t.subscribe("platformMsg/ClientService/Game.Init", p), t.subscribe("onBeforeShowStage", g), t.subscribe("audioPlayer.playerSelectedWhenGameLaunch", m), t.subscribe("onBeforeRequest", _), t.subscribe("onResolveStage", y), t.subscribe("onEndGame", v), t.subscribe("base2BaseReelStop", T), t.subscribe("returnToBaseGame", x), t.subscribe("onBeginNewGame", w), t.subscribe("onInProgressStage", S), t.subscribe("onExitStage", E), t.subscribe("onEnterNextStage", C), t.subscribe("WinlineAnimComplete", P), t.subscribe("onStartGameInProgressStage", O), t.subscribe("onStartGameInProgressNextStage", A), t.subscribe("onAbortNextStage", M), t.subscribe("onResetNextStage", I), {}
        }), define("skbJet/component/phoenixReel/reelspin", ["com/pixijs/pixi", "skbJet/component/phoenixReel/animationLayer"], function(e, t) {
            return function(n, r) {
                function i(t) {
                    var n = new e.extras.AnimatedSprite([e.Texture.EMPTY]);
                    return n.zIndex = 1, n.visible = !1, n
                }

                function o(e) {
                    for (var t = r.StripInfo[ne], n = -2; n < r.options.reels[e].symbolCount + 2; n++) {
                        var i = L[e][n + 2],
                            o = t[e][(z[e] + t[e].length + n) % t[e].length];
                        $.symbolsMap && $.symbolsMap[o] && (o = $.symbolsMap[o]), Array.isArray(B[o].textures) ? (i.textures = B[o].textures, i.texture = i.textures[0], i.gotoAndStop(0)) : (i.textures = [B[o].textures], i.texture = i.textures[0], i.gotoAndStop(0)), i.zIndex = B[o].zOffset, i.visible = !0, i.position.x = r.options.pos.x + r.options.reels[e].x + B[o].xOffset, i.position.y = r.options.pos.y - Y[e] + B[o].yOffset + r.options.reels[e].y + K.symbolSlotHeight * n
                    }
                }

                function a(e) {
                    for (var t = r.StripInfo[Z.reelset], n = -2; n < r.options.reels[e].symbolCount + 2; n++) {
                        var i = k[e][n + 2],
                            o = t[e][(N[e] + t[e].length + n) % t[e].length];
                        Z.symbolsMap && Z.symbolsMap[o] && (o = Z.symbolsMap[o]), Array.isArray(B[o].textures) ? (i.textures = B[o].textures, i.texture = i.textures[0], i.gotoAndStop(0)) : (i.textures = [B[o].textures], i.texture = i.textures[0], i.gotoAndStop(0)), i.zIndex = B[o].zOffset, i.visible = !0, i.position.x = r.options.pos.x + r.options.reels[e].x + B[o].xOffset;
                        var a = W[e] + X[e];
                        q[e] > 0 && (a = -a), i.position.y = r.options.pos.y - a + r.options.reels[e].y + B[o].yOffset + K.symbolSlotHeight * n
                    }
                }

                function s(e, t) {
                    for (var n = r.StripInfo[t.reelset], i = {
                            spriteRefs: []
                        }, o = -1; o < r.options.reels[e].symbolCount + 1; o++) {
                        var a = n[e][(D[e] + n[e].length + o) % n[e].length];
                        t.symbolsMap && t.symbolsMap[a] && (a = t.symbolsMap[a]), i.spriteRefs.push(a)
                    }
                    ee.show(e), ee.setViewData(e, i)
                }

                function u() {
                    for (var e = 0; e < r.options.reels.length; e++)
                        for (var t = -2; t < r.options.reels[e].symbolCount + 2; t++) {
                            var n = k[e][t + 2];
                            n.visible = !1
                        }
                }

                function l() {
                    for (var e = 0; e < r.options.reels.length; e++)
                        for (var t = -2; t < r.options.reels[e].symbolCount + 2; t++) {
                            var n = L[e][t + 2];
                            n.visible = !1
                        }
                }

                function c(e) {
                    for (var t = -2; t < r.options.reels[e].symbolCount + 2; t++) L[e][t + 2].visible = !1, k[e][t + 2].visible = !1
                }

                function h(e, t) {
                    return I[t] === P.SPIN_SPINUP || I[t] === P.SPIN_FINDEND || I[t] === P.SPIN_SPINNING || I[t] === P.SPIN_PRESTOP ? (V[t] = Math.floor((V[t] + q[t] * e + te[t]) % te[t]), z[t] = Math.floor(V[t] / K.symbolSlotHeight), Y[t] = V[t] % K.symbolSlotHeight) : (z[t] = Math.floor(V[t] / K.symbolSlotHeight), Y[t] += q[t] * e), o(t), !0
                }

                function d(e) {
                    return Math.abs(Y[e]) > K.symbolSlotHeight * (K.options.reels[e].symbolCount + 4)
                }

                function f(e) {
                    return 0 === W[e]
                }

                function p(e) {
                    return 0 === W[e] && 0 === X[e]
                }

                function m(e, t) {
                    W[t] > 0 ? (W[t] -= Math.abs(q[t] * e), W[t] <= 0 && (X[t] += W[t], W[t] = 0)) : (X[t] -= Math.abs(q[t] * e), X[t] < 0 && (X[t] = 0, W[t] = 0)), a(t)
                }

                function g(e, t) {
                    var n = V[t] % K.symbolSlotHeight;
                    W[t] = n, X[t] = K.symbolSlotHeight * (K.options.reels[t].symbolCount + 4), q[t] > 0 && (W[t] = K.symbolSlotHeight - n, X[t] -= K.symbolSlotHeight), N[t] = Z.stopLocations[t]
                }

                function _(e, t) {
                    R[e] = t
                }

                function y() {
                    R[0], I[0];
                    for (var e = 0; e < r.options.reels.length; e++) I[e] = R[e]
                }

                function v() {
                    b(A)
                }

                function b(e) {
                    e.children.sort(function(e, t) {
                        return e.zIndex - t.zIndex || t.x - e.x || e.y - t.y
                    })
                }

                function x(e) {
                    e = Math.min(e, 100);
                    for (var t = 0; t < r.options.reels.length; t++) switch (L[t].sort(function(e, t) {
                        return e.ry > t.ry
                    }), k[t].sort(function(e, t) {
                        return e.ry > t.ry
                    }), I[t]) {
                        case P.INIT_NEEDED:
                            c(t), I[t] = P.SPIN_REST;
                        case P.SPIN_REST:
                            break;
                        case P.SPIN_INIT:
                            ee.hide(t), F[t] = $.startTimer ? $.startTimer[t] : 0, j[t] = $.startTicks ? $.startTicks[t] : 0, _(t, P.SPIN_WAITSTART);
                        case P.SPIN_WAITSTART:
                            j[t]--, F[t] -= e, Math.max(j[t], F[t]) <= 0 && (_(t, P.SPIN_FAUX_BOUNCE_START), H[t] = 0, oe && oe(t, "STARTED")), h(0, t);
                            break;
                        case P.SPIN_FAUX_BOUNCE_START:
                            $.startBounce && H[t] < $.startBounce.length ? (Y[t] = $.startBounce[H[t]], H[t] += 1) : (Y[t] = 0, H[t] = 0, _(t, P.SPIN_SPINUP)), o(t);
                            break;
                        case P.SPIN_SPINUP:
                            h(e, t) && (_(t, P.SPIN_SPINNING), (ae += 1) === I.length && (re && re.call(), re = null));
                            break;
                        case P.SPIN_SPINNING:
                            h(e, t), J && (G[t] = Z.stopTimer[t], U[t] = Z.stopTicks[t], _(t, P.SPIN_PRESTOP));
                            break;
                        case P.SPIN_PRESTOP:
                            h(e, t), U[t]--, G[t] -= e, Math.max(U[t], G[t]) <= 0 && _(t, P.SPIN_FINDEND);
                            break;
                        case P.SPIN_FINDEND:
                            h(e, t), g(e, t), m(e, t), _(t, P.SPIN_STITCH);
                            break;
                        case P.SPIN_STITCH:
                            h(e, t), m(e, t), d(t) && _(t, P.SPIN_STOPPING);
                            break;
                        case P.SPIN_STOPPING:
                            m(e, t), f(t) && _(t, P.SPIN_STOPEND);
                            break;
                        case P.SPIN_STOPEND:
                            m(e, t), p(t) && (_(t, P.SPIN_FAUX_BOUNCE), H[t] = 0, oe && oe(t, "BOUNCE"));
                            break;
                        case P.SPIN_FAUX_BOUNCE:
                            Z.stopBounce && H[t] < Z.stopBounce.length ? (W[t] = Z.stopBounce[H[t]], H[t] += 1) : (W[t] = 0, H[t] = 0, _(t, P.SPIN_HANDBRAKE)), a(t);
                            break;
                        case P.SPIN_HANDBRAKE:
                            D[t] = N[t], _(t, P.SPIN_REST), s(t, Z), c(t), oe && oe(t, "STOPPED"), ae -= 1, 0 === ae && ie && ($ = Z, ie.call(), ie = null)
                    }
                    y(), v()
                }

                function T(e, t) {
                    $ = e, $.reelset && (ne = $.reelset);
                    for (var n = 0; n < r.options.reels.length; n++) Y[n] = 0, V[n] = D[n] * K.symbolSlotHeight, _(n, P.SPIN_INIT), q[n] = e.reelSpeed[n] / 1e3;
                    u(), ae = 0, re = t, J = !1
                }

                function w(e, t, n) {
                    Z = e, ie = t, oe = n, ae = I.length, J = !0
                }

                function S(e) {
                    ne = e.reelset;
                    for (var t = 0; t < e.stopLocations.length; t++) D[t] = e.stopLocations[t], I[t] = P.SPIN_REST, R[t] = P.SPIN_REST, Y[t] = 0, V[t] = D[t] * K.symbolSlotHeight, z[t] = Math.floor(V[t] / K.symbolSlotHeight), s(t, e);
                    u(), l(), v()
                }

                function E(e) {
                    S($), e && e()
                }

                function C() {
                    return ee.getLimitedAccess()
                }
                var P = {
                        INIT_NEEDED: -1,
                        SPIN_REST: 0,
                        SPIN_INIT: 2,
                        SPIN_WAITSTART: 3,
                        SPIN_FAUX_BOUNCE_START: 4,
                        SPIN_SPINUP: 6,
                        SPIN_SPINNING: 8,
                        SPIN_PRESTOP: 9,
                        SPIN_FINDEND: 10,
                        SPIN_STITCH: 12,
                        SPIN_STOPPING: 14,
                        SPIN_STOPEND: 16,
                        SPIN_FAUX_BOUNCE: 18,
                        SPIN_HANDBRAKE: 99
                    },
                    O = new e.Container,
                    A = new e.Container,
                    M = [],
                    I = [],
                    R = [],
                    D = [],
                    L = [],
                    k = [],
                    B = {},
                    N = [],
                    F = [],
                    j = [],
                    G = [],
                    U = [],
                    X = [],
                    W = [],
                    H = [],
                    V = [],
                    Y = [],
                    z = [],
                    q = [],
                    J = !1,
                    K = r,
                    $ = {},
                    Z = {};
                e.extras.AnimatedSprite || (e.extras.AnimatedSprite = e.extras.MovieClip);
                var Q, ee, te = [],
                    ne = "BaseGame";
                ! function() {
                    r.spriteOffsets || (r.spriteOffsets = {}), r.symbolNames.forEach(function(t) {
                        if (Array.isArray(r.spriteMap[t])) {
                            var n = [];
                            r.spriteMap[t].forEach(function(t) {
                                n.push(e.Texture.fromFrame(t))
                            }), B[t] = {
                                textures: n
                            }
                        } else B[t] = {
                            textures: e.Texture.fromFrame(r.spriteMap[t])
                        };
                        r.spriteOffsets[t] || (r.spriteOffsets[t] = {
                            x: 0,
                            y: 0,
                            z: 0
                        }), B[t].xOffset = r.spriteOffsets[t].x, B[t].yOffset = r.spriteOffsets[t].y, B[t].zOffset = r.spriteOffsets[t].z || 0
                    }), ee = t(r, B), r.StripInfo && (ne = Object.keys(r.StripInfo)[0], Object.keys(r.StripInfo).forEach(function(e) {
                        r.StripInfo[e][0].Stop && r.StripInfo[e].forEach(function(t, n) {
                            var i = [];
                            t.Stop.forEach(function(e, t) {
                                i.push(e["@symbolID"])
                            }), r.StripInfo[e][n] = i
                        })
                    }));
                    for (var n = 0, o = new e.Graphics, a = !0, s = r.options.reels[0].y, u = 0; u < r.options.reels.length; u++) r.options.reels[u].y !== s && (a = !1);
                    if (r.options.reels.length > 1 && a)
                        for (u = 1; u < r.options.reels.length; u++) K.options.reels[u - 1].symbolCount != K.options.reels[u].symbolCount && (a = !1);
                    if (K.options.clip) K.options.clip.forEach(function(e) {
                        o.beginFill(), o.drawRect(e.x, e.y, e.w, e.h), o.endFill()
                    });
                    else if (a) o.beginFill(), o.drawRect(r.options.pos.x + r.options.reels[0].x, r.options.pos.y + r.options.reels[0].y, (K.symbolSlotWidth + K.symbolSpacingW) * r.options.reels.length - K.symbolSpacingW, (K.symbolSlotHeight + K.symbolSpacingH) * K.options.reels[0].symbolCount - K.symbolSpacingH), o.endFill();
                    else {
                        for (o.beginFill(), u = 0; u < r.options.reels.length; u++) o.drawRect(r.options.pos.x + r.options.reels[u].x, r.options.pos.y + r.options.reels[u].y, K.symbolSlotWidth + r.symbolSpacingW, (K.symbolSlotHeight + r.symbolSpacingH) * K.options.reels[u].symbolCount);
                        o.endFill()
                    }
                    for (o.zIndex = 1e3, O.addChild(o), Q = o, u = 0; u < r.options.reels.length; u++) {
                        te.push(r.StripInfo[ne][u].length * K.symbolSlotHeight), D.push(0), I.push(P.INIT_NEEDED), R.push(P.INIT_NEEDED);
                        for (var l = [i(u), i(u), i(u), i(u)], c = [i(u), i(u), i(u), i(u)], h = [], d = 0; d < r.options.reels[u].symbolCount; d++) l.push(i(u)), c.push(i(u)), M.push(i(u)), h.push(M[n]), n += 1;
                        L.push(l), k.push(c)
                    }
                    for (u = 0; u < r.options.reels.length; u++) L[u].forEach(function(e) {
                        A.addChild(e)
                    });
                    for (u = 0; u < r.options.reels.length; u++) k[u].forEach(function(e) {
                        A.addChild(e)
                    });
                    for (A.mask = Q, O.addChild(A), u = 0; u < r.options.reels.length; u++) N.push(0), F.push(0), j.push(0), G.push(0), U.push(0), X.push(0), W.push(0), H.push(0), V.push(0), Y.push(0), z.push(0), q.push(-400);
                    O.addChild(ee.getContainer())
                }();
                var re, ie, oe, ae = 0;
                return {
                    spin: T,
                    resolve: w,
                    setReels: S,
                    cancelSpin: E,
                    getContainer: function() {
                        return O
                    },
                    process: x,
                    getWinPresentationLayer: C
                }
            }
        }), define("game/ReelController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/component/phoenixReel/reelspin", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "skbJet/component/currencyHelper/currencyHelper", "game/WinlineAnimController"], function(e, t, n, r, i, o, a) {
            function s() {
                return {
                    options: {
                        pos: {},
                        reels: [{
                            symbolCount: 3
                        }, {
                            symbolCount: 3
                        }, {
                            symbolCount: 3
                        }, {
                            symbolCount: 3
                        }, {
                            symbolCount: 3
                        }]
                    },
                    symbolNames: ["s01", "s02", "s03", "s04", "s05", "s06", "s07", "s08", "s09", "s10", "s11", "b01", "w01"],
                    spriteMap: {},
                    StripInfo: {},
                    locationsMap: ["L0C0R0", "L0C0R1", "L0C0R2", "L0C1R0", "L0C1R1", "L0C1R2", "L0C2R0", "L0C2R1", "L0C2R2", "L0C3R0", "L0C3R1", "L0C3R2", "L0C4R0", "L0C4R1", "L0C4R2"]
                }
            }

            function u(e) {
                for (var t = [], n = 0; n < e.PopulationOutcome.length; n++) {
                    var r = e.PopulationOutcome[n];
                    if (r["@stage"] === R)
                        for (var i = 0; i < r.Entry.length; i++) t.push(parseInt(r.Entry[i]["@stripIndex"]))
                }
                return t
            }

            function l(e) {
                var n = "BaseGame" === e ? U : X;
                n.symbolSlotWidth = o.formatFloat(t.lib._reels_0_0._currentStyle._width), n.symbolSlotHeight = o.formatFloat(t.lib._reels_0_0._currentStyle._height), n.options.pos.x = o.formatFloat(t.lib._reelSetBG._currentStyle._left), n.options.pos.y = o.formatFloat(t.lib._reelSetBG._currentStyle._top), n.symbolSpacingW = o.formatFloat(t.lib._reels_0_1._currentStyle._left) - o.formatFloat(t.lib._reels_0_0._currentStyle._left) - n.symbolSlotWidth, n.symbolSpacingH = o.formatFloat(t.lib._reels_1_0._currentStyle._top) - o.formatFloat(t.lib._reels_0_0._currentStyle._top) - n.symbolSlotHeight;
                for (var r = 0; r < n.options.reels.length; r++) n.options.reels[r].x = o.formatFloat(t.lib["_reels_0_" + r]._currentStyle._left), n.options.reels[r].y = o.formatFloat(t.lib["_reels_0_" + r]._currentStyle._top);
                for (r = 0; r < n.symbolNames.length; r++) {
                    var i = n.symbolNames[r],
                        a = e;
                    "s" === i.charAt(0) ? n.spriteMap[i] = i.toUpperCase() + a : n.spriteMap[i] = "b01" === i ? i.toUpperCase() + "Scatter" + a + "_0001" : i.toUpperCase() + a + "_0001"
                }
                I.StripInfo.forEach(function(e) {
                    n.StripInfo[e["@name"]] = e.Strip
                })
            }

            function c() {
                var e = h();
                "BaseGame" === R ? (N.visible = !0, F.visible = !1) : (N.visible = !1, F.visible = !0), e.setReels({
                    reelset: R,
                    stopLocations: u(M)
                });
                var n = t.getTicker();
                D && (n.remove(D), D = null), D = function() {
                    e.process(n.elapsedMS)
                }, n.add(D)
            }

            function h() {
                return "BaseGame" === R ? k : B
            }

            function d() {
                return "BaseGame" === R ? U : X
            }

            function f(r) {
                M = r.GameLogicResponse, I = r.PaytableResponse, R = M.OutcomeDetail.Stage, l("BaseGame"), l("FreeSpin"), k = n(t.getPixiRenderer(), U), B = n(t.getPixiRenderer(), X), N = k.getContainer(), F = B.getContainer(), t.lib._reelLayer.pixiContainer.addChild(N), t.lib._reelLayer.pixiContainer.addChild(F);
                for (var i in t.lib._reelSetBG.sprites) t.lib._reelSetBG.sprites[i].show(!1);
                j = k.getWinPresentationLayer(), G = B.getWinPresentationLayer(), a.init({
                    basegame: {
                        config: U,
                        winPresentation: j
                    },
                    freespin: {
                        config: X,
                        winPresentation: G
                    },
                    currentStage: R
                }), c(), e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.InitDone",
                    data: {
                        version: {
                            gameVersion: window._cacheFlag.gameVersion,
                            gleVersion: I.VersionInfo ? I.VersionInfo.GameLogicVersion : "???"
                        }
                    }
                })
            }

            function p() {
                e.publish("nextState")
            }

            function m(e) {
                var t, n = [],
                    r = d(),
                    i = r.symbolSlotHeight / 122;
                if ("BaseGame" === e.response.OutcomeDetail.NextStage) {
                    t = -1800;
                    for (var o = 0; o < r.options.reels.length; o++) n.push(t * i)
                } else {
                    for (var a = 0; a < r.options.reels.length; a++) t = Math.floor(5 * Math.random()), n.push(t);
                    n = n.map(function(e) {
                        return e += 16, e = e % 2 == 0 ? -e * i * 100 : e * i * 100
                    })
                }
                return n
            }

            function g(t) {
                if ("FreeSpin" !== t.response.OutcomeDetail.NextStage) return W = 0, void e.publish("ReelController.currentFreeSpinLevelChange", W);
                var n = t.response.FreeSpinOutcome,
                    i = parseInt(n.TotalAwarded) > 15 ? 5 : 4,
                    o = parseInt(n.Count) + 1,
                    a = parseInt(n.TotalAwarded),
                    s = Math.floor(a / i),
                    u = Math.ceil(o / s);
                (u = u > i ? i : u) === W && "true" !== n.IncrementTriggered || (0 !== u && (r.play("BonusIntroLevel" + u, 2), r.play("BonusBackgroundLevel" + u, 0, !0)), W = u, e.publish("ReelController.currentFreeSpinLevelChange", W))
            }

            function _(e) {
                var t = m(e),
                    n = {
                        startTicks: [0, 0, 0, 0, 0],
                        startTimer: [0, 0, 0, 0, 0],
                        reelSpeed: t,
                        stopLocations: u(M),
                        reelset: R
                    };
                h().spin(n, p), g(e)
            }

            function y(e, t) {
                "STOPPED" === t && (r.play("ReelStop", e % 2 ? 2 : 3), "BaseGame" === R ? A[e] && r.play("BaseSmartSound" + A[e], A[e] % 3 + 4) : A[e] && r.play("BonusLevel" + W + "SmartSound" + A[e], A[e] % 3 + 4))
            }

            function v() {
                A = [];
                for (var e = 0; e < M.PopulationOutcome.length; e++) {
                    var t = M.PopulationOutcome[e];
                    if (t["@stage"] === R) {
                        for (var n = 0, r = 0; r < t.Entry.length; r++) {
                            for (var i = t.Entry[r].Cell, o = !1, a = 0; a < i.length; a++)
                                if ("b01" === i[a]["#text"]) {
                                    o = !0;
                                    break
                                }
                            o ? (n++, 1 === n && 4 === r ? A.push(null) : A.push(n)) : A.push(null)
                        }
                        break
                    }
                }
            }

            function b(t) {
                function n() {
                    "BaseGame" === M.OutcomeDetail.Stage && "BaseGame" === M.OutcomeDetail.NextStage ? e.publish("base2BaseReelStop", t) : p()
                }
                M = t.response, R = M.OutcomeDetail.Stage, v();
                var r = h(),
                    i = d();
                r.resolve({
                    stopTicks: [0, 10, 20, 30, 40],
                    stopTimer: x(i.options.reels),
                    stopLocations: u(M),
                    stopBounce: [-12, -18, -24, -28, -30, -27, -24, -12],
                    reelset: R
                }, n, y)
            }

            function x(e) {
                for (var t = [], n = 600, r = 0; r < e.length; r++) n += L, t.push(n);
                return t
            }

            function T() {
                C()
            }

            function w() {
                h().cancelSpin(), r.stopAllChannel()
            }

            function S(t) {
                "FreeSpin" === t.response.OutcomeDetail.NextStage && (W = 0, e.publish("ReelController.currentFreeSpinLevelChange", W))
            }

            function E(e) {
                M = e.response, R = M.OutcomeDetail.NextStage, C(), c()
            }

            function C() {
                var e = "BaseGame" === R ? "reelsFrameBasegameBG" : "reelsFrameFreespinsBG";
                t.lib._reelSetBG.updateCurrentStyle({
                    _background: {
                        _imagePlate: e
                    }
                })
            }

            function P(e) {
                "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && E(e)
            }

            function O(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && E(e)
            }
            var A, M = null,
                I = null,
                R = null,
                D = null,
                L = 300,
                k = null,
                B = null,
                N = null,
                F = null,
                j = null,
                G = null,
                U = s(),
                X = s(),
                W = 0;
            return e.subscribe("onBeforeRequest", _), e.subscribe("onResolveStage", b), e.subscribe("onBeforeShowStage", T), e.subscribe("onAbortNextStage", w), e.subscribe("onResetNextStage", S), e.subscribe("platformMsg/ClientService/Game.Init", f), e.subscribe("onStartGameInProgressStage", P), e.subscribe("onStartGameInProgressNextStage", O), {
                updateBG2Reel: E
            }
        }), define("game/FreeSpinDialog", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "game/WinHelper", "game/BackgroundController", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "skbJet/component/currencyHelper/currencyHelper", "com/pixijs/pixi", "game/ReelController"], function(e, t, n, r, i, o, a, s, u) {
            function l(e) {
                A = e.serverConfig.presenttype, M = e.serverConfig.channel, t.lib._dialogLayer.show(!1)
            }

            function c(e) {
                h(), f(e), p()
            }

            function h() {
                t.lib._capFreeSpinLine1.autoFontFitText = !0, t.lib._capFreeSpinLine2.autoFontFitText = !0, t.lib._capFreeSpinLine3.autoFontFitText = !0, t.lib._maxAwardNum4FreeSpin.autoFontFitText = !0, t.lib._maxAwardLine1ForFreeSpin.autoFontFitText = !0, t.lib._maxAwardLine2ForFreeSpin.autoFontFitText = !0, t.lib._maxAwardLine4ForFreeSpin.autoFontFitText = !0, t.lib._maxAwardNum4BaseGame.autoFontFitText = !0, t.lib._maxAwardLine1ForBaseGame.autoFontFitText = !0, t.lib._maxAwardLine2ForBaseGame.autoFontFitText = !0, t.lib._retriggerNum.autoFontFitText = !0, t.lib._retriggerLine1.autoFontFitText = !0, t.lib._retriggerLine2.autoFontFitText = !0, t.lib._retriggerLine4.autoFontFitText = !0
            }

            function d(e, n) {
                var r = {};
                r.fontSize = "STD" === A ? "INT" !== M ? 40 : 80 : "INT" !== M ? 20 : 30;
                var i = {
                        fontFamily: "arial",
                        fontSize: r.fontSize,
                        fontWeight: "bold",
                        fill: ["#FFFF00", "#FFCC00"],
                        stroke: "#CC0000",
                        strokeThickness: 2
                    },
                    o = new s.Text;
                o.text = e, o.style = i, o.x = a.formatFloat((a.formatFloat(t.lib[n]._currentStyle._width) - a.formatFloat(o.width)) / 2), t.lib[n].setText(""), t.lib[n].pixiContainer.removeChildren(), t.lib[n].pixiContainer.addChild(o), t.lib[n].show(!0)
            }

            function f(e) {
                O = e.PaytableResponse.MaxFreeSpins, t.lib._capFreeSpinLine1.setText(o.i18n.Game.Dialog["FREE SPINS LIMIT IS 180"].replace(/\d+/g, O)), t.lib._capFreeSpinLine2.setText(o.i18n.Game.Dialog["NO ADDITIONAL"]), t.lib._capFreeSpinLine3.setText(o.i18n.Game.Dialog["FREE SPINS AWARDED"])
            }

            function p() {
                t.lib._retriggerLine1.setText(o.i18n.Game.Dialog["CONGRATULATIONS!"]), t.lib._retriggerLine2.setText(o.i18n.Game.Dialog["YOU WON"]), t.lib._retriggerLine4.setText(o.i18n.Game.Dialog["ADDITIONAL FREE SPINS!"])
            }

            function m(e) {
                "FreeSpin" === e.response.OutcomeDetail.NextStage && (i.play("BonusTrigger", 2), i.play("PreBonusMusicLoop", 0, !0))
            }

            function g(e) {
                "FreeSpin" === e.response.OutcomeDetail.NextStage && (i.stopChannel(2), i.stopChannel(0), _(e)), "BaseGame" === e.response.OutcomeDetail.NextStage && b(e)
            }

            function _(n) {
                x(/Awarded/);
                var a = t.lib._freespinAwardedDialog.sprites;
                for (var s in a) a[s].show(!1);
                i.play("DoorShut", 5), t.animMap._freespinAwardDialogCloseDoor.play(), r.darkenBackground(), t.getTimer().setTimeout(function() {
                    var s = n.response.FreeSpinOutcome.InitAwarded,
                        l = o.i18n.Game.Dialog["15 FREE SPINS"].replace(/\d+/g, s),
                        c = o.i18n.Game.Dialog.BONUS.replace(/\d+/g, s),
                        h = o.i18n.Game.Dialog.TRIGGERED.replace(/\d+/g, s);
                    d(l, "_freespinAwardedLine1"), d(c, "_freespinAwardedLine2"), d(h, "_freespinAwardedLine3"), t.getTimer().setTimeout(function() {
                        t.lib._awardedTransitionAnim01.show(!1), t.lib._awardedTransitionAnim02.show(!1), t.lib._fadeOutAwardedTransitionAnim01.show(!1), t.lib._fadeOutAwardedTransitionAnim02.show(!1), t.lib._fadeInAwardedTransitionAnim01.show(!0), t.lib._fadeInAwardedTransitionAnim02.show(!0), t.animMap._fadeInAwardedTransitionAnim.play(), t.getTimer().setTimeout(function() {
                            i.play("Fire", 6), t.lib._fadeInAwardedTransitionAnim01.show(!1), t.lib._fadeInAwardedTransitionAnim02.show(!1), t.lib._awardedTransitionAnim01.show(!0), t.lib._awardedTransitionAnim02.show(!0), t.lib._awardedTransitionAnim01.gotoAndPlay("transitionAnim", .6, !1), t.lib._awardedTransitionAnim02.gotoAndPlay("transitionAnim", .6, !1), t.getTimer().setTimeout(function() {
                                t.lib._awardedTransitionAnim01.show(!1), t.lib._awardedTransitionAnim02.show(!1), t.lib._fadeOutAwardedTransitionAnim01.show(!0), t.lib._fadeOutAwardedTransitionAnim02.show(!0), t.animMap._fadeOutAwardedTransitionAnim.play(), t.getTimer().setTimeout(function() {
                                    t.lib._fadeOutAwardedTransitionAnim01.show(!1), t.lib._fadeOutAwardedTransitionAnim02.show(!1);
                                    for (var o in a) a[o].show(!1);
                                    t.getTimer().setTimeout(function() {
                                        u.updateBG2Reel(n), i.play("DoorOpen", 4), t.animMap._freespinAwardDialogOpenDoor.play(), r.recoverBackground("FreeSpin"), t.getTimer().setTimeout(function() {
                                            t.lib._freespinAwardedDialogRight.show(!1), t.lib._freespinAwardedDialog.show(!1), e.publish("nextState")
                                        }, 1e3)
                                    }, 500)
                                }, 600)
                            }, 1300)
                        }, 600)
                    }, 500)
                }, 800)
            }

            function y() {
                t.getTimer().clearTimeout(P)
            }

            function v(e) {
                "true" === e.response.FreeSpinOutcome.MaxAwarded ? x(/Cap/) : (t.lib._retriggerNum.setText(e.response.FreeSpinOutcome.Awarded), x(/Retriger/)), P = t.getTimer().setTimeout(function() {
                    t.lib._freespinRetrigerDialog.show(!1), t.lib._freespinCapDialog.show(!1)
                }, 4e3)
            }

            function b(s) {
                x(/Result/);
                var l = t.lib._freespinResultDialog.sprites;
                for (var c in l) l[c].show(!1);
                t.animMap._freespinResultDialogCloseDoor.play(), i.play("DoorShut", 5), r.darkenBackground(), t.getTimer().setTimeout(function() {
                    var c = n.getCurBonusPay(s),
                        h = o.i18n.Game.Dialog["CONGRATULATIONS!"],
                        f = o.i18n.Game.Dialog["YOU WON"],
                        p = a.formatBalance(c);
                    d(h, "_freespinResultLine1"), d(f, "_freespinResultLine2"), d(p, "_freespinResultLine3"), t.getTimer().setTimeout(function() {
                        t.lib._resultTransitionAnim01.show(!1), t.lib._resultTransitionAnim02.show(!1), t.lib._fadeOutResultTransitionAnim01.show(!1), t.lib._fadeOutResultTransitionAnim02.show(!1), t.lib._fadeInResultTransitionAnim01.show(!0), t.lib._fadeInResultTransitionAnim02.show(!0), t.animMap._fadeInResultTransitionAnim.play(), t.getTimer().setTimeout(function() {
                            i.play("Fire", 6), t.lib._fadeInResultTransitionAnim01.show(!1), t.lib._fadeInResultTransitionAnim02.show(!1), t.lib._resultTransitionAnim01.show(!0), t.lib._resultTransitionAnim02.show(!0), t.lib._resultTransitionAnim01.gotoAndPlay("transitionAnim", .6, !1), t.lib._resultTransitionAnim02.gotoAndPlay("transitionAnim", .6, !1), t.getTimer().setTimeout(function() {
                                t.lib._resultTransitionAnim01.show(!1), t.lib._resultTransitionAnim02.show(!1), t.lib._fadeOutResultTransitionAnim01.show(!0), t.lib._fadeOutResultTransitionAnim02.show(!0), t.animMap._fadeOutResultTransitionAnim.play(), t.getTimer().setTimeout(function() {
                                    t.lib._fadeOutResultTransitionAnim01.show(!1), t.lib._fadeOutResultTransitionAnim02.show(!1);
                                    for (var n in l) l[n].show(!1);
                                    t.getTimer().setTimeout(function() {
                                        u.updateBG2Reel(s), t.animMap._freespinResultDialogOpenDoor.play(), i.play("DoorOpen", 4), r.recoverBackground("BaseGame"), t.getTimer().setTimeout(function() {
                                            t.lib._freespinResultDialogRight.show(!1), t.lib._freespinResultDialog.show(!1), e.publish("returnToBaseGame", s)
                                        }, 1e3)
                                    }, 500)
                                }, 600)
                            }, 1300)
                        }, 600)
                    }, 500)
                }, 800)
            }

            function x(e) {
                t.lib._dialogLayer.show(!0);
                for (var n in t.lib._dialogLayer.sprites) n.match(e) ? t.lib[n].show(!0) : t.lib[n].show(!1)
            }

            function T(e) {
                "true" === e.response.FreeSpinOutcome.IncrementTriggered && (v(e), i.play("Retrigger"))
            }

            function w(e) {
                t.lib._dialogLayer.show(!1), "FreeSpin" === e.response.OutcomeDetail.Stage && y()
            }

            function S(e) {
                "FreeSpin" === e.response.OutcomeDetail.Stage && "BaseGame" === e.response.OutcomeDetail.NextStage && y()
            }

            function E(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && g(e)
            }

            function C() {
                t.lib._reelMask.show(!1);
                var e = t.lib._reelMask._currentStyle,
                    n = new s.Graphics;
                n.beginFill(), n.drawRect(e._left, e._top, e._width, e._height), n.endFill(), t.lib._dialogLayer.pixiContainer.addChild(n), t.lib._freespinAwardedDialogRight.pixiContainer.mask = n, t.lib._freespinAwardedDialog.pixiContainer.mask = n, t.lib._freespinResultDialogRight.pixiContainer.mask = n, t.lib._freespinResultDialog.pixiContainer.mask = n
            }
            var P, O, A, M;
            return e.subscribe("platformMsg/Kernel/System.Init", l), e.subscribe("platformMsg/ClientService/Game.Init", c), e.subscribe("onExitStage", m), e.subscribe("onEnterNextStage", g), e.subscribe("onInProgressStage", T), e.subscribe("onBeforeRequest", w), e.subscribe("onEndGame", S), e.subscribe("onBeforeShowStage", C), e.subscribe("onStartGameInProgressNextStage", E), {}
        }), define("game/PaytableHelpController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/component/pixiResourceLoader/pixiResourceLoader", "skbJet/component/currencyHelper/currencyHelper", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "game/AutoSpinController"], function(e, t, n, r, i, o) {
            function a() {
                for (var e = document.getElementsByTagName("article"), t = 0; t < e.length; t++) e[t].addEventListener("mousedown", s, !1);
                document.addEventListener("mousemove", s, !1)
            }

            function s(e) {
                var t = e || window.event;
                t.returnValue = !1, t.preventDefault()
            }

            function u(e) {
                R = window.location.search.match(/&?assetPack=([^&]+)&?/)[1], O = e.PaytableResponse.AwardCapInfo.CurrencyCap.AwardCap, "true" === e.PaytableResponse.PaytableStatistics["@singleRTP"] ? (A = e.PaytableResponse.PaytableStatistics["@maxSingleRTP"], M = e.PaytableResponse.PaytableStatistics["@minSingleRTP"]) : (A = e.PaytableResponse.PaytableStatistics["@maxRTP"], M = e.PaytableResponse.PaytableStatistics["@minRTP"]), A === M ? (n.i18n.Paytable.RTPvalue = n.i18n.Paytable.RTPvalue.replace("{@minRTP}", M), I = n.i18n.Paytable.RTPvalue) : (n.i18n.Paytable.RTPrange = n.i18n.Paytable.RTPrange.replace("{@minRTP}", M), n.i18n.Paytable.RTPrange = n.i18n.Paytable.RTPrange.replace("{@maxRTP}", A), I = n.i18n.Paytable.RTPrange), f(), 0 !== R.indexOf("mobile") && 0 !== R.indexOf("tablet") || m()
            }

            function l() {
                g(), _(), v()
            }

            function c(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && m()
            }

            function h() {
                o.currentAutoSpinState() ? m() : p()
            }

            function d() {
                p()
            }

            function f() {
                e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Register",
                    data: {
                        options: [{
                            type: "command",
                            name: "paytable",
                            text: n.i18n.MenuCommand.payTable,
                            enabled: 1
                        }]
                    }
                }), e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Register",
                    data: {
                        options: [{
                            type: "command",
                            name: "howToPlay",
                            text: n.i18n.MenuCommand.howToPlay,
                            enabled: 1
                        }]
                    }
                })
            }

            function p() {
                e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "howToPlay",
                        event: "enable",
                        params: [1]
                    }
                }), e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "paytable",
                        event: "enable",
                        params: [1]
                    }
                })
            }

            function m() {
                e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "howToPlay",
                        event: "enable",
                        params: [0]
                    }
                }), e.publish("toPlatform", {
                    channel: "Game",
                    topic: "Game.Control",
                    data: {
                        name: "paytable",
                        event: "enable",
                        params: [0]
                    }
                })
            }

            function g() {
                var e = document.getElementById("gameRulesHeader"),
                    t = document.getElementById("paytableHeader");
                e.innerHTML = n.i18n.Game.gameRules, t.innerHTML = n.i18n.Game.payTable
            }

            function _() {
                var e = n.i18n.paytableHTML.replace(/\"/g, "'");
                e = e.replace("<winlinediagrams/>", D), e = e.replace("{awardCap}", r.formatBalance(O)), e = e.replace("{RTP}", I), e = y(e), document.getElementById("paytableArticle").innerHTML = e;
                var t = n.i18n.helpHTML.replace(/\"/g, "'"),
                    i = document.getElementById("gameRulesArticle");
                t = y(t), i.innerHTML = t
            }

            function y(e) {
                return e = e.replace(/{w01}/g, n.getImgObj("W01BaseGame_0001").outerHTML), e = e.replace(/{b01}/g, n.getImgObj("B01ScatterBaseGame_0001").outerHTML), e = e.replace(/{s01}/g, n.getImgObj("S01BaseGame").outerHTML), e = e.replace(/{s01}/g, n.getImgObj("S01BaseGame").outerHTML), e = e.replace(/{s02}/g, n.getImgObj("S02BaseGame").outerHTML), e = e.replace(/{s03}/g, n.getImgObj("S03BaseGame").outerHTML), e = e.replace(/{s04}/g, n.getImgObj("S04BaseGame").outerHTML), e = e.replace(/{s05}/g, n.getImgObj("S05BaseGame").outerHTML), e = e.replace(/{s06}/g, n.getImgObj("S06BaseGame").outerHTML), e = e.replace(/{s07}/g, n.getImgObj("S07BaseGame").outerHTML), e = e.replace(/{s08}/g, n.getImgObj("S08BaseGame").outerHTML), e = e.replace(/{s09}/g, n.getImgObj("S09BaseGame").outerHTML), e = e.replace(/{s10}/g, n.getImgObj("S10BaseGame").outerHTML), e = e.replace(/{s11}/g, n.getImgObj("S11BaseGame").outerHTML)
            }

            function v() {
                var e = document.getElementsByClassName("closeBtn");
                Array.prototype.forEach.call(e, function(e) {
                    e.innerHTML = n.i18n.Game.buttonClose, e.onclick = function() {
                        b("game")
                    }
                })
            }

            function b(e) {
                for (var t = document.getElementsByClassName("tab"), n = 0; n < t.length; n++) t[n].style.display = "none";
                "game" === e ? i.play("ButtonPaytableClose", 5) : i.play("ButtonPaytableOpen", 5), document.getElementById(e).style.display = "block"
            }

            function x() {
                m()
            }

            function T(e) {
                if ("paytable" === e.option || "howToPlay" === e.option) {
                    var t = "howToPlay" === e.option ? "gameRules" : "paytable";
                    b("block" === document.getElementById(t).style.display ? "game" : t)
                }
            }

            function w() {
                m()
            }

            function S(e) {
                "BaseGame" === e.response.OutcomeDetail.NextStage && p()
            }

            function E(e) {
                e && "Game" === e.channel && "Game.AutoSpinOption" === e.topic && m()
            }

            function C() {
                p()
            }

            function P() {
                p()
            }
            var O, A, M, I, R, D = '<ul class="paylinetables clearfix"><li><div>1</div><div><table border="1"><tr><td></td><td></td><td></td><td></td><td></td></tr><tr class="blue"><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table></div></li><li><div>2</div><div><table border="1"><tr class="blue"><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></table></div></li><li><div>3</div><div><table border="1"><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr class="blue"><td></td><td></td><td></td><td></td><td></td></tr></table></div></li><li><div>4</div><div><table border="1"><tr><td class="blue"></td><td></td><td></td><td></td><td class="blue"></td></tr><tr><td></td><td class="blue"></td><td></td><td class="blue"></td><td></td></tr><tr><td></td><td></td><td class="blue"></td><td></td><td></td></tr></table></div></li><li><div>5</div><div><table border="1"><tr><td></td><td></td><td class="blue"></td><td></td><td></td></tr><tr><td></td><td class="blue"></td><td></td><td class="blue"></td><td></td></tr><tr><td class="blue"></td><td></td><td></td><td></td><td class="blue"></td></tr></table></div></li><li><div>6</div><div><table border="1"><tr><td class="blue"></td><td class="blue"></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td class="blue"></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td class="blue"></td><td class="blue"></td></tr></table></div></li><li><div>7</div><div><table border="1"><tr><td></td><td></td><td></td><td class="blue"></td><td class="blue"></td></tr><tr><td></td><td></td><td class="blue"></td><td></td><td></td></tr><tr><td class="blue"></td><td class="blue"></td><td></td><td></td><td></td></tr></table></div></li><li><div>8</div><div><table border="1"><tr><td></td><td class="blue"></td><td></td><td></td><td></td></tr><tr><td class="blue"></td><td></td><td class="blue"></td><td></td><td class="blue"></td></tr><tr><td></td><td></td><td></td><td class="blue"></td><td></td></tr></table></div></li><li><div>9</div><div><table border="1"><tr><td></td><td></td><td></td><td class="blue"></td><td></td></tr><tr><td class="blue"></td><td></td><td class="blue"></td><td></td><td class="blue"></td></tr><tr><td></td><td class="blue"></td><td></td><td></td><td></td></tr></table></div></li><li><div>10</div><div><table border="1"><tr><td class="blue"></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td class="blue"></td><td class="blue"></td><td class="blue"></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td class="blue"></td></tr></table></div></li><li><div>11</div><div><table border="1"><tr><td></td><td></td><td></td><td></td><td class="blue"></td></tr><tr><td></td><td class="blue"></td><td class="blue"></td><td class="blue"></td><td></td></tr><tr><td class="blue"></td><td></td><td></td><td></td><td></td></tr></table></div></li><li><div>12</div><div><table border="1"><tr><td></td><td class="blue"></td><td class="blue"></td><td></td><td></td></tr><tr><td class="blue"></td><td></td><td></td><td class="blue"></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td class="blue"></td></tr></table></div></li><li><div>13</div><div><table border="1"><tr><td></td><td></td><td></td><td></td><td class="blue"></td></tr><tr><td class="blue"></td><td></td><td></td><td class="blue"></td><td></td></tr><tr><td></td><td class="blue"></td><td class="blue"></td><td></td><td></td></tr></table></div></li><li><div>14</div><div><table border="1"><tr><td></td><td></td><td class="blue"></td><td></td><td></td></tr><tr><td class="blue"></td><td class="blue"></td><td></td><td class="blue"></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td class="blue"></td></tr></table></div></li><li><div>15</div><div><table border="1"><tr><td></td><td></td><td></td><td></td><td class="blue"></td></tr><tr><td class="blue"></td><td class="blue"></td><td></td><td class="blue"></td><td></td></tr><tr><td></td><td></td><td class="blue"></td><td></td><td></td></tr></table></div></li><li><div>16</div><div><table border="1"><tr><td class="blue"></td><td class="blue"></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td class="blue"></td><td></td><td class="blue"></td></tr><tr><td></td><td></td><td></td><td class="blue"></td><td></td></tr></table></div></li><li><div>17</div><div><table border="1"><tr><td></td><td></td><td></td><td class="blue"></td><td></td></tr><tr><td></td><td></td><td class="blue"></td><td></td><td class="blue"></td></tr><tr><td class="blue"></td><td class="blue"></td><td></td><td></td><td></td></tr></table></div></li><li><div>18</div><div><table border="1"><tr><td></td><td class="blue"></td><td></td><td></td><td></td></tr><tr><td class="blue"></td><td></td><td class="blue"></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td class="blue"></td><td class="blue"></td></tr></table></div></li><li><div>19</div><div><table border="1"><tr><td></td><td></td><td></td><td class="blue"></td><td class="blue"></td></tr><tr><td class="blue"></td><td></td><td class="blue"></td><td></td><td></td></tr><tr><td></td><td class="blue"></td><td></td><td></td><td></td></tr></table></div></li><li><div>20</div><div><table border="1"><tr><td class="blue"></td><td class="blue"></td><td class="blue"></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td class="blue"></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td class="blue"></td></tr></table></div></li></ul>';
            return e.subscribe("platformMsg/Kernel/System.Init", a), e.subscribe("platformMsg/ClientService/Game.Init", u), e.subscribe("onBeforeShowStage", l), e.subscribe("onBeforeRequest", c), e.subscribe("onBeginNewGame", h), e.subscribe("onAbortNextStage", w), e.subscribe("onResetNextStage", S), e.subscribe("AutoSpinController.autoSpinEnd", d), e.subscribe("platformMsg/ConsoleService/Game.Control", T), e.subscribe("onStartGameInProgressStage", x), e.subscribe("toPlatformRequest", E), e.subscribe("AutoSpinController.UKAutoSpinCancelled", C), e.subscribe("audioPlayer.playerSelectedWhenGameLaunch", P), {}
        }), define("game/StatusBarController", ["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/component/currencyHelper/currencyHelper", "game/BetController", "skbJet/component/pixiResourceLoader/pixiResourceLoader"], function(e, t, n, r, i) {
            function o() {
                t.lib._statusBar.show(!1), t.lib._centerBar.setText("")
            }

            function a(e) {
                "FreeSpin" === e.response.OutcomeDetail.NextStage && (l(), d = !0, f = t.getTimer().setInterval(function() {
                    d ? t.lib._centerBar.setText(i.i18n.Game.bonusPrompt) : t.lib._centerBar.setText(""), d = !d
                }, 500))
            }

            function s() {
                u(), t.getTimer().clearInterval(f)
            }

            function u() {
                t.lib._statusBar.show(!1), t.lib._bgBar.show(!1), t.lib._centerBar.show(!1), t.lib._centerBar.setText("")
            }

            function l() {
                t.lib._statusBar.show(!0), t.lib._bgBar.show(!0), t.lib._centerBar.show(!0), t.lib._centerBar.setText("")
            }

            function c(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && a(e), "FreeSpin" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && s(e)
            }

            function h(e) {
                "BaseGame" === e.response.OutcomeDetail.Stage && "FreeSpin" === e.response.OutcomeDetail.NextStage && s(e)
            }
            var d = !1,
                f = null;
            return e.subscribe("platformMsg/ClientService/Game.Init", o), e.subscribe("onExitStage", a), e.subscribe("onEnterNextStage", s), e.subscribe("onStartGameInProgressStage", c), e.subscribe("onStartGameInProgressNextStage", h), {}
        }), require(["skbJet/component/gameMsgBus/GameMsgBus", "skbJet/component/gladPixiRenderer/gladPixiRenderer", "skbJet/componentCRDC/audioPlayer/howlerAudioSpritePlayer", "game/BackgroundController", "skbJet/component/gameMsgBus/PlatformMsgBusAdapter", "game/LoadController", "game/GameSizeController", "game/ActionButtonController", "game/FreeSpinDialog", "game/MetersController", "game/BigWinController", "game/ReelController", "game/PaytableHelpController", "game/BetController", "game/AutoSpinController", "game/StatusBarController", "game/RollUp", "game/WinlineAnimController"], function(e, t, n) {
            function r(e) {
                f = e.serverConfig.channel, d = e.serverConfig.presenttype
            }

            function i(t) {
                document.getElementById("game").style.backgroundColor = "rgba(255,255,255,0.01)", h = t.response.OutcomeDetail.NextStage, e.publish("nextState")
            }

            function o(e) {
                h = e.response.OutcomeDetail.NextStage
            }

            function a(t) {
                "FreeSpin" === t.response.OutcomeDetail.Stage && "FreeSpin" === t.response.OutcomeDetail.NextStage && e.publish("nextState")
            }

            function s() {
                document.getElementById("game").style.backgroundColor = ""
            }

            function u() {
                document.getElementById("game").style.backgroundColor = ""
            }

            function l(e) {
                if ("MIN" === d && "INT" === f) {
                    var t = !0;
                    "BaseGame" !== h && null !== localStorage.getItem("audioDefaultSwitchForDesktopmini") && "true" === localStorage.getItem("audioDefaultSwitchForDesktopmini") && (t = !1), n.muteAll(t), n.gameAudioControlChanged(t)
                }
                e && "INT" !== f && n.play("StartUp")
            }

            function c(e) {
                "MIN" === d && "INT" === f && localStorage.setItem("audioDefaultSwitchForDesktopmini", "1" !== e.value)
            }
            var h, d, f = "MOB";
            e.subscribe("platformMsg/Kernel/System.Init", r), e.subscribe("onStartGameInitial", u), e.subscribe("onBeforeShowStage", i), e.subscribe("onEnterNextStage", o), e.subscribe("onStartGameInProgressStage", s), e.subscribe("onStartGameInProgressNextStage", a), e.subscribe("audioPlayer.playerSelectedWhenGameLaunch", l), e.subscribe("platformMsg/ConsoleService/Game.Control", c)
        }), define("game", function() {})
}();
